import{Q as _}from"./selection.4308e43c.js";import{Q as v}from"./QItemLabel.b3a264de.js";import{Q as n,a as i}from"./QCard.c60a0688.js";import{M as x,X as b,aj as w,a as m,r as N,N as Q,O as B,P as r,S as a,ab as g,U as y}from"./index.d1d7854b.js";import{B as C}from"./chess-piece.cd5c1dbd.js";import{_ as R,a as A}from"./afen-info.e0f908e3.js";import{H as d}from"./hex.b9ec0a1b.js";import{F as E}from"./boards.07b20eb6.js";import{u as F}from"./use-quasar.c5b2b7cc.js";import"./use-dark.8e0bd895.js";import"./QList.2cb99a77.js";import"./focus-manager.202af5b7.js";import"./QSeparator.9485bc3c.js";const M={class:"col-lg col-md-12 full-width"},X=x({__name:"pen-pal-game",setup(V){const o=b(),c=w(),u=m(()=>{const e=Array.isArray(o.params.state)?o.params.state[0]:o.params.state;return e?d.hexToUtf8(e):E.VanillaDefault}),t=m(()=>{const e=new C;return e.importAFEN(u.value),e}),p=e=>{const l=t.value.findMoveIndex(e);l!==-1&&(t.value.executeMoveIndex(l),c.push({path:`/play/pen-pal/${d.utf8ToHex(t.value.toAFEN())}`}))},s=N(800),f=F(),h=e=>{if(f.screen.gt.md){s.value=Math.min(e.width-e.width/8-200,1200);return}s.value=e.width-e.width/8};return(e,l)=>(Q(),B(n,{flat:""},{default:r(()=>[a(i,{class:"row"},{default:r(()=>[a(_,{onResize:h}),a(R,{onExecuteNode:p,board:t.value,perspective:t.value.activeColour,"play-as":["white","black"],width:s.value},null,8,["board","perspective","width"]),g("div",M,[a(n,{flat:"",bordered:"",class:"full-height"},{default:r(()=>[a(i,{class:"bg-primary q-mb-md"},{default:r(()=>[a(v,null,{default:r(()=>[y("Board information")]),_:1})]),_:1}),a(A,{"model-value":u.value},null,8,["model-value"])]),_:1})])]),_:1})]),_:1}))}});export{X as default};
