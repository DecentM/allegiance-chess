import{a as Z,Q as ce,b as je}from"./QCard.0fdbef5c.js";import{G as kt,p as qt,t as Ct,w as $t,a as Pt,c as R,i as Pe,b as Tt,f as Ve}from"./board.b38e4f14.js";import{C as K,D as m,G as C,M as Q,I as O,_ as se,r as T,a9 as ct,a3 as Ne,q as dt,a1 as Ke,w as X,p as vt,o as he,j as me,a6 as Mt,m as He,at as Te,A as Et,am as Ft,h as H,au as Ht,av as At,aw as Bt,a as p,X as ft,Y as xt,k as xe,c as Le,a5 as Lt,e as Dt,aa as Ae,ax as Wt,s as ht,E as x,F as q,J as w,Q as ie,S as U,t as _e,ay as De,P as de,ag as D,R as W,ac as E,K as Y,L as I,az as Qt,aA as Ot,u as Rt,aB as jt,al as Vt,ao as Nt,B as Kt,ar as Gt,as as Ut}from"./index.3556de96.js";import{b as Se,a as fe,Q as mt}from"./QList.96eb2799.js";import{j as Yt,f as Xt,u as Jt,b as Zt,c as It,d as el,k as tl,e as ye,Q as Ge,i as ll,s as Ue,l as Me,T as Ye}from"./QScrollObserver.d582508a.js";import{u as We,a as Qe}from"./use-dark.c9fa46b7.js";import{b as Xe,c as al,a as ol}from"./focus-manager.202af5b7.js";import{C as ze,Q as Je}from"./chess-piece.5da95946.js";import{u as il}from"./use-quasar.b3f22186.js";var Ze=Object.freeze(Object.defineProperty({__proto__:null,GameOutcome:kt,parse:qt,tokenize:Ct,writeNode:$t,write:Pt},Symbol.toStringTag,{value:"Module"}));const nl={class:"row column full-width full-height no-pointer-events background-layer","data-testid":"background"},sl=K({__name:"background-layer",props:{ranks:{},files:{}},setup(e){return(o,a)=>(m(),C("div",nl,[(m(!0),C(Q,null,O(o.ranks,(t,n)=>(m(),C("div",{class:"rank col row full-width",key:n},[(m(!0),C(Q,null,O(o.files,(u,i)=>(m(),C("div",{key:i,class:"file col"}))),128))]))),128))]))}});var rl=se(sl,[["__scopeId","data-v-482c5e27"]]);const ul={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function cl({showing:e,avoidEmit:o,configureAnchorEl:a}){const{props:t,proxy:n,emit:u}=me(),i=T(null);let l=null;function s(r){return i.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const v={};a===void 0&&(Object.assign(v,{hide(r){n.hide(r)},toggle(r){n.toggle(r),r.qAnchorHandled=!0},toggleKey(r){ct(r,13)===!0&&v.toggle(r)},contextClick(r){n.hide(r),Ne(r),dt(()=>{n.show(r),r.qAnchorHandled=!0})},prevent:Ne,mobileTouch(r){if(v.mobileCleanup(r),s(r)!==!0)return;n.hide(r),i.value.classList.add("non-selectable");const g=r.target;Ke(v,"anchor",[[g,"touchmove","mobileCleanup","passive"],[g,"touchend","mobileCleanup","passive"],[g,"touchcancel","mobileCleanup","passive"],[i.value,"contextmenu","prevent","notPassive"]]),l=setTimeout(()=>{l=null,n.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){i.value.classList.remove("non-selectable"),l!==null&&(clearTimeout(l),l=null),e.value===!0&&r!==void 0&&Yt()}}),a=function(r=t.contextMenu){if(t.noParentEvent===!0||i.value===null)return;let g;r===!0?n.$q.platform.is.mobile===!0?g=[[i.value,"touchstart","mobileTouch","passive"]]:g=[[i.value,"mousedown","hide","passive"],[i.value,"contextmenu","contextClick","notPassive"]]:g=[[i.value,"click","toggle","passive"],[i.value,"keyup","toggleKey","passive"]],Ke(v,"anchor",g)});function h(){Mt(v,"anchor")}function _(r){for(i.value=r;i.value.classList.contains("q-anchor--skip");)i.value=i.value.parentNode;a()}function $(){if(t.target===!1||t.target===""||n.$el.parentNode===null)i.value=null;else if(t.target===!0)_(n.$el.parentNode);else{let r=t.target;if(typeof t.target=="string")try{r=document.querySelector(t.target)}catch{r=void 0}r!=null?(i.value=r.$el||r,a()):(i.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return X(()=>t.contextMenu,r=>{i.value!==null&&(h(),a(r))}),X(()=>t.target,()=>{i.value!==null&&h(),$()}),X(()=>t.noParentEvent,r=>{i.value!==null&&(r===!0?h():a())}),vt(()=>{$(),o!==!0&&t.modelValue===!0&&i.value===null&&u("update:modelValue",!1)}),he(()=>{l!==null&&clearTimeout(l),h()}),{anchorEl:i,canShow:s,anchorEvents:v}}function dl(e,o){const a=T(null);let t;function n(l,s){const v=`${s!==void 0?"add":"remove"}EventListener`,h=s!==void 0?s:t;l!==window&&l[v]("scroll",h,He.passive),window[v]("scroll",h,He.passive),t=s}function u(){a.value!==null&&(n(a.value),a.value=null)}const i=X(()=>e.noParentEvent,()=>{a.value!==null&&(u(),o())});return he(i),{localScrollTarget:a,unconfigureScrollTarget:u,changeScrollEvent:n}}const ve=[];function vl(e,o){do{if(e.$options.name==="QMenu"){if(e.hide(o),e.$props.separateClosePopup===!0)return Te(e)}else if(e.__qPortal===!0){const a=Te(e);return a!==void 0&&a.$options.name==="QPopupProxy"?(e.hide(o),a):e}e=Te(e)}while(e!=null)}function fl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function hl(e,o,a,t){const n=T(!1),u=T(!1);let i=null;const l={},s=t==="dialog"&&fl(e);function v(_){if(_===!0){Xe(l),u.value=!0;return}u.value=!1,n.value===!1&&(s===!1&&i===null&&(i=At(!1,t)),n.value=!0,ve.push(e.proxy),al(l))}function h(_){if(u.value=!1,_!==!0)return;Xe(l),n.value=!1;const $=ve.indexOf(e.proxy);$!==-1&&ve.splice($,1),i!==null&&(Bt(i),i=null)}return Et(()=>{h(!0)}),e.proxy.__qPortal=!0,Ft(e.proxy,"contentEl",()=>o.value),{showPortal:v,hidePortal:h,portalIsActive:n,portalIsAccessible:u,renderPortal:()=>s===!0?a():n.value===!0?[H(Ht,{to:i},a())]:void 0}}const ml={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function pl(e,o=()=>{},a=()=>{}){return{transitionProps:p(()=>{const t=`q-transition--${e.transitionShow||o()}`,n=`q-transition--${e.transitionHide||a()}`;return{appear:!0,enterFromClass:`${t}-enter-from`,enterActiveClass:`${t}-enter-active`,enterToClass:`${t}-enter-to`,leaveFromClass:`${n}-leave-from`,leaveActiveClass:`${n}-leave-active`,leaveToClass:`${n}-leave-to`}}),transitionStyle:p(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function gl(){let e;const o=me();function a(){e=void 0}return ft(a),he(a),{removeTick:a,registerTick(t){e=t,dt(()=>{e===t&&(xt(o)===!1&&e(),e=void 0)})}}}const ee=[];let ne;function bl(e){ne=e.keyCode===27}function yl(){ne===!0&&(ne=!1)}function _l(e){ne===!0&&(ne=!1,ct(e,27)===!0&&ee[ee.length-1](e))}function pt(e){window[e]("keydown",bl),window[e]("blur",yl),window[e]("keyup",_l),ne=!1}function Sl(e){xe.is.desktop===!0&&(ee.push(e),ee.length===1&&pt("addEventListener"))}function Ie(e){const o=ee.indexOf(e);o>-1&&(ee.splice(o,1),ee.length===0&&pt("removeEventListener"))}const te=[];function gt(e){te[te.length-1](e)}function zl(e){xe.is.desktop===!0&&(te.push(e),te.length===1&&document.body.addEventListener("focusin",gt))}function wl(e){const o=te.indexOf(e);o>-1&&(te.splice(o,1),te.length===0&&document.body.removeEventListener("focusin",gt))}const{notPassiveCapture:we}=He,le=[];function ke(e){const o=e.target;if(o===void 0||o.nodeType===8||o.classList.contains("no-pointer-events")===!0)return;let a=ve.length-1;for(;a>=0;){const t=ve[a].$;if(t.type.name==="QTooltip"){a--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;a--}for(let t=le.length-1;t>=0;t--){const n=le[t];if((n.anchorEl.value===null||n.anchorEl.value.contains(o)===!1)&&(o===document.body||n.innerRef.value!==null&&n.innerRef.value.contains(o)===!1))e.qClickOutside=!0,n.onClickOutside(e);else return}}function kl(e){le.push(e),le.length===1&&(document.addEventListener("mousedown",ke,we),document.addEventListener("touchstart",ke,we))}function et(e){const o=le.findIndex(a=>a===e);o>-1&&(le.splice(o,1),le.length===0&&(document.removeEventListener("mousedown",ke,we),document.removeEventListener("touchstart",ke,we)))}let tt,lt;function at(e){const o=e.split(" ");return o.length!==2?!1:["top","center","bottom"].includes(o[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(o[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function ql(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Be={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Be[`${e}#ltr`]=e,Be[`${e}#rtl`]=e});function ot(e,o){const a=e.split(" ");return{vertical:a[0],horizontal:Be[`${a[1]}#${o===!0?"rtl":"ltr"}`]}}function Cl(e,o){let{top:a,left:t,right:n,bottom:u,width:i,height:l}=e.getBoundingClientRect();return o!==void 0&&(a-=o[1],t-=o[0],u+=o[1],n+=o[0],i+=o[0],l+=o[1]),{top:a,bottom:u,height:l,left:t,right:n,width:i,middle:t+(n-t)/2,center:a+(u-a)/2}}function $l(e,o,a){let{top:t,left:n}=e.getBoundingClientRect();return t+=o.top,n+=o.left,a!==void 0&&(t+=a[1],n+=a[0]),{top:t,bottom:t+1,height:1,left:n,right:n+1,width:1,middle:n,center:t}}function Pl(e,o){return{top:0,center:o/2,bottom:o,left:0,middle:e/2,right:e}}function it(e,o,a,t){return{top:e[a.vertical]-o[t.vertical],left:e[a.horizontal]-o[t.horizontal]}}function bt(e,o=0){if(e.targetEl===null||e.anchorEl===null||o>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{bt(e,o+1)},10);return}const{targetEl:a,offset:t,anchorEl:n,anchorOrigin:u,selfOrigin:i,absoluteOffset:l,fit:s,cover:v,maxHeight:h,maxWidth:_}=e;if(xe.is.ios===!0&&window.visualViewport!==void 0){const F=document.body.style,{offsetLeft:b,offsetTop:M}=window.visualViewport;b!==tt&&(F.setProperty("--q-pe-left",b+"px"),tt=b),M!==lt&&(F.setProperty("--q-pe-top",M+"px"),lt=M)}const{scrollLeft:$,scrollTop:r}=a,g=l===void 0?Cl(n,v===!0?[0,0]:t):$l(n,l,t);Object.assign(a.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:_||"100vw",maxHeight:h||"100vh",visibility:"visible"});const{offsetWidth:L,offsetHeight:f}=a,{elWidth:B,elHeight:N}=s===!0||v===!0?{elWidth:Math.max(g.width,L),elHeight:v===!0?Math.max(g.height,f):f}:{elWidth:L,elHeight:f};let A={maxWidth:_,maxHeight:h};(s===!0||v===!0)&&(A.minWidth=g.width+"px",v===!0&&(A.minHeight=g.height+"px")),Object.assign(a.style,A);const d=Pl(B,N);let S=it(g,d,u,i);if(l===void 0||t===void 0)Ee(S,g,d,u,i);else{const{top:F,left:b}=S;Ee(S,g,d,u,i);let M=!1;if(S.top!==F){M=!0;const k=2*t[1];g.center=g.top-=k,g.bottom-=k+2}if(S.left!==b){M=!0;const k=2*t[0];g.middle=g.left-=k,g.right-=k+2}M===!0&&(S=it(g,d,u,i),Ee(S,g,d,u,i))}A={top:S.top+"px",left:S.left+"px"},S.maxHeight!==void 0&&(A.maxHeight=S.maxHeight+"px",g.height>S.maxHeight&&(A.minHeight=A.maxHeight)),S.maxWidth!==void 0&&(A.maxWidth=S.maxWidth+"px",g.width>S.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(a.style,A),a.scrollTop!==r&&(a.scrollTop=r),a.scrollLeft!==$&&(a.scrollLeft=$)}function Ee(e,o,a,t,n){const u=a.bottom,i=a.right,l=Xt(),s=window.innerHeight-l,v=document.body.clientWidth;if(e.top<0||e.top+u>s)if(n.vertical==="center")e.top=o[t.vertical]>s/2?Math.max(0,s-u):0,e.maxHeight=Math.min(u,s);else if(o[t.vertical]>s/2){const h=Math.min(s,t.vertical==="center"?o.center:t.vertical===n.vertical?o.bottom:o.top);e.maxHeight=Math.min(u,h),e.top=Math.max(0,h-u)}else e.top=Math.max(0,t.vertical==="center"?o.center:t.vertical===n.vertical?o.top:o.bottom),e.maxHeight=Math.min(u,s-e.top);if(e.left<0||e.left+i>v)if(e.maxWidth=Math.min(i,v),n.horizontal==="middle")e.left=o[t.horizontal]>v/2?Math.max(0,v-i):0;else if(o[t.horizontal]>v/2){const h=Math.min(v,t.horizontal==="middle"?o.middle:t.horizontal===n.horizontal?o.right:o.left);e.maxWidth=Math.min(i,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?o.middle:t.horizontal===n.horizontal?o.left:o.right),e.maxWidth=Math.min(i,v-e.left)}var yt=Le({name:"QMenu",inheritAttrs:!1,props:{...ul,...Jt,...We,...ml,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:at},self:{type:String,validator:at},offset:{type:Array,validator:ql},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Zt,"click","escapeKey"],setup(e,{slots:o,emit:a,attrs:t}){let n=null,u,i,l;const s=me(),{proxy:v}=s,{$q:h}=v,_=T(null),$=T(!1),r=p(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),g=Qe(e,h),{registerTick:L,removeTick:f}=gl(),{registerTimeout:B}=It(),{transitionProps:N,transitionStyle:A}=pl(e),{localScrollTarget:d,changeScrollEvent:S,unconfigureScrollTarget:F}=dl(e,be),{anchorEl:b,canShow:M}=cl({showing:$}),{hide:k}=el({showing:$,canShow:M,handleShow:oe,handleHide:qe,hideOnRouteChange:r,processOnMount:!0}),{showPortal:J,hidePortal:V,renderPortal:G}=hl(s,_,St,"menu"),re={anchorEl:b,innerRef:_,onClickOutside(z){if(e.persistent!==!0&&$.value===!0)return k(z),(z.type==="touchstart"||z.target.classList.contains("q-dialog__backdrop"))&&ht(z),!0}},pe=p(()=>ot(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),ae=p(()=>e.cover===!0?pe.value:ot(e.self||"top start",h.lang.rtl)),c=p(()=>(e.square===!0?" q-menu--square":"")+(g.value===!0?" q-menu--dark q-dark":"")),y=p(()=>e.autoClose===!0?{onClick:_t}:{}),P=p(()=>$.value===!0&&e.persistent!==!0);X(P,z=>{z===!0?(Sl(Ce),kl(re)):(Ie(Ce),et(re))});function j(){ol(()=>{let z=_.value;z&&z.contains(document.activeElement)!==!0&&(z=z.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||z.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||z.querySelector("[autofocus], [data-autofocus]")||z,z.focus({preventScroll:!0}))})}function oe(z){if(n=e.noRefocus===!1?document.activeElement:null,zl(Re),J(),be(),u=void 0,z!==void 0&&(e.touchPosition||e.contextMenu)){const $e=Lt(z);if($e.left!==void 0){const{top:zt,left:wt}=b.value.getBoundingClientRect();u={left:$e.left-wt,top:$e.top-zt}}}i===void 0&&(i=X(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,ue)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{ue(),e.noFocus!==!0&&j()}),B(()=>{h.platform.is.ios===!0&&(l=e.autoClose,_.value.click()),ue(),J(!0),a("show",z)},e.transitionDuration)}function qe(z){f(),V(),ge(!0),n!==null&&(z===void 0||z.qClickOutside!==!0)&&(((z&&z.type.indexOf("key")===0?n.closest('[tabindex]:not([tabindex^="-"])'):void 0)||n).focus(),n=null),B(()=>{V(!0),a("hide",z)},e.transitionDuration)}function ge(z){u=void 0,i!==void 0&&(i(),i=void 0),(z===!0||$.value===!0)&&(wl(Re),F(),et(re),Ie(Ce)),z!==!0&&(n=null)}function be(){(b.value!==null||e.scrollTarget!==void 0)&&(d.value=tl(b.value,e.scrollTarget),S(d.value,ue))}function _t(z){l!==!0?(vl(v,z),a("click",z)):l=!1}function Re(z){P.value===!0&&e.noFocus!==!0&&Wt(_.value,z.target)!==!0&&j()}function Ce(z){a("escapeKey"),k(z)}function ue(){bt({targetEl:_.value,offset:e.offset,anchorEl:b.value,anchorOrigin:pe.value,selfOrigin:ae.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function St(){return H(Ae,N.value,()=>$.value===!0?H("div",{role:"menu",...t,ref:_,tabindex:-1,class:["q-menu q-position-engine scroll"+c.value,t.class],style:[t.style,A.value],...y.value},Dt(o.default)):null)}return he(ge),Object.assign(v,{focus:j,updatePosition:ue}),G}});const Tl=K({__name:"promotion-selector",props:{modelValue:{type:Boolean},allegiance:{}},emits:["click","dismiss"],setup(e,{emit:o}){const a=["Q","N","R","B"],t=()=>{o("dismiss")};return(n,u)=>(m(),x(yt,{cover:"","model-value":n.modelValue,"onUpdate:modelValue":t},{default:q(()=>[w(mt,null,{default:q(()=>[(m(),C(Q,null,O(a,i=>w(Se,{clickable:"",key:i,class:"q-pa-sm",onClick:l=>o("click",i)},{default:q(()=>[w(fe,{class:"promotion-piece items-center"},{default:q(()=>[w(ze,{allegiance:n.allegiance,piece:i,size:92},null,8,["allegiance","piece"])]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1},8,["model-value"]))}});var Ml=se(Tl,[["__scopeId","data-v-370c2c26"]]);const El=K({__name:"capture-selector",props:{modelValue:{type:Boolean},moves:{}},emits:["click","dismiss"],setup(e,{emit:o}){const a=()=>{o("dismiss")};return(t,n)=>(m(),x(yt,{cover:"","model-value":t.modelValue,"onUpdate:modelValue":a},{default:q(()=>[w(mt,null,{default:q(()=>[t.moves.includes("x")?(m(),x(Se,{key:0,clickable:"",onClick:n[0]||(n[0]=u=>o("click","capture")),class:"q-py-lg"},{default:q(()=>[w(fe,{class:"items-center"},{default:q(()=>[w(ie,{size:"72px",name:"close"})]),_:1})]),_:1})):U("",!0),t.moves.includes(">")?(m(),x(Se,{key:1,clickable:"",onClick:n[1]||(n[1]=u=>o("click","challenge")),class:"q-py-lg"},{default:q(()=>[w(fe,{class:"items-center"},{default:q(()=>[w(ie,{size:"64px",name:"arrow_forward_ios"})]),_:1})]),_:1})):U("",!0)]),_:1})]),_:1},8,["model-value"]))}});const Fl={class:"relative-position full-width full-height interaction-layer"},Hl=["onClick"],Al=K({__name:"interaction-layer",props:{board:{},squareSize:{},ranks:{},files:{},perspective:{},pieceFocus:{}},emits:["execute-node","update-piece-focus","update-highlights"],setup(e,{emit:o}){const a=e,t=T(null),n=p(()=>a.board.enPassantTarget),u=T(null),i=T(null),l=p(()=>a.pieceFocus?a.board.getSquare(a.pieceFocus):null),s=p(()=>a.pieceFocus?a.board.getValidMoves(a.pieceFocus).map(F=>F.kind!=="move"?null:F.to).filter(Boolean):[]),v=d=>{const S=a.board.getSquare(d);return S?Tt(S.allegiance)!==a.perspective:!1},h=d=>s.value.some(S=>S&&R(d,S)),_=(d,S)=>{var b,M;if(S.stopPropagation(),S.preventDefault(),h(d)&&a.pieceFocus&&l.value){if(n.value&&R(n.value,d))o("execute-node",{kind:"move",type:"en-passant",from:a.pieceFocus,to:d}),o("update-piece-focus",null);else if(Pe(d,a.board.activeColour)&&l&&l.value.piece===null){u.value=d;const k=a.board.getSquare(a.pieceFocus);i.value=(b=k==null?void 0:k.allegiance)!=null?b:null}else a.board.getSquare(d)?t.value=d:((M=l.value)==null?void 0:M.piece)==="K"&&Math.abs(a.pieceFocus.file-d.file)>1?o("execute-node",{kind:"move",type:"castle",side:d.file===7?"king":"queen",from:a.pieceFocus,to:d}):o("execute-node",{kind:"move",from:a.pieceFocus,to:d});return}if(v(d))return;const F=a.board.getSquare(d);o("update-piece-focus",F?d:null)},$=(d,S)=>{!a.pieceFocus||(u.value=null,o("execute-node",{kind:"move",type:"promotion",from:a.pieceFocus,to:d,promotionTo:S}),o("update-piece-focus",null))},r=()=>{u.value=null,i.value=null},g=()=>{t.value=null},L=d=>{!a.pieceFocus||!t.value||(d==="capture"?o("execute-node",{kind:"move",type:"capture",from:a.pieceFocus,to:t.value}):o("execute-node",{kind:"move",type:"allegiance",from:a.pieceFocus,to:t.value}),t.value=null,o("update-piece-focus",null))},f=(d,S)=>{const F=d+1,b=S+1;return a.perspective==="white"?{file:F,rank:9-b}:{file:9-F,rank:b}},B=d=>!a.board.getSquare(d),N=(d,S,F)=>a.board.getValidMoves().some(M=>M.kind==="move"&&R(M.to,F)&&R(M.from,S)&&M.type===d),A=p(()=>{const d=[];return!a.pieceFocus||!t.value||(N("allegiance",a.pieceFocus,t.value)&&d.push(">"),N("capture",a.pieceFocus,t.value)&&d.push("x")),d});return(d,S)=>(m(),C("div",Fl,[(m(!0),C(Q,null,O(d.ranks,(F,b)=>(m(),C("div",{class:"col column row full-width",key:b},[(m(!0),C(Q,null,O(d.files,(M,k)=>{var J,V;return m(),C("div",{key:k,class:"full-height"},[_e((m(),C("div",{class:de(["absolute",{"cursor-pointer":!B(f(k,b))||h(f(k,b)),"cursor-not-allowed":v(f(k,b))&&!l.value}]),onClick:G=>_(f(k,b),G),style:D(d.perspective==="white"?{width:`${d.squareSize}px`,height:`${d.squareSize}px`,left:`${(f(k,b).file-1)*d.squareSize}px`,bottom:`${(f(k,b).rank-1)*d.squareSize}px`}:{width:`${d.squareSize}px`,height:`${d.squareSize}px`,right:`${(f(k,b).file-1)*d.squareSize}px`,top:`${(f(k,b).rank-1)*d.squareSize}px`})},[t.value&&W(R)(t.value,f(k,b))?(m(),x(El,{key:0,moves:A.value,"model-value":(J=W(R)(t.value,f(k,b)))!=null?J:!1,size:d.squareSize,onClick:L,onDismiss:g},null,8,["moves","model-value","size"])):U("",!0),i.value!==null&&(W(Pe)(f(k,b),"white")||W(Pe)(f(k,b),"black"))?(m(),x(Ml,{key:1,"model-value":(V=W(R)(u.value,f(k,b)))!=null?V:!1,allegiance:i.value,size:d.squareSize,onClick:G=>$(f(k,b),G),onDismiss:r},null,8,["model-value","allegiance","size","onClick"])):U("",!0)],14,Hl)),[[De,!B(f(k,b))&&!v(f(k,b))]])])}),128))]))),128))]))}});var Bl=se(Al,[["__scopeId","data-v-40d593bc"]]);const xl={class:"relative-position full-width full-height column no-pointer-events indicators-layer"},Ll=K({__name:"indicators-layer",props:{board:{},ranks:{},files:{},squareSize:{},perspective:{},pieceFocus:{},lastMove:{}},setup(e){const o=e,a=p(()=>o.pieceFocus?o.board.getValidMoves(o.pieceFocus).map(h=>h.kind!=="move"?null:h.to).filter(Boolean):[]),t=s=>a.value.some(v=>v&&R(s,v)),n=s=>!o.board.getSquare(s),u=(s,v)=>{const h=s+1,_=v+1;return o.perspective==="white"?{file:h,rank:9-_}:{file:9-h,rank:_}},i=p(()=>o.board.getCheckMoves()),l=s=>i.value.some(v=>v.kind==="move"&&R(v.to,s));return(s,v)=>(m(),C("div",xl,[(m(!0),C(Q,null,O(s.ranks,(h,_)=>(m(),C("div",{class:"col column row full-width",key:_},[(m(!0),C(Q,null,O(s.files,($,r)=>{var g,L;return m(),C("div",{key:r,class:de(["full-height move-placeholder",{even:_%2===0?r%2===0:r%2!==0,focus:W(R)(s.pieceFocus,u(r,_)),show:t(u(r,_)),capture:!n(u(r,_)),target:n(u(r,_)),checked:l(u(r,_)),"last-from":((g=s.lastMove)==null?void 0:g.kind)==="move"&&W(R)(s.lastMove.from,u(r,_)),"last-to":((L=s.lastMove)==null?void 0:L.kind)==="move"&&W(R)(s.lastMove.to,u(r,_))}])},null,2)}),128))]))),128))]))}});var Dl=se(Ll,[["__scopeId","data-v-b504cbe8"]]);const Wl={class:"relative-position full-width full-height no-pointer-events pieces-layer"},Ql=K({__name:"pieces-layer",props:{modelValue:{},squareSize:{},perspective:{}},setup(e){return(o,a)=>(m(),C("div",Wl,[(m(!0),C(Q,null,O(o.modelValue,(t,n)=>(m(),C("div",{key:n},[t?(m(),x(ze,{key:0,"data-testid":"piece",class:"absolute",piece:t.piece,allegiance:t.allegiance,size:o.squareSize,style:D(o.perspective==="white"?{left:`${(t.file-1)*o.squareSize}px`,bottom:`${(t.rank-1)*o.squareSize}px`}:{right:`${(t.file-1)*o.squareSize}px`,top:`${(t.rank-1)*o.squareSize}px`})},null,8,["piece","allegiance","size","style"])):(m(),C("div",{key:1,style:D({width:`${o.squareSize}px`,height:`${o.squareSize}px`})},null,4))]))),128))]))}});var Ol=se(Ql,[["__scopeId","data-v-fc205e14"]]);const Rl={class:"absolute full-width full-height"},jl={class:"absolute full-width full-height"},Vl={class:"absolute full-width full-height"},Nl={class:"absolute full-width full-height"},Kl=K({__name:"board-table",props:{board:{},width:{},perspective:{},playAs:{}},emits:["execute-node"],setup(e,{emit:o}){const a=e,t=p(()=>a.width/8),n=T(null),u=l=>{o("execute-node",l),n.value=null},i=p(()=>{var s;return(s=a.board.getMoveHistoryAst().children.at(-1))!=null?s:null});return(l,s)=>(m(),C("div",{"data-testid":"chess-board",class:"relative-position column",style:D({width:a.width+"px",height:a.width+"px"})},[E("div",Rl,[w(rl,{ranks:8,files:8})]),E("div",jl,[w(Dl,{board:l.board,"square-size":t.value,files:8,ranks:8,perspective:l.perspective,"piece-focus":n.value,"last-move":i.value},null,8,["board","square-size","perspective","piece-focus","last-move"])]),E("div",Vl,[w(Ol,{"model-value":l.board.getSquares(),perspective:a.perspective,"square-size":t.value},null,8,["model-value","perspective","square-size"])]),E("div",Nl,[w(Bl,{onExecuteNode:u,onUpdatePieceFocus:s[0]||(s[0]=v=>n.value=v),"piece-focus":n.value,board:l.board,"square-size":t.value,files:8,ranks:8,perspective:a.perspective},null,8,["piece-focus","board","square-size","perspective"])])],4))}}),Gl={class:"column"},Ul={class:"row"},Yl={class:"col"},ma=K({__name:"chess-board",props:{board:{},width:{},perspective:{},playAs:{}},emits:["execute-node"],setup(e,{emit:o}){const a=e,t=p(()=>a.width/8/2.5);return(n,u)=>(m(),C("div",{style:D({width:`${n.width}px`})},[E("div",Gl,[E("div",{class:"row",style:D({height:`${t.value}px`})},[E("div",{style:D({width:`${t.value}px`})},null,4),(m(),C(Q,null,O(8,(i,l)=>w(ce,{key:l,class:"col column full-height justify-center",flat:""},{default:q(()=>[w(Z,{class:"text-center q-pa-none"},{default:q(()=>[Y(I(W(Ve)(n.perspective==="white"?9-(8-l):8-l).toUpperCase()),1)]),_:2},1024)]),_:2},1024)),64)),E("div",{style:D({width:`${t.value}px`})},null,4)],4),E("div",Ul,[E("div",{class:"column",style:D({width:`${t.value}px`})},[(m(),C(Q,null,O(8,(i,l)=>w(ce,{key:l,class:"col column full-height justify-center text-center",flat:""},{default:q(()=>[w(Z,{class:"q-pa-none"},{default:q(()=>[Y(I(n.perspective==="white"?8-l:9-(8-l)),1)]),_:2},1024)]),_:2},1024)),64))],4),E("div",Yl,[w(Kl,{onExecuteNode:u[0]||(u[0]=i=>o("execute-node",i)),board:n.board,perspective:n.perspective,"play-as":n.playAs,width:n.width-t.value*2},null,8,["board","perspective","play-as","width"])]),E("div",{class:"column",style:D({width:`${t.value}px`})},[(m(),C(Q,null,O(8,(i,l)=>w(ce,{key:l,class:"col column full-height justify-center text-center",flat:""},{default:q(()=>[w(Z,{class:"q-pa-none"},{default:q(()=>[Y(I(n.perspective==="white"?8-l:9-(8-l)),1)]),_:2},1024)]),_:2},1024)),64))],4)]),E("div",{class:"row",style:D({height:`${t.value}px`})},[E("div",{style:D({width:`${t.value}px`})},null,4),(m(),C(Q,null,O(8,(i,l)=>w(ce,{key:l,class:"col column full-height justify-center",flat:""},{default:q(()=>[w(Z,{class:"text-center q-pa-none"},{default:q(()=>[Y(I(W(Ve)(n.perspective==="white"?9-(8-l):8-l).toUpperCase()),1)]),_:2},1024)]),_:2},1024)),64)),E("div",{style:D({width:`${t.value}px`})},null,4)],4)])],4))}}),Xl={xs:8,sm:10,md:14,lg:20,xl:24};var nt=Le({name:"QChip",props:{...We,...Qt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:a}){const{proxy:{$q:t}}=me(),n=Qe(e,t),u=Ot(e,Xl),i=p(()=>e.selected===!0||e.icon!==void 0),l=p(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),s=p(()=>e.iconRemove||t.iconSet.chip.remove),v=p(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=p(()=>{const f=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(f?` text-${f} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(v.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(n.value===!0?" q-chip--dark q-dark":"")}),_=p(()=>{const f=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},B={...f,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:f,remove:B}});function $(f){f.keyCode===13&&r(f)}function r(f){e.disable||(a("update:selected",!e.selected),a("click",f))}function g(f){(f.keyCode===void 0||f.keyCode===13)&&(ht(f),e.disable===!1&&(a("update:modelValue",!1),a("remove")))}function L(){const f=[];v.value===!0&&f.push(H("div",{class:"q-focus-helper"})),i.value===!0&&f.push(H(ie,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const B=e.label!==void 0?[H("div",{class:"ellipsis"},[e.label])]:void 0;return f.push(H("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},jt(o.default,B))),e.iconRight&&f.push(H(ie,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&f.push(H(ie,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,..._.value.remove,onClick:g,onKeyup:g})),f}return()=>{if(e.modelValue===!1)return;const f={class:h.value,style:u.value};return v.value===!0&&Object.assign(f,_.value.chip,{onClick:r,onKeyup:$}),Rt("div",f,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[De,e.ripple]])}}});const st=["vertical","horizontal"],Fe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},rt={prevent:!0,mouse:!0,mouseAllDir:!0},ut=e=>e>=250?50:Math.ceil(e/5);var Jl=Le({name:"QScrollArea",props:{...We,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:o,emit:a}){const t=T(!1),n=T(!1),u=T(!1),i={vertical:T(0),horizontal:T(0)},l={vertical:{ref:T(null),position:T(0),size:T(0)},horizontal:{ref:T(null),position:T(0),size:T(0)}},{proxy:s}=me(),v=Qe(e,s.$q);let h=null,_;const $=T(null),r=p(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=p(()=>{const c=l.vertical.size.value-i.vertical.value;if(c<=0)return 0;const y=ye(l.vertical.position.value/c,0,1);return Math.round(y*1e4)/1e4}),l.vertical.thumbHidden=p(()=>(e.visible===null?u.value:e.visible)!==!0&&t.value===!1&&n.value===!1||l.vertical.size.value<=i.vertical.value+1),l.vertical.thumbStart=p(()=>l.vertical.percentage.value*(i.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=p(()=>Math.round(ye(i.vertical.value*i.vertical.value/l.vertical.size.value,ut(i.vertical.value),i.vertical.value))),l.vertical.style=p(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=p(()=>{const c=l.horizontal.size.value-i.horizontal.value;if(c<=0)return 0;const y=ye(Math.abs(l.horizontal.position.value)/c,0,1);return Math.round(y*1e4)/1e4}),l.horizontal.thumbHidden=p(()=>(e.visible===null?u.value:e.visible)!==!0&&t.value===!1&&n.value===!1||l.horizontal.size.value<=i.horizontal.value+1),l.horizontal.thumbStart=p(()=>l.horizontal.percentage.value*(i.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=p(()=>Math.round(ye(i.horizontal.value*i.horizontal.value/l.horizontal.size.value,ut(i.horizontal.value),i.horizontal.value))),l.horizontal.style=p(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[s.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=p(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=p(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=p(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),L=[[Ye,c=>{b(c,"vertical")},void 0,{vertical:!0,...rt}]],f=[[Ye,c=>{b(c,"horizontal")},void 0,{horizontal:!0,...rt}]];function B(){const c={};return st.forEach(y=>{const P=l[y];c[y+"Position"]=P.position.value,c[y+"Percentage"]=P.percentage.value,c[y+"Size"]=P.size.value,c[y+"ContainerSize"]=i[y].value}),c}const N=Vt(()=>{const c=B();c.ref=s,a("scroll",c)},0);function A(c,y,P){if(st.includes(c)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(c==="vertical"?Ue:Me)($.value,y,P)}function d({height:c,width:y}){let P=!1;i.vertical.value!==c&&(i.vertical.value=c,P=!0),i.horizontal.value!==y&&(i.horizontal.value=y,P=!0),P===!0&&V()}function S({position:c}){let y=!1;l.vertical.position.value!==c.top&&(l.vertical.position.value=c.top,y=!0),l.horizontal.position.value!==c.left&&(l.horizontal.position.value=c.left,y=!0),y===!0&&V()}function F({height:c,width:y}){l.horizontal.size.value!==y&&(l.horizontal.size.value=y,V()),l.vertical.size.value!==c&&(l.vertical.size.value=c,V())}function b(c,y){const P=l[y];if(c.isFirst===!0){if(P.thumbHidden.value===!0)return;_=P.position.value,n.value=!0}else if(n.value!==!0)return;c.isFinal===!0&&(n.value=!1);const j=Fe[y],oe=i[y].value,qe=(P.size.value-oe)/(oe-P.thumbSize.value),ge=c.distance[j.dist],be=_+(c.direction===j.dir?1:-1)*ge*qe;G(be,y)}function M(c,y){const P=l[y];if(P.thumbHidden.value!==!0){const j=c[Fe[y].offset];if(j<P.thumbStart.value||j>P.thumbStart.value+P.thumbSize.value){const oe=j-P.thumbSize.value/2;G(oe/i[y].value*P.size.value,y)}P.ref.value!==null&&P.ref.value.dispatchEvent(new MouseEvent(c.type,c))}}function k(c){M(c,"vertical")}function J(c){M(c,"horizontal")}function V(){t.value=!0,h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,t.value=!1},e.delay),e.onScroll!==void 0&&N()}function G(c,y){$.value[Fe[y].scroll]=c}function re(){u.value=!0}function pe(){u.value=!1}let ae=null;return X(()=>s.$q.lang.rtl,c=>{$.value!==null&&Me($.value,Math.abs(l.horizontal.position.value)*(c===!0?-1:1))}),ft(()=>{ae={top:l.vertical.position.value,left:l.horizontal.position.value}}),Nt(()=>{if(ae===null)return;const c=$.value;c!==null&&(Me(c,ae.left),Ue(c,ae.top))}),he(N.cancel),Object.assign(s,{getScrollTarget:()=>$.value,getScroll:B,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:A,setScrollPercentage(c,y,P){A(c,y*(l[c].size.value-i[c].value)*(c==="horizontal"&&s.$q.lang.rtl===!0?-1:1),P)}}),()=>H("div",{class:r.value,onMouseenter:re,onMouseleave:pe},[H("div",{ref:$,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[H("div",{class:"q-scrollarea__content absolute",style:g.value},Kt(o.default,[H(Ge,{debounce:0,onResize:F})])),H(ll,{axis:"both",onScroll:S})]),H(Ge,{debounce:0,onResize:d}),H("div",{class:l.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:k}),H("div",{class:l.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:J}),_e(H("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),L),_e(H("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),f)])}});const Oe=e=>(Gt("data-v-5d6f4010"),e=e(),Ut(),e),Zl=Oe(()=>E("div",{class:"text-h6"},"Your turn!",-1)),Il=Oe(()=>E("div",{class:"text-h6"},"Waiting for opponent...",-1)),ea=Oe(()=>E("div",{class:"spacer col"},null,-1)),ta={"data-testid":"afen"},la={"data-testid":"move-history"},aa={key:0,class:"col"},oa={key:0,class:"col"},ia=K({__name:"game-sidebar",props:{moveHistory:{},activeColour:{},ownColour:{},afen:{}},setup(e){const o=e,a=p(()=>{const i=[];return o.moveHistory.children.forEach(l=>{const s=i.at(-1);if(!s||s.length!==1){i.push([l]);return}s.push(l)}),i}),t=T(null);X(a,()=>{!t.value||t.value.setScrollPosition("vertical",a.value.length*36,1e3)}),vt(()=>{!t.value||t.value.setScrollPosition("vertical",a.value.length*36,1e3)});const n=il(),u=()=>{if(!!o.afen)try{navigator.clipboard.writeText(o.afen),n.notify({position:"bottom-right",timeout:4e3,message:"AFEN copied to clipboard",icon:"content_copy"})}catch{n.notify({position:"bottom-right",timeout:4e3,message:"Could not write to clipboard",icon:"close",iconColor:"red"})}};return(i,l)=>(m(),x(ce,{flat:"",bordered:"",class:"q-ma-md full-height column justify-between","data-testid":"game-sidebar"},{default:q(()=>[w(Ae,{mode:"out-in"},{default:q(()=>[i.activeColour===i.ownColour?(m(),x(Z,{key:0,class:"bg-primary text-white q-mb-md"},{default:q(()=>[Zl]),_:1})):(m(),x(Z,{key:1,class:"bg-grey text-black q-mb-md"},{default:q(()=>[Il]),_:1}))]),_:1}),ea,E("div",ta,[w(je),_e((m(),x(Se,{clickable:"",onClick:u},{default:q(()=>[w(fe,{class:"q-mt-sm q-mb-sm"},{default:q(()=>[w(Je,null,{default:q(()=>[Y("AFEN")]),_:1}),w(Je,{caption:"",lines:"2"},{default:q(()=>[Y(I(i.afen),1)]),_:1})]),_:1}),w(fe,{side:""},{default:q(()=>[w(ie,{name:"edit"})]),_:1})]),_:1})),[[De]])]),E("div",la,[w(je),w(W(Jl),{style:{height:"500px"},ref_key:"moveHistoryScrollArea",ref:t},{default:q(()=>[(m(!0),C(Q,null,O(a.value,(s,v)=>(m(),x(Z,{key:v,horizontal:"",class:de(["row q-py-none q-mx-md",{"q-pt-md":v===0,"q-pb-md":v===a.value.length-1}])},{default:q(()=>[s[0]?(m(),C("div",aa,[w(nt,{ripple:!1,class:de(["white-move",{highlight:s[0].kind!=="move"}])},{default:q(()=>[s[0].kind==="move"&&s[0].piece?(m(),x(ze,{key:0,piece:s[0].piece,allegiance:3,size:24},null,8,["piece"])):U("",!0),Y(" "+I(W(Ze).writeNode(s[0])),1)]),_:2},1032,["class"])])):U("",!0),w(Ae,{mode:"out-in"},{default:q(()=>[s[1]?(m(),C("div",oa,[w(nt,{ripple:!1,class:de(["black-move",{highlight:s[1].kind!=="move"}])},{default:q(()=>[s[1].kind==="move"&&s[1].piece?(m(),x(ze,{key:0,piece:s[1].piece,allegiance:0,size:24},null,8,["piece"])):U("",!0),Y(" "+I(W(Ze).writeNode(s[1])),1)]),_:2},1032,["class"])])):U("",!0)]),_:2},1024)]),_:2},1032,["class"]))),128))]),_:1},512)])]),_:1}))}});var pa=se(ia,[["__scopeId","data-v-5d6f4010"]]);export{pa as G,ma as _};
//# sourceMappingURL=game-sidebar.eba05005.js.map
