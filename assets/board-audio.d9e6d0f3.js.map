{"version":3,"file":"board-audio.d9e6d0f3.js","sources":["../../../../../src/hooks/game-over.ts","../../../../../src/assets/navigation_backward-selection-minimal.ogg","../../../../../src/assets/navigation_hover-tap.ogg","../../../../../src/assets/navigation-cancel.ogg","../../../../../src/assets/ui_refresh-feed.ogg","../../../../../src/assets/ui_tap-variant-01.ogg","../../../../../src/hooks/board-audio.ts"],"sourcesContent":["import { Board } from '@decentm/allegiance-chess-core'\nimport { Ref, computed } from 'vue'\n\nexport const useGameover = (board: Ref<Board>) => {\n  const gameOver = computed(() => {\n    const validMoves = board.value.getValidMoves()\n\n    if (validMoves.length !== 1) {\n      return null\n    }\n\n    const move = validMoves.at(0)\n\n    if (!move || move.kind !== 'game-over') {\n      return null\n    }\n\n    return move\n  })\n\n  return { gameOver }\n}\n","export default \"__VITE_ASSET__5c6fba09__\"","export default \"__VITE_ASSET__713baf32__\"","export default \"__VITE_ASSET__92012997__\"","export default \"__VITE_ASSET__44b5b5d7__\"","export default \"__VITE_ASSET__21f59a16__\"","import { Notation } from '@decentm/allegiance-chess-core'\n\nimport BackwardSelection from '../assets/navigation_backward-selection-minimal.ogg'\nimport HoverTap from '../assets/navigation_hover-tap.ogg'\nimport NavigationCancel from '../assets/navigation-cancel.ogg'\nimport RefreshFeed from '../assets/ui_refresh-feed.ogg'\nimport Tap01 from '../assets/ui_tap-variant-01.ogg'\n\nexport const useBoardAudio = () => {\n  if (typeof window === 'undefined') {\n    return null\n  }\n\n  const backwardSelectionAudio = new Audio(BackwardSelection)\n  const hoverTapAudio = new Audio(HoverTap)\n  const navigationCancelAudio = new Audio(NavigationCancel)\n  const refreshFeedAudio = new Audio(RefreshFeed)\n  const tap01Audio = new Audio(Tap01)\n\n  const playNode = (node: Partial<Notation.Node>) => {\n    if (node.kind === 'game-over') {\n      return backwardSelectionAudio.play()\n    }\n\n    if (node.kind !== 'move') {\n      return\n    }\n\n    switch (node.type) {\n      default:\n        return tap01Audio.play()\n\n      case 'capture':\n      case 'en-passant':\n        return navigationCancelAudio.play()\n\n      case 'allegiance':\n        return hoverTapAudio.play()\n\n      case 'castle':\n      case 'promotion':\n        return refreshFeedAudio.play()\n    }\n  }\n\n  return {\n    playNode,\n  }\n}\n"],"names":["useGameover","board","computed","validMoves","move","BackwardSelection","HoverTap","NavigationCancel","RefreshFeed","Tap01","useBoardAudio","backwardSelectionAudio","hoverTapAudio","navigationCancelAudio","refreshFeedAudio","tap01Audio","node"],"mappings":"wCAGa,MAAAA,EAAeC,IAiBnB,CAAE,SAhBQC,EAAS,IAAM,CACxB,MAAAC,EAAaF,EAAM,MAAM,cAAc,EAEzC,GAAAE,EAAW,SAAW,EACjB,OAAA,KAGH,MAAAC,EAAOD,EAAW,GAAG,CAAC,EAE5B,MAAI,CAACC,GAAQA,EAAK,OAAS,YAClB,KAGFA,CAAA,CACR,CAEiB,GCpBpB,IAAeC,EAAA,6DCAAC,EAAA,4CCAAC,EAAA,yCCAAC,EAAA,uCCAAC,EAAA,yCCQR,MAAMC,EAAgB,IAAM,CAC7B,GAAA,OAAO,QAAW,YACb,OAAA,KAGH,MAAAC,EAAyB,IAAI,MAAMN,CAAiB,EACpDO,EAAgB,IAAI,MAAMN,CAAQ,EAClCO,EAAwB,IAAI,MAAMN,CAAgB,EAClDO,EAAmB,IAAI,MAAMN,CAAW,EACxCO,EAAa,IAAI,MAAMN,CAAK,EA4B3B,MAAA,CACL,SA3BgBO,GAAiC,CAC7C,GAAAA,EAAK,OAAS,YAChB,OAAOL,EAAuB,OAG5B,GAAAK,EAAK,OAAS,OAIlB,OAAQA,EAAK,cAET,OAAOD,EAAW,WAEf,cACA,aACH,OAAOF,EAAsB,WAE1B,aACH,OAAOD,EAAc,WAElB,aACA,YACH,OAAOE,EAAiB,OAAK,CAKjC,CAEJ"}