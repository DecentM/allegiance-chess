import{Q as w}from"./QSeparator.40dd98f8.js";import{a as d,c as E,r as h,w as H,o as U,f as V,h as r,aa as O,e as R,ab as G,M as X,N as Y,Q as J,S as a,P as i,W as K,ac as l,T as x,U as m,$ as C,ad as Z}from"./index.d8f19860.js";import{Q as S,a as k}from"./QCard.426336fc.js";import{Q as ee,b as te,a as z}from"./QList.1534be3b.js";import{C as ae}from"./chess-piece.bd0ff5fa.js";import"./use-dark.c383a348.js";import"./board.bb55146e.js";const le={ratio:[String,Number]};function ie(e,o){return d(()=>{const s=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(s)!==!0&&s>0?{paddingBottom:`${100/s}%`}:null})}const ne=16/9;var N=E({name:"QImg",props:{...le,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:ne},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:s}){const b=h(e.initialRatio),v=ie(e,b);let n=null,_=!1;const c=[h(null),h(q())],u=h(0),g=h(!1),f=h(!1),A=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=d(()=>({width:e.width,height:e.height})),M=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));H(()=>Q(),T);function Q(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function T(t){n!==null&&(clearTimeout(n),n=null),f.value=!1,t===null?(g.value=!1,c[u.value^1].value=q()):g.value=!0,c[u.value].value=t}function D({target:t}){_!==!0&&(n!==null&&(clearTimeout(n),n=null),b.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,F(t,1))}function F(t,y){_===!0||y===1e3||(t.complete===!0?j(t):n=setTimeout(()=>{n=null,F(t,y+1)},50))}function j(t){_!==!0&&(u.value=u.value^1,c[u.value].value=null,g.value=!1,f.value=!1,s("load",t.currentSrc||t.src))}function $(t){n!==null&&(clearTimeout(n),n=null),g.value=!1,f.value=!0,c[u.value].value=null,c[u.value^1].value=q(),s("error",t)}function I(t){const y=c[t].value,p={key:"img_"+t,class:M.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...y};return u.value===t?(p.class+=" q-img__image--waiting",Object.assign(p,{onLoad:D,onError:$})):p.class+=" q-img__image--loaded",r("div",{class:"q-img__container absolute-full",key:"img"+t},r("img",p))}function W(){return g.value!==!0?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},R(o[f.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[r(G,{color:e.spinnerColor,size:e.spinnerSize})])}return U(()=>{T(Q())}),V(()=>{_=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const t=[];return v.value!==null&&t.push(r("div",{key:"filler",style:v.value})),f.value!==!0&&(c[0].value!==null&&t.push(I(0)),c[1].value!==null&&t.push(I(1))),t.push(r(O,{name:"q-transition--fade"},W)),r("div",{class:A.value,style:L.value,role:"img","aria-label":e.alt},t)}}}),B=E({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:o}){const s=d(()=>parseInt(e.lines,10)),b=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(s.value===1?" ellipsis":"")),v=d(()=>e.lines!==void 0&&s.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":s.value}:null);return()=>r("div",{style:v.value,class:b.value},R(o.default))}}),se="/allegiance-chess/assets/tutorial-1.ca4747e6.png",oe="/allegiance-chess/assets/tutorial-2.bc4e40de.png",re="/allegiance-chess/assets/tutorial-3.34ec0d8b.png";const ce=l("div",{class:"text-h6"},"Introduction",-1),ue=l("div",{class:"text-body1 q-mb-md"}," Allegiance Chess is a Chess variant where you can essentially brainwash your opponents' pieces. Instead of being black or white, each piece has an allegiance score from zero to three. Pieces with zero or one belong to black, while two and three are to white. ",-1),de=l("div",{class:"text-body1 q-mb-md"}," During each turn, players can choose to challenge the allegiance of a piece instead of capturing it. This causes no movement, but the allegiance of the challenged piece shifts by one, towards the colour of the player making the move. ",-1),he=l("div",{class:"text-body1 q-mb-md"},' For example, if white challenges a black bishop (allegiance zero), then the targeted bishop will change its allegiance to one. Meaning that if it gets challenged one more time, it will switch sides to white. Since players can only challenge enemy pieces, once a piece leaves its "pure" allegiance, it will never go back to it. ',-1),me={class:"text-body1 q-mb-md"},ge=l("div",{class:"text-h6"},"How to play",-1),fe=l("div",{class:"text-body1 q-mb-md"},[m(" All normal rules of Chess apply: "),l("ul",null,[l("li",null,"Castling"),l("li",null,"En-passant"),l("li",null,"Promotion")])],-1),be=l("div",{class:"text-body1 q-mb-md"}," When your piece would be able to take a piece, you'll see two options. If you choose to take (X) the piece, it counts as a normal capture. If you choose to challenge (>) the piece, both yours and the challenged piece stays in place, and the challenged piece's allegiance will change towards your side. ",-1),ve={class:"row justify-center"},_e=l("div",{class:"text-h6"},"Technical details",-1),ye=l("div",{class:"text-body1 q-mb-md"},[m(" This game is implemented in Typescript from scratch, so there may be completely bame breaking bugs. You may open an issue on the issue tracker if you encounter bugs like this (but not limited to): "),l("ul",null,[l("li",null,"Ability to make illegal moves"),l("li",null,"Inability to castle, promote, challenge, or capture"),l("li",null,"Inability to move at all")])],-1),pe=l("div",{class:"text-body1 q-mb-md"},[m(' FEN has been extended to support storing allegiance information. The Allegiance FEN (AFEN) string is a superset of FEN, with the added ">" character, which indicates that the piece before the character has a non-pure allegiance. For example, "N>" means that the knight has an allegiance of 2 (white minus one), while "b>" means that the bishop has the allegiance of 1 (black plus one). '),l("br"),m(" Because AFEN is a superset, any FEN string is valid AFEN, but an AFEN string might not be valid FEN. ")],-1),we=l("div",{class:"text-body1 q-mb-md"},' Additionally, the standard Chess notation is extended in the same way. The ">" character signals a challenge. For example, where "Rxd2" would mean Rook takes on D2, "R>d2" means the Rook challenges the piece on D2. Neither of them move, but the opposing piece on D2 changes its allegiance by one, towards the challenging player. ',-1),Se=l("div",{class:"text-h6"},"Recognitions",-1),ke=l("span",null,"Colin M.L. Burnett on Wikimedia",-1),qe=l("br",null,null,-1),xe=l("span",null,"Modified to have allegiance indications",-1),Be=X({__name:"index-page",setup(e){return(o,s)=>(Y(),J(K,null,[a(S,{flat:"",class:"full-width q-mb-md"},{default:i(()=>[a(k,null,{default:i(()=>[ce,a(w,{class:"q-mb-md"}),ue,de,he,l("div",me,[a(x,{size:"xl",class:"col-2",name:"arrow_left"}),m(' Click "Play" on the left sidebar to begin, or read on for more. ')])]),_:1})]),_:1}),a(S,{flat:"",class:"full-width frosted-backdrop q-mb-md"},{default:i(()=>[a(k,null,{default:i(()=>[ge,a(w,{class:"q-mb-md"}),fe,be,l("div",ve,[a(N,{class:"col-2",src:C(se)},null,8,["src"]),a(x,{size:"xl",class:"col-1",name:"arrow_right"}),a(N,{class:"col-2",src:C(oe)},null,8,["src"]),a(x,{size:"xl",class:"col-1",name:"arrow_right"}),a(N,{class:"col-2",src:C(re)},null,8,["src"])])]),_:1})]),_:1}),a(S,{flat:"",class:"full-width frosted-backdrop q-mb-md"},{default:i(()=>[a(k,null,{default:i(()=>[_e,a(w,{class:"q-mb-md"}),ye,pe,we]),_:1})]),_:1}),a(S,{flat:"",class:"full-width frosted-backdrop q-mb-md"},{default:i(()=>[a(k,null,{default:i(()=>[Se,a(w,{class:"q-mb-md"}),a(ee,null,{default:i(()=>[a(te,{clickable:"",href:"https://en.wikipedia.org/wiki/User:Cburnett/GFDL_images/Chess",target:"_blank",rel:"noopener"},{default:i(()=>[a(z,{avatar:""},{default:i(()=>[a(Z,{rounded:""},{default:i(()=>[a(ae,{piece:"Q",allegiance:3,size:40})]),_:1})]),_:1}),a(z,null,{default:i(()=>[a(B,null,{default:i(()=>[m(" Chess pieces ")]),_:1}),a(B,{caption:"",lines:2},{default:i(()=>[ke,qe,xe]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{Be as default};
