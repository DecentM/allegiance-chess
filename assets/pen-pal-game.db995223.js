import{A as d,K as f,ar as h,a as y,k as x,w as _,B as i,C as l,D as u,G as v,M as a,O as g}from"./index.108c2b55.js";import{u as C}from"./use-quasar.bbe1ecbb.js";import{u as b,_ as k,C as A,G as H,a as w}from"./board-worker.02b5481b.js";import{H as s}from"./hex.7857ad26.js";import"./QCard.a4dfffda.js";import"./use-dark.cd657ce4.js";import"./QList.08d35e83.js";import"./QScrollObserver.182eb192.js";import"./focus-manager.202af5b7.js";import"./chess-piece.fbc0836d.js";import"./QSeparator.4f3e3a35.js";import"./notify.e8adb21e.js";import"./exports.9d6348df.js";const F=d({__name:"pen-pal-game",setup(M){const o=f(),m=h(),e=b({autoplayFor:[]}),t=y(()=>{const r=Array.isArray(o.params.state)?o.params.state[0]:o.params.state,n=Array.isArray(o.params.history)?o.params.history[0]:o.params.history;return{afen:s.hexToUtf8(r),history:s.hexToUtf8(n)}});x(()=>{e.reset(),t.value.afen&&e.importAfen(t.value.afen),t.value.history&&e.importMoveHistory(t.value.history)});const c=r=>{e.executeMoveIndex(r)};_(e.afen,r=>{m.push({path:`/play/pen-pal/${s.utf8ToHex(r)}/${s.utf8ToHex(t.value.history)}`})});const p=C();return(r,n)=>(i(),l(k,null,{board:u(()=>[v(A,{onExecuteNodeIndex:c,board:a(e),perspective:a(e).activeColour.value,"active-colour":a(e).activeColour.value,"check-moves":a(e).checkMoves.value,"en-passant-target":a(e).enPassantTarget.value,"move-history-ast":a(e).moveHistoryAst.value,squares:a(e).squares.value,"valid-moves":a(e).validMoves.value,"play-as":["white","black"],"rounded-borders":a(p).screen.gt.xs},null,8,["board","perspective","active-colour","check-moves","en-passant-target","move-history-ast","squares","valid-moves","rounded-borders"])]),sidebar:u(()=>[v(H,{"move-history":a(e).moveHistoryAst.value,"active-colour":a(e).activeColour.value,"own-colour":a(e).activeColour.value,afen:a(e).afen.value,"game-over":a(e).gameOver.value},null,8,["move-history","active-colour","own-colour","afen","game-over"])]),default:u(()=>[a(e).gameOver.value?(i(),l(w,{key:0,node:a(e).gameOver.value},null,8,["node"])):g("",!0)]),_:1}))}});export{F as default};
//# sourceMappingURL=pen-pal-game.db995223.js.map
