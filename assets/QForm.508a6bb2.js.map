{"version":3,"file":"QForm.508a6bb2.js","sources":["../../../../../../../node_modules/quasar/src/composables/use-form-child.js","../../../../../../../node_modules/quasar/src/utils/patterns.js","../../../../../../../node_modules/quasar/src/composables/private/use-validate.js","../../../../../../../node_modules/quasar/src/composables/private/use-split-attrs.js","../../../../../../../node_modules/quasar/src/composables/private/use-field.js","../../../../../../../node_modules/quasar/src/components/input/use-mask.js","../../../../../../../node_modules/quasar/src/composables/private/use-form.js","../../../../../../../node_modules/quasar/src/composables/private/use-file-dom-props.js","../../../../../../../node_modules/quasar/src/composables/private/use-key-composition.js","../../../../../../../node_modules/quasar/src/components/input/QInput.js","../../../../../../../node_modules/quasar/src/components/form/QForm.js"],"sourcesContent":["import { inject, watch, getCurrentInstance, onMounted, onBeforeUnmount } from 'vue'\n\nimport { formKey } from '../utils/private/symbols.js'\n\nexport default function ({ validate, resetValidation, requiresQForm }) {\n  const $form = inject(formKey, false)\n\n  if ($form !== false) {\n    const { props, proxy } = getCurrentInstance()\n\n    // export public method (so it can be used in QForm)\n    Object.assign(proxy, { validate, resetValidation })\n\n    watch(() => props.disable, val => {\n      if (val === true) {\n        typeof resetValidation === 'function' && resetValidation()\n        $form.unbindComponent(proxy)\n      }\n      else {\n        $form.bindComponent(proxy)\n      }\n    })\n\n    onMounted(() => {\n      // register to parent QForm\n      props.disable !== true && $form.bindComponent(proxy)\n    })\n\n    onBeforeUnmount(() => {\n      // un-register from parent QForm\n      props.disable !== true && $form.unbindComponent(proxy)\n    })\n  }\n  else if (requiresQForm === true) {\n    console.error('Parent QForm not found on useFormChild()!')\n  }\n}\n","// file referenced from docs\n\nconst\n  hex = /^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,\n  hexa = /^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,\n  hexOrHexa = /^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,\n  rgb = /^rgb\\(((0|[1-9][\\d]?|1[\\d]{0,2}|2[\\d]?|2[0-4][\\d]|25[0-5]),){2}(0|[1-9][\\d]?|1[\\d]{0,2}|2[\\d]?|2[0-4][\\d]|25[0-5])\\)$/,\n  rgba = /^rgba\\(((0|[1-9][\\d]?|1[\\d]{0,2}|2[\\d]?|2[0-4][\\d]|25[0-5]),){2}(0|[1-9][\\d]?|1[\\d]{0,2}|2[\\d]?|2[0-4][\\d]|25[0-5]),(0|0\\.[0-9]+[1-9]|0\\.[1-9]+|1)\\)$/\n\n// Keep in sync with ui/types/api/validation.d.ts\nexport const testPattern = {\n  date: v => /^-?[\\d]+\\/[0-1]\\d\\/[0-3]\\d$/.test(v),\n  time: v => /^([0-1]?\\d|2[0-3]):[0-5]\\d$/.test(v),\n  fulltime: v => /^([0-1]?\\d|2[0-3]):[0-5]\\d:[0-5]\\d$/.test(v),\n  timeOrFulltime: v => /^([0-1]?\\d|2[0-3]):[0-5]\\d(:[0-5]\\d)?$/.test(v),\n\n  // -- RFC 5322 --\n  // -- Added in v2.6.6 --\n  // This is a basic helper validation.\n  // For something more complex (like RFC 822) you should write and use your own rule.\n  // We won't be accepting PRs to enhance the one below because of the reason above.\n  // eslint-disable-next-line\n  email: v => /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(v),\n\n  hexColor: v => hex.test(v),\n  hexaColor: v => hexa.test(v),\n  hexOrHexaColor: v => hexOrHexa.test(v),\n\n  rgbColor: v => rgb.test(v),\n  rgbaColor: v => rgba.test(v),\n  rgbOrRgbaColor: v => rgb.test(v) || rgba.test(v),\n\n  hexOrRgbColor: v => hex.test(v) || rgb.test(v),\n  hexaOrRgbaColor: v => hexa.test(v) || rgba.test(v),\n  anyColor: v => hexOrHexa.test(v) || rgb.test(v) || rgba.test(v)\n}\n\nexport default {\n  testPattern\n}\n","import { ref, computed, watch, onBeforeUnmount, getCurrentInstance } from 'vue'\n\nimport useFormChild from '../use-form-child.js'\nimport { testPattern } from '../../utils/patterns.js'\nimport debounce from '../../utils/debounce.js'\nimport { injectProp } from '../../utils/private/inject-obj-prop.js'\n\nconst lazyRulesValues = [ true, false, 'ondemand' ]\n\nexport const useValidateProps = {\n  modelValue: {},\n\n  error: {\n    type: Boolean,\n    default: null\n  },\n  errorMessage: String,\n  noErrorIcon: Boolean,\n\n  rules: Array,\n  reactiveRules: Boolean,\n  lazyRules: {\n    type: [ Boolean, String ],\n    validator: v => lazyRulesValues.includes(v)\n  }\n}\n\nexport default function (focused, innerLoading) {\n  const { props, proxy } = getCurrentInstance()\n\n  const innerError = ref(false)\n  const innerErrorMessage = ref(null)\n  const isDirtyModel = ref(null)\n\n  useFormChild({ validate, resetValidation })\n\n  let validateIndex = 0, unwatchRules\n\n  const hasRules = computed(() =>\n    props.rules !== void 0\n    && props.rules !== null\n    && props.rules.length !== 0\n  )\n\n  const hasActiveRules = computed(() =>\n    props.disable !== true\n    && hasRules.value === true\n  )\n\n  const hasError = computed(() =>\n    props.error === true || innerError.value === true\n  )\n\n  const errorMessage = computed(() => (\n    typeof props.errorMessage === 'string' && props.errorMessage.length !== 0\n      ? props.errorMessage\n      : innerErrorMessage.value\n  ))\n\n  watch(() => props.modelValue, () => {\n    validateIfNeeded()\n  })\n\n  watch(() => props.reactiveRules, val => {\n    if (val === true) {\n      if (unwatchRules === void 0) {\n        unwatchRules = watch(() => props.rules, () => {\n          validateIfNeeded(true)\n        })\n      }\n    }\n    else if (unwatchRules !== void 0) {\n      unwatchRules()\n      unwatchRules = void 0\n    }\n  }, { immediate: true })\n\n  watch(focused, val => {\n    if (val === true) {\n      if (isDirtyModel.value === null) {\n        isDirtyModel.value = false\n      }\n    }\n    else if (isDirtyModel.value === false) {\n      isDirtyModel.value = true\n\n      if (\n        hasActiveRules.value === true\n        && props.lazyRules !== 'ondemand'\n        // Don't re-trigger if it's already in progress;\n        // It might mean that focus switched to submit btn and\n        // QForm's submit() has been called already (ENTER key)\n        && innerLoading.value === false\n      ) {\n        debouncedValidate()\n      }\n    }\n  })\n\n  function resetValidation () {\n    validateIndex++\n    innerLoading.value = false\n    isDirtyModel.value = null\n    innerError.value = false\n    innerErrorMessage.value = null\n    debouncedValidate.cancel()\n  }\n\n  /*\n   * Return value\n   *   - true (validation succeeded)\n   *   - false (validation failed)\n   *   - Promise (pending async validation)\n   */\n  function validate (val = props.modelValue) {\n    if (hasActiveRules.value !== true) {\n      return true\n    }\n\n    const index = ++validateIndex\n\n    const setDirty = innerLoading.value !== true\n      ? () => { isDirtyModel.value = true }\n      : () => {}\n\n    const update = (err, msg) => {\n      err === true && setDirty()\n\n      innerError.value = err\n      innerErrorMessage.value = msg || null\n      innerLoading.value = false\n    }\n\n    const promises = []\n\n    for (let i = 0; i < props.rules.length; i++) {\n      const rule = props.rules[ i ]\n      let res\n\n      if (typeof rule === 'function') {\n        res = rule(val, testPattern)\n      }\n      else if (typeof rule === 'string' && testPattern[ rule ] !== void 0) {\n        res = testPattern[ rule ](val)\n      }\n\n      if (res === false || typeof res === 'string') {\n        update(true, res)\n        return false\n      }\n      else if (res !== true && res !== void 0) {\n        promises.push(res)\n      }\n    }\n\n    if (promises.length === 0) {\n      update(false)\n      return true\n    }\n\n    innerLoading.value = true\n\n    return Promise.all(promises).then(\n      res => {\n        if (res === void 0 || Array.isArray(res) === false || res.length === 0) {\n          index === validateIndex && update(false)\n          return true\n        }\n\n        const msg = res.find(r => r === false || typeof r === 'string')\n        index === validateIndex && update(msg !== void 0, msg)\n        return msg === void 0\n      },\n      e => {\n        if (index === validateIndex) {\n          console.error(e)\n          update(true)\n        }\n\n        return false\n      }\n    )\n  }\n\n  function validateIfNeeded (changedRules) {\n    if (\n      hasActiveRules.value === true\n      && props.lazyRules !== 'ondemand'\n      && (isDirtyModel.value === true || (props.lazyRules !== true && changedRules !== true))\n    ) {\n      debouncedValidate()\n    }\n  }\n\n  const debouncedValidate = debounce(validate, 0)\n\n  onBeforeUnmount(() => {\n    unwatchRules !== void 0 && unwatchRules()\n    debouncedValidate.cancel()\n  })\n\n  // expose public methods & props\n  Object.assign(proxy, { resetValidation, validate })\n  injectProp(proxy, 'hasError', () => hasError.value)\n\n  return {\n    isDirtyModel,\n    hasRules,\n    hasError,\n    errorMessage,\n\n    validate,\n    resetValidation\n  }\n}\n","import { ref, onBeforeUpdate } from 'vue'\n\nconst listenerRE = /^on[A-Z]/\n\nexport default function (attrs, vnode) {\n  const acc = {\n    listeners: ref({}),\n    attributes: ref({})\n  }\n\n  function update () {\n    const attributes = {}\n    const listeners = {}\n\n    for (const key in attrs) {\n      if (key !== 'class' && key !== 'style' && listenerRE.test(key) === false) {\n        attributes[ key ] = attrs[ key ]\n      }\n    }\n\n    for (const key in vnode.props) {\n      if (listenerRE.test(key) === true) {\n        listeners[ key ] = vnode.props[ key ]\n      }\n    }\n\n    acc.attributes.value = attributes\n    acc.listeners.value = listeners\n  }\n\n  onBeforeUpdate(update)\n\n  update()\n\n  return acc\n}\n","import { h, ref, computed, watch, Transition, nextTick, onActivated, onDeactivated, onBeforeUnmount, onMounted, getCurrentInstance } from 'vue'\n\nimport { isRuntimeSsrPreHydration } from '../../plugins/Platform.js'\n\nimport QIcon from '../../components/icon/QIcon.js'\nimport QSpinner from '../../components/spinner/QSpinner.js'\n\nimport useDark, { useDarkProps } from '../../composables/private/use-dark.js'\nimport useValidate, { useValidateProps } from './use-validate.js'\nimport useSplitAttrs from './use-split-attrs.js'\n\nimport { hSlot } from '../../utils/private/render.js'\nimport uid from '../../utils/uid.js'\nimport { prevent, stopAndPrevent } from '../../utils/event.js'\nimport { addFocusFn, removeFocusFn } from '../../utils/private/focus-manager.js'\n\nfunction getTargetUid (val) {\n  return val === void 0 ? `f_${ uid() }` : val\n}\n\nexport function fieldValueIsFilled (val) {\n  return val !== void 0\n    && val !== null\n    && ('' + val).length !== 0\n}\n\nexport const useFieldProps = {\n  ...useDarkProps,\n  ...useValidateProps,\n\n  label: String,\n  stackLabel: Boolean,\n  hint: String,\n  hideHint: Boolean,\n  prefix: String,\n  suffix: String,\n\n  labelColor: String,\n  color: String,\n  bgColor: String,\n\n  filled: Boolean,\n  outlined: Boolean,\n  borderless: Boolean,\n  standout: [ Boolean, String ],\n\n  square: Boolean,\n\n  loading: Boolean,\n\n  labelSlot: Boolean,\n\n  bottomSlots: Boolean,\n  hideBottomSpace: Boolean,\n\n  rounded: Boolean,\n  dense: Boolean,\n  itemAligned: Boolean,\n\n  counter: Boolean,\n\n  clearable: Boolean,\n  clearIcon: String,\n\n  disable: Boolean,\n  readonly: Boolean,\n\n  autofocus: Boolean,\n\n  for: String,\n\n  maxlength: [ Number, String ]\n}\n\nexport const useFieldEmits = [ 'update:modelValue', 'clear', 'focus', 'blur', 'popupShow', 'popupHide' ]\n\nexport function useFieldState () {\n  const { props, attrs, proxy, vnode } = getCurrentInstance()\n\n  const isDark = useDark(props, proxy.$q)\n\n  return {\n    isDark,\n\n    editable: computed(() =>\n      props.disable !== true && props.readonly !== true\n    ),\n\n    innerLoading: ref(false),\n    focused: ref(false),\n    hasPopupOpen: false,\n\n    splitAttrs: useSplitAttrs(attrs, vnode),\n    targetUid: ref(getTargetUid(props.for)),\n\n    rootRef: ref(null),\n    targetRef: ref(null),\n    controlRef: ref(null)\n\n    /**\n     * user supplied additionals:\n\n     * innerValue - computed\n     * floatingLabel - computed\n     * inputRef - computed\n\n     * fieldClass - computed\n     * hasShadow - computed\n\n     * controlEvents - Object with fn(e)\n\n     * getControl - fn\n     * getInnerAppend - fn\n     * getControlChild - fn\n     * getShadowControl - fn\n     * showPopup - fn\n     */\n  }\n}\n\nexport default function (state) {\n  const { props, emit, slots, attrs, proxy } = getCurrentInstance()\n  const { $q } = proxy\n\n  let focusoutTimer = null\n\n  if (state.hasValue === void 0) {\n    state.hasValue = computed(() => fieldValueIsFilled(props.modelValue))\n  }\n\n  if (state.emitValue === void 0) {\n    state.emitValue = value => {\n      emit('update:modelValue', value)\n    }\n  }\n\n  if (state.controlEvents === void 0) {\n    state.controlEvents = {\n      onFocusin: onControlFocusin,\n      onFocusout: onControlFocusout\n    }\n  }\n\n  Object.assign(state, {\n    clearValue,\n    onControlFocusin,\n    onControlFocusout,\n    focus\n  })\n\n  if (state.computedCounter === void 0) {\n    state.computedCounter = computed(() => {\n      if (props.counter !== false) {\n        const len = typeof props.modelValue === 'string' || typeof props.modelValue === 'number'\n          ? ('' + props.modelValue).length\n          : (Array.isArray(props.modelValue) === true ? props.modelValue.length : 0)\n\n        const max = props.maxlength !== void 0\n          ? props.maxlength\n          : props.maxValues\n\n        return len + (max !== void 0 ? ' / ' + max : '')\n      }\n    })\n  }\n\n  const {\n    isDirtyModel,\n    hasRules,\n    hasError,\n    errorMessage,\n    resetValidation\n  } = useValidate(state.focused, state.innerLoading)\n\n  const floatingLabel = state.floatingLabel !== void 0\n    ? computed(() => props.stackLabel === true || state.focused.value === true || state.floatingLabel.value === true)\n    : computed(() => props.stackLabel === true || state.focused.value === true || state.hasValue.value === true)\n\n  const shouldRenderBottom = computed(() =>\n    props.bottomSlots === true\n    || props.hint !== void 0\n    || hasRules.value === true\n    || props.counter === true\n    || props.error !== null\n  )\n\n  const styleType = computed(() => {\n    if (props.filled === true) { return 'filled' }\n    if (props.outlined === true) { return 'outlined' }\n    if (props.borderless === true) { return 'borderless' }\n    if (props.standout) { return 'standout' }\n    return 'standard'\n  })\n\n  const classes = computed(() =>\n    `q-field row no-wrap items-start q-field--${ styleType.value }`\n    + (state.fieldClass !== void 0 ? ` ${ state.fieldClass.value }` : '')\n    + (props.rounded === true ? ' q-field--rounded' : '')\n    + (props.square === true ? ' q-field--square' : '')\n    + (floatingLabel.value === true ? ' q-field--float' : '')\n    + (hasLabel.value === true ? ' q-field--labeled' : '')\n    + (props.dense === true ? ' q-field--dense' : '')\n    + (props.itemAligned === true ? ' q-field--item-aligned q-item-type' : '')\n    + (state.isDark.value === true ? ' q-field--dark' : '')\n    + (state.getControl === void 0 ? ' q-field--auto-height' : '')\n    + (state.focused.value === true ? ' q-field--focused' : '')\n    + (hasError.value === true ? ' q-field--error' : '')\n    + (hasError.value === true || state.focused.value === true ? ' q-field--highlighted' : '')\n    + (props.hideBottomSpace !== true && shouldRenderBottom.value === true ? ' q-field--with-bottom' : '')\n    + (props.disable === true ? ' q-field--disabled' : (props.readonly === true ? ' q-field--readonly' : ''))\n  )\n\n  const contentClass = computed(() =>\n    'q-field__control relative-position row no-wrap'\n    + (props.bgColor !== void 0 ? ` bg-${ props.bgColor }` : '')\n    + (\n      hasError.value === true\n        ? ' text-negative'\n        : (\n            typeof props.standout === 'string' && props.standout.length !== 0 && state.focused.value === true\n              ? ` ${ props.standout }`\n              : (props.color !== void 0 ? ` text-${ props.color }` : '')\n          )\n    )\n  )\n\n  const hasLabel = computed(() =>\n    props.labelSlot === true || props.label !== void 0\n  )\n\n  const labelClass = computed(() =>\n    'q-field__label no-pointer-events absolute ellipsis'\n    + (props.labelColor !== void 0 && hasError.value !== true ? ` text-${ props.labelColor }` : '')\n  )\n\n  const controlSlotScope = computed(() => ({\n    id: state.targetUid.value,\n    editable: state.editable.value,\n    focused: state.focused.value,\n    floatingLabel: floatingLabel.value,\n    modelValue: props.modelValue,\n    emitValue: state.emitValue\n  }))\n\n  const attributes = computed(() => {\n    const acc = {\n      for: state.targetUid.value\n    }\n\n    if (props.disable === true) {\n      acc[ 'aria-disabled' ] = 'true'\n    }\n    else if (props.readonly === true) {\n      acc[ 'aria-readonly' ] = 'true'\n    }\n\n    return acc\n  })\n\n  watch(() => props.for, val => {\n    // don't transform targetUid into a computed\n    // prop as it will break SSR\n    state.targetUid.value = getTargetUid(val)\n  })\n\n  function focusHandler () {\n    const el = document.activeElement\n    let target = state.targetRef !== void 0 && state.targetRef.value\n\n    if (target && (el === null || el.id !== state.targetUid.value)) {\n      target.hasAttribute('tabindex') === true || (target = target.querySelector('[tabindex]'))\n      if (target && target !== el) {\n        target.focus({ preventScroll: true })\n      }\n    }\n  }\n\n  function focus () {\n    addFocusFn(focusHandler)\n  }\n\n  function blur () {\n    removeFocusFn(focusHandler)\n    const el = document.activeElement\n    if (el !== null && state.rootRef.value.contains(el)) {\n      el.blur()\n    }\n  }\n\n  function onControlFocusin (e) {\n    if (focusoutTimer !== null) {\n      clearTimeout(focusoutTimer)\n      focusoutTimer = null\n    }\n\n    if (state.editable.value === true && state.focused.value === false) {\n      state.focused.value = true\n      emit('focus', e)\n    }\n  }\n\n  function onControlFocusout (e, then) {\n    focusoutTimer !== null && clearTimeout(focusoutTimer)\n    focusoutTimer = setTimeout(() => {\n      focusoutTimer = null\n\n      if (\n        document.hasFocus() === true && (\n          state.hasPopupOpen === true\n          || state.controlRef === void 0\n          || state.controlRef.value === null\n          || state.controlRef.value.contains(document.activeElement) !== false\n        )\n      ) {\n        return\n      }\n\n      if (state.focused.value === true) {\n        state.focused.value = false\n        emit('blur', e)\n      }\n\n      then !== void 0 && then()\n    })\n  }\n\n  function clearValue (e) {\n    // prevent activating the field but keep focus on desktop\n    stopAndPrevent(e)\n\n    if ($q.platform.is.mobile !== true) {\n      const el = (state.targetRef !== void 0 && state.targetRef.value) || state.rootRef.value\n      el.focus()\n    }\n    else if (state.rootRef.value.contains(document.activeElement) === true) {\n      document.activeElement.blur()\n    }\n\n    if (props.type === 'file') { // TODO vue3\n      // do not let focus be triggered\n      // as it will make the native file dialog\n      // appear for another selection\n      state.inputRef.value.value = null\n    }\n\n    emit('update:modelValue', null)\n    emit('clear', props.modelValue)\n\n    nextTick(() => {\n      resetValidation()\n\n      if ($q.platform.is.mobile !== true) {\n        isDirtyModel.value = false\n      }\n    })\n  }\n\n  function getContent () {\n    const node = []\n\n    slots.prepend !== void 0 && node.push(\n      h('div', {\n        class: 'q-field__prepend q-field__marginal row no-wrap items-center',\n        key: 'prepend',\n        onClick: prevent\n      }, slots.prepend())\n    )\n\n    node.push(\n      h('div', {\n        class: 'q-field__control-container col relative-position row no-wrap q-anchor--skip'\n      }, getControlContainer())\n    )\n\n    hasError.value === true && props.noErrorIcon === false && node.push(\n      getInnerAppendNode('error', [\n        h(QIcon, { name: $q.iconSet.field.error, color: 'negative' })\n      ])\n    )\n\n    if (props.loading === true || state.innerLoading.value === true) {\n      node.push(\n        getInnerAppendNode(\n          'inner-loading-append',\n          slots.loading !== void 0\n            ? slots.loading()\n            : [ h(QSpinner, { color: props.color }) ]\n        )\n      )\n    }\n    else if (props.clearable === true && state.hasValue.value === true && state.editable.value === true) {\n      node.push(\n        getInnerAppendNode('inner-clearable-append', [\n          h(QIcon, {\n            class: 'q-field__focusable-action',\n            tag: 'button',\n            name: props.clearIcon || $q.iconSet.field.clear,\n            tabindex: 0,\n            type: 'button',\n            'aria-hidden': null,\n            role: null,\n            onClick: clearValue\n          })\n        ])\n      )\n    }\n\n    slots.append !== void 0 && node.push(\n      h('div', {\n        class: 'q-field__append q-field__marginal row no-wrap items-center',\n        key: 'append',\n        onClick: prevent\n      }, slots.append())\n    )\n\n    state.getInnerAppend !== void 0 && node.push(\n      getInnerAppendNode('inner-append', state.getInnerAppend())\n    )\n\n    state.getControlChild !== void 0 && node.push(\n      state.getControlChild()\n    )\n\n    return node\n  }\n\n  function getControlContainer () {\n    const node = []\n\n    props.prefix !== void 0 && props.prefix !== null && node.push(\n      h('div', {\n        class: 'q-field__prefix no-pointer-events row items-center'\n      }, props.prefix)\n    )\n\n    if (state.getShadowControl !== void 0 && state.hasShadow.value === true) {\n      node.push(\n        state.getShadowControl()\n      )\n    }\n\n    if (state.getControl !== void 0) {\n      node.push(state.getControl())\n    }\n    // internal usage only:\n    else if (slots.rawControl !== void 0) {\n      node.push(slots.rawControl())\n    }\n    else if (slots.control !== void 0) {\n      node.push(\n        h('div', {\n          ref: state.targetRef,\n          class: 'q-field__native row',\n          tabindex: -1,\n          ...state.splitAttrs.attributes.value,\n          'data-autofocus': props.autofocus === true || void 0\n        }, slots.control(controlSlotScope.value))\n      )\n    }\n\n    hasLabel.value === true && node.push(\n      h('div', {\n        class: labelClass.value\n      }, hSlot(slots.label, props.label))\n    )\n\n    props.suffix !== void 0 && props.suffix !== null && node.push(\n      h('div', {\n        class: 'q-field__suffix no-pointer-events row items-center'\n      }, props.suffix)\n    )\n\n    return node.concat(hSlot(slots.default))\n  }\n\n  function getBottom () {\n    let msg, key\n\n    if (hasError.value === true) {\n      if (errorMessage.value !== null) {\n        msg = [ h('div', { role: 'alert' }, errorMessage.value) ]\n        key = `q--slot-error-${ errorMessage.value }`\n      }\n      else {\n        msg = hSlot(slots.error)\n        key = 'q--slot-error'\n      }\n    }\n    else if (props.hideHint !== true || state.focused.value === true) {\n      if (props.hint !== void 0) {\n        msg = [ h('div', props.hint) ]\n        key = `q--slot-hint-${ props.hint }`\n      }\n      else {\n        msg = hSlot(slots.hint)\n        key = 'q--slot-hint'\n      }\n    }\n\n    const hasCounter = props.counter === true || slots.counter !== void 0\n\n    if (props.hideBottomSpace === true && hasCounter === false && msg === void 0) {\n      return\n    }\n\n    const main = h('div', {\n      key,\n      class: 'q-field__messages col'\n    }, msg)\n\n    return h('div', {\n      class: 'q-field__bottom row items-start q-field__bottom--'\n        + (props.hideBottomSpace !== true ? 'animated' : 'stale'),\n      onClick: prevent\n    }, [\n      props.hideBottomSpace === true\n        ? main\n        : h(Transition, { name: 'q-transition--field-message' }, () => main),\n\n      hasCounter === true\n        ? h('div', {\n          class: 'q-field__counter'\n        }, slots.counter !== void 0 ? slots.counter() : state.computedCounter.value)\n        : null\n    ])\n  }\n\n  function getInnerAppendNode (key, content) {\n    return content === null\n      ? null\n      : h('div', {\n        key,\n        class: 'q-field__append q-field__marginal row no-wrap items-center q-anchor--skip'\n      }, content)\n  }\n\n  let shouldActivate = false\n\n  onDeactivated(() => {\n    shouldActivate = true\n  })\n\n  onActivated(() => {\n    shouldActivate === true && props.autofocus === true && proxy.focus()\n  })\n\n  onMounted(() => {\n    if (isRuntimeSsrPreHydration.value === true && props.for === void 0) {\n      state.targetUid.value = getTargetUid()\n    }\n\n    props.autofocus === true && proxy.focus()\n  })\n\n  onBeforeUnmount(() => {\n    focusoutTimer !== null && clearTimeout(focusoutTimer)\n  })\n\n  // expose public methods\n  Object.assign(proxy, { focus, blur })\n\n  return function renderField () {\n    const labelAttrs = state.getControl === void 0 && slots.control === void 0\n      ? {\n          ...state.splitAttrs.attributes.value,\n          'data-autofocus': props.autofocus === true || void 0,\n          ...attributes.value\n        }\n      : attributes.value\n\n    return h('label', {\n      ref: state.rootRef,\n      class: [\n        classes.value,\n        attrs.class\n      ],\n      style: attrs.style,\n      ...labelAttrs\n    }, [\n      slots.before !== void 0\n        ? h('div', {\n          class: 'q-field__before q-field__marginal row no-wrap items-center',\n          onClick: prevent\n        }, slots.before())\n        : null,\n\n      h('div', {\n        class: 'q-field__inner relative-position col self-stretch'\n      }, [\n        h('div', {\n          ref: state.controlRef,\n          class: contentClass.value,\n          tabindex: -1,\n          ...state.controlEvents\n        }, getContent()),\n\n        shouldRenderBottom.value === true\n          ? getBottom()\n          : null\n      ]),\n\n      slots.after !== void 0\n        ? h('div', {\n          class: 'q-field__after q-field__marginal row no-wrap items-center',\n          onClick: prevent\n        }, slots.after())\n        : null\n    ])\n  }\n}\n","import { ref, watch, nextTick } from 'vue'\n\nimport { shouldIgnoreKey } from '../../utils/private/key-composition.js'\n\n// leave NAMED_MASKS at top of file (code referenced from docs)\nconst NAMED_MASKS = {\n  date: '####/##/##',\n  datetime: '####/##/## ##:##',\n  time: '##:##',\n  fulltime: '##:##:##',\n  phone: '(###) ### - ####',\n  card: '#### #### #### ####'\n}\n\nconst TOKENS = {\n  '#': { pattern: '[\\\\d]', negate: '[^\\\\d]' },\n\n  S: { pattern: '[a-zA-Z]', negate: '[^a-zA-Z]' },\n  N: { pattern: '[0-9a-zA-Z]', negate: '[^0-9a-zA-Z]' },\n\n  A: { pattern: '[a-zA-Z]', negate: '[^a-zA-Z]', transform: v => v.toLocaleUpperCase() },\n  a: { pattern: '[a-zA-Z]', negate: '[^a-zA-Z]', transform: v => v.toLocaleLowerCase() },\n\n  X: { pattern: '[0-9a-zA-Z]', negate: '[^0-9a-zA-Z]', transform: v => v.toLocaleUpperCase() },\n  x: { pattern: '[0-9a-zA-Z]', negate: '[^0-9a-zA-Z]', transform: v => v.toLocaleLowerCase() }\n}\n\nconst KEYS = Object.keys(TOKENS)\nKEYS.forEach(key => {\n  TOKENS[ key ].regex = new RegExp(TOKENS[ key ].pattern)\n})\n\nconst\n  tokenRegexMask = new RegExp('\\\\\\\\([^.*+?^${}()|([\\\\]])|([.*+?^${}()|[\\\\]])|([' + KEYS.join('') + '])|(.)', 'g'),\n  escRegex = /[.*+?^${}()|[\\]\\\\]/g\n\nconst MARKER = String.fromCharCode(1)\n\nexport const useMaskProps = {\n  mask: String,\n  reverseFillMask: Boolean,\n  fillMask: [ Boolean, String ],\n  unmaskedValue: Boolean\n}\n\nexport default function (props, emit, emitValue, inputRef) {\n  let maskMarked, maskReplaced, computedMask, computedUnmask, pastedTextStart, selectionAnchor\n\n  const hasMask = ref(null)\n  const innerValue = ref(getInitialMaskedValue())\n\n  function getIsTypeText () {\n    return props.autogrow === true\n      || [ 'textarea', 'text', 'search', 'url', 'tel', 'password' ].includes(props.type)\n  }\n\n  watch(() => props.type + props.autogrow, updateMaskInternals)\n\n  watch(() => props.mask, v => {\n    if (v !== void 0) {\n      updateMaskValue(innerValue.value, true)\n    }\n    else {\n      const val = unmaskValue(innerValue.value)\n      updateMaskInternals()\n      props.modelValue !== val && emit('update:modelValue', val)\n    }\n  })\n\n  watch(() => props.fillMask + props.reverseFillMask, () => {\n    hasMask.value === true && updateMaskValue(innerValue.value, true)\n  })\n\n  watch(() => props.unmaskedValue, () => {\n    hasMask.value === true && updateMaskValue(innerValue.value)\n  })\n\n  function getInitialMaskedValue () {\n    updateMaskInternals()\n\n    if (hasMask.value === true) {\n      const masked = maskValue(unmaskValue(props.modelValue))\n\n      return props.fillMask !== false\n        ? fillWithMask(masked)\n        : masked\n    }\n\n    return props.modelValue\n  }\n\n  function getPaddedMaskMarked (size) {\n    if (size < maskMarked.length) {\n      return maskMarked.slice(-size)\n    }\n\n    let pad = '', localMaskMarked = maskMarked\n    const padPos = localMaskMarked.indexOf(MARKER)\n\n    if (padPos > -1) {\n      for (let i = size - localMaskMarked.length; i > 0; i--) {\n        pad += MARKER\n      }\n\n      localMaskMarked = localMaskMarked.slice(0, padPos) + pad + localMaskMarked.slice(padPos)\n    }\n\n    return localMaskMarked\n  }\n\n  function updateMaskInternals () {\n    hasMask.value = props.mask !== void 0\n      && props.mask.length !== 0\n      && getIsTypeText()\n\n    if (hasMask.value === false) {\n      computedUnmask = void 0\n      maskMarked = ''\n      maskReplaced = ''\n      return\n    }\n\n    const\n      localComputedMask = NAMED_MASKS[ props.mask ] === void 0\n        ? props.mask\n        : NAMED_MASKS[ props.mask ],\n      fillChar = typeof props.fillMask === 'string' && props.fillMask.length !== 0\n        ? props.fillMask.slice(0, 1)\n        : '_',\n      fillCharEscaped = fillChar.replace(escRegex, '\\\\$&'),\n      unmask = [],\n      extract = [],\n      mask = []\n\n    let\n      firstMatch = props.reverseFillMask === true,\n      unmaskChar = '',\n      negateChar = ''\n\n    localComputedMask.replace(tokenRegexMask, (_, char1, esc, token, char2) => {\n      if (token !== void 0) {\n        const c = TOKENS[ token ]\n        mask.push(c)\n        negateChar = c.negate\n        if (firstMatch === true) {\n          extract.push('(?:' + negateChar + '+)?(' + c.pattern + '+)?(?:' + negateChar + '+)?(' + c.pattern + '+)?')\n          firstMatch = false\n        }\n        extract.push('(?:' + negateChar + '+)?(' + c.pattern + ')?')\n      }\n      else if (esc !== void 0) {\n        unmaskChar = '\\\\' + (esc === '\\\\' ? '' : esc)\n        mask.push(esc)\n        unmask.push('([^' + unmaskChar + ']+)?' + unmaskChar + '?')\n      }\n      else {\n        const c = char1 !== void 0 ? char1 : char2\n        unmaskChar = c === '\\\\' ? '\\\\\\\\\\\\\\\\' : c.replace(escRegex, '\\\\\\\\$&')\n        mask.push(c)\n        unmask.push('([^' + unmaskChar + ']+)?' + unmaskChar + '?')\n      }\n    })\n\n    const\n      unmaskMatcher = new RegExp(\n        '^'\n        + unmask.join('')\n        + '(' + (unmaskChar === '' ? '.' : '[^' + unmaskChar + ']') + '+)?'\n        + (unmaskChar === '' ? '' : '[' + unmaskChar + ']*') + '$'\n      ),\n      extractLast = extract.length - 1,\n      extractMatcher = extract.map((re, index) => {\n        if (index === 0 && props.reverseFillMask === true) {\n          return new RegExp('^' + fillCharEscaped + '*' + re)\n        }\n        else if (index === extractLast) {\n          return new RegExp(\n            '^' + re\n            + '(' + (negateChar === '' ? '.' : negateChar) + '+)?'\n            + (props.reverseFillMask === true ? '$' : fillCharEscaped + '*')\n          )\n        }\n\n        return new RegExp('^' + re)\n      })\n\n    computedMask = mask\n    computedUnmask = val => {\n      const unmaskMatch = unmaskMatcher.exec(props.reverseFillMask === true ? val : val.slice(0, mask.length + 1))\n      if (unmaskMatch !== null) {\n        val = unmaskMatch.slice(1).join('')\n      }\n\n      const\n        extractMatch = [],\n        extractMatcherLength = extractMatcher.length\n\n      for (let i = 0, str = val; i < extractMatcherLength; i++) {\n        const m = extractMatcher[ i ].exec(str)\n\n        if (m === null) {\n          break\n        }\n\n        str = str.slice(m.shift().length)\n        extractMatch.push(...m)\n      }\n      if (extractMatch.length !== 0) {\n        return extractMatch.join('')\n      }\n\n      return val\n    }\n    maskMarked = mask.map(v => (typeof v === 'string' ? v : MARKER)).join('')\n    maskReplaced = maskMarked.split(MARKER).join(fillChar)\n  }\n\n  function updateMaskValue (rawVal, updateMaskInternalsFlag, inputType) {\n    const\n      inp = inputRef.value,\n      end = inp.selectionEnd,\n      endReverse = inp.value.length - end,\n      unmasked = unmaskValue(rawVal)\n\n    // Update here so unmask uses the original fillChar\n    updateMaskInternalsFlag === true && updateMaskInternals()\n\n    const\n      preMasked = maskValue(unmasked),\n      masked = props.fillMask !== false\n        ? fillWithMask(preMasked)\n        : preMasked,\n      changed = innerValue.value !== masked\n\n    // We want to avoid \"flickering\" so we set value immediately\n    inp.value !== masked && (inp.value = masked)\n\n    changed === true && (innerValue.value = masked)\n\n    document.activeElement === inp && nextTick(() => {\n      if (masked === maskReplaced) {\n        const cursor = props.reverseFillMask === true ? maskReplaced.length : 0\n        inp.setSelectionRange(cursor, cursor, 'forward')\n\n        return\n      }\n\n      if (inputType === 'insertFromPaste' && props.reverseFillMask !== true) {\n        const maxEnd = inp.selectionEnd\n        let cursor = end - 1\n        // each non-marker char means we move once to right\n        for (let i = pastedTextStart; i <= cursor && i < maxEnd; i++) {\n          if (maskMarked[ i ] !== MARKER) {\n            cursor++\n          }\n        }\n        moveCursor.right(inp, cursor)\n\n        return\n      }\n\n      if ([ 'deleteContentBackward', 'deleteContentForward' ].indexOf(inputType) > -1) {\n        const cursor = props.reverseFillMask === true\n          ? (\n              end === 0\n                ? (masked.length > preMasked.length ? 1 : 0)\n                : Math.max(0, masked.length - (masked === maskReplaced ? 0 : Math.min(preMasked.length, endReverse) + 1)) + 1\n            )\n          : end\n\n        inp.setSelectionRange(cursor, cursor, 'forward')\n        return\n      }\n\n      if (props.reverseFillMask === true) {\n        if (changed === true) {\n          const cursor = Math.max(0, masked.length - (masked === maskReplaced ? 0 : Math.min(preMasked.length, endReverse + 1)))\n\n          if (cursor === 1 && end === 1) {\n            inp.setSelectionRange(cursor, cursor, 'forward')\n          }\n          else {\n            moveCursor.rightReverse(inp, cursor)\n          }\n        }\n        else {\n          const cursor = masked.length - endReverse\n          inp.setSelectionRange(cursor, cursor, 'backward')\n        }\n      }\n      else {\n        if (changed === true) {\n          const cursor = Math.max(0, maskMarked.indexOf(MARKER), Math.min(preMasked.length, end) - 1)\n          moveCursor.right(inp, cursor)\n        }\n        else {\n          const cursor = end - 1\n          moveCursor.right(inp, cursor)\n        }\n      }\n    })\n\n    const val = props.unmaskedValue === true\n      ? unmaskValue(masked)\n      : masked\n\n    String(props.modelValue) !== val && emitValue(val, true)\n  }\n\n  function moveCursorForPaste (inp, start, end) {\n    const preMasked = maskValue(unmaskValue(inp.value))\n\n    start = Math.max(0, maskMarked.indexOf(MARKER), Math.min(preMasked.length, start))\n    pastedTextStart = start\n\n    inp.setSelectionRange(start, end, 'forward')\n  }\n\n  const moveCursor = {\n    left (inp, cursor) {\n      const noMarkBefore = maskMarked.slice(cursor - 1).indexOf(MARKER) === -1\n      let i = Math.max(0, cursor - 1)\n\n      for (; i >= 0; i--) {\n        if (maskMarked[ i ] === MARKER) {\n          cursor = i\n          noMarkBefore === true && cursor++\n          break\n        }\n      }\n\n      if (\n        i < 0\n        && maskMarked[ cursor ] !== void 0\n        && maskMarked[ cursor ] !== MARKER\n      ) {\n        return moveCursor.right(inp, 0)\n      }\n\n      cursor >= 0 && inp.setSelectionRange(cursor, cursor, 'backward')\n    },\n\n    right (inp, cursor) {\n      const limit = inp.value.length\n      let i = Math.min(limit, cursor + 1)\n\n      for (; i <= limit; i++) {\n        if (maskMarked[ i ] === MARKER) {\n          cursor = i\n          break\n        }\n        else if (maskMarked[ i - 1 ] === MARKER) {\n          cursor = i\n        }\n      }\n\n      if (\n        i > limit\n        && maskMarked[ cursor - 1 ] !== void 0\n        && maskMarked[ cursor - 1 ] !== MARKER\n      ) {\n        return moveCursor.left(inp, limit)\n      }\n\n      inp.setSelectionRange(cursor, cursor, 'forward')\n    },\n\n    leftReverse (inp, cursor) {\n      const\n        localMaskMarked = getPaddedMaskMarked(inp.value.length)\n      let i = Math.max(0, cursor - 1)\n\n      for (; i >= 0; i--) {\n        if (localMaskMarked[ i - 1 ] === MARKER) {\n          cursor = i\n          break\n        }\n        else if (localMaskMarked[ i ] === MARKER) {\n          cursor = i\n          if (i === 0) {\n            break\n          }\n        }\n      }\n\n      if (\n        i < 0\n        && localMaskMarked[ cursor ] !== void 0\n        && localMaskMarked[ cursor ] !== MARKER\n      ) {\n        return moveCursor.rightReverse(inp, 0)\n      }\n\n      cursor >= 0 && inp.setSelectionRange(cursor, cursor, 'backward')\n    },\n\n    rightReverse (inp, cursor) {\n      const\n        limit = inp.value.length,\n        localMaskMarked = getPaddedMaskMarked(limit),\n        noMarkBefore = localMaskMarked.slice(0, cursor + 1).indexOf(MARKER) === -1\n      let i = Math.min(limit, cursor + 1)\n\n      for (; i <= limit; i++) {\n        if (localMaskMarked[ i - 1 ] === MARKER) {\n          cursor = i\n          cursor > 0 && noMarkBefore === true && cursor--\n          break\n        }\n      }\n\n      if (\n        i > limit\n        && localMaskMarked[ cursor - 1 ] !== void 0\n        && localMaskMarked[ cursor - 1 ] !== MARKER\n      ) {\n        return moveCursor.leftReverse(inp, limit)\n      }\n\n      inp.setSelectionRange(cursor, cursor, 'forward')\n    }\n  }\n\n  function onMaskedClick (e) {\n    emit('click', e)\n\n    selectionAnchor = void 0\n  }\n\n  function onMaskedKeydown (e) {\n    emit('keydown', e)\n\n    if (\n      shouldIgnoreKey(e) === true\n      || e.altKey === true // let browser handle these\n    ) {\n      return\n    }\n\n    const\n      inp = inputRef.value,\n      start = inp.selectionStart,\n      end = inp.selectionEnd\n\n    if (!e.shiftKey) {\n      selectionAnchor = void 0\n    }\n\n    if (e.keyCode === 37 || e.keyCode === 39) { // Left / Right\n      if (e.shiftKey && selectionAnchor === void 0) {\n        selectionAnchor = inp.selectionDirection === 'forward' ? start : end\n      }\n\n      const fn = moveCursor[ (e.keyCode === 39 ? 'right' : 'left') + (props.reverseFillMask === true ? 'Reverse' : '') ]\n\n      e.preventDefault()\n      fn(inp, selectionAnchor === start ? end : start)\n\n      if (e.shiftKey) {\n        const cursor = inp.selectionStart\n        inp.setSelectionRange(Math.min(selectionAnchor, cursor), Math.max(selectionAnchor, cursor), 'forward')\n      }\n    }\n    else if (\n      e.keyCode === 8 // Backspace\n      && props.reverseFillMask !== true\n      && start === end\n    ) {\n      moveCursor.left(inp, start)\n      inp.setSelectionRange(inp.selectionStart, end, 'backward')\n    }\n    else if (\n      e.keyCode === 46 // Delete\n      && props.reverseFillMask === true\n      && start === end\n    ) {\n      moveCursor.rightReverse(inp, end)\n      inp.setSelectionRange(start, inp.selectionEnd, 'forward')\n    }\n  }\n\n  function maskValue (val) {\n    if (val === void 0 || val === null || val === '') { return '' }\n\n    if (props.reverseFillMask === true) {\n      return maskValueReverse(val)\n    }\n\n    const mask = computedMask\n\n    let valIndex = 0, output = ''\n\n    for (let maskIndex = 0; maskIndex < mask.length; maskIndex++) {\n      const\n        valChar = val[ valIndex ],\n        maskDef = mask[ maskIndex ]\n\n      if (typeof maskDef === 'string') {\n        output += maskDef\n        valChar === maskDef && valIndex++\n      }\n      else if (valChar !== void 0 && maskDef.regex.test(valChar)) {\n        output += maskDef.transform !== void 0\n          ? maskDef.transform(valChar)\n          : valChar\n        valIndex++\n      }\n      else {\n        return output\n      }\n    }\n\n    return output\n  }\n\n  function maskValueReverse (val) {\n    const\n      mask = computedMask,\n      firstTokenIndex = maskMarked.indexOf(MARKER)\n\n    let valIndex = val.length - 1, output = ''\n\n    for (let maskIndex = mask.length - 1; maskIndex >= 0 && valIndex > -1; maskIndex--) {\n      const maskDef = mask[ maskIndex ]\n\n      let valChar = val[ valIndex ]\n\n      if (typeof maskDef === 'string') {\n        output = maskDef + output\n        valChar === maskDef && valIndex--\n      }\n      else if (valChar !== void 0 && maskDef.regex.test(valChar)) {\n        do {\n          output = (maskDef.transform !== void 0 ? maskDef.transform(valChar) : valChar) + output\n          valIndex--\n          valChar = val[ valIndex ]\n        // eslint-disable-next-line no-unmodified-loop-condition\n        } while (firstTokenIndex === maskIndex && valChar !== void 0 && maskDef.regex.test(valChar))\n      }\n      else {\n        return output\n      }\n    }\n\n    return output\n  }\n\n  function unmaskValue (val) {\n    return typeof val !== 'string' || computedUnmask === void 0\n      ? (typeof val === 'number' ? computedUnmask('' + val) : val)\n      : computedUnmask(val)\n  }\n\n  function fillWithMask (val) {\n    if (maskReplaced.length - val.length <= 0) {\n      return val\n    }\n\n    return props.reverseFillMask === true && val.length !== 0\n      ? maskReplaced.slice(0, -val.length) + val\n      : val + maskReplaced.slice(val.length)\n  }\n\n  return {\n    innerValue,\n    hasMask,\n    moveCursorForPaste,\n    updateMaskValue,\n    onMaskedKeydown,\n    onMaskedClick\n  }\n}\n","import { h, computed } from 'vue'\n\nexport const useFormProps = {\n  name: String\n}\n\nexport function useFormAttrs (props) {\n  return computed(() => ({\n    type: 'hidden',\n    name: props.name,\n    value: props.modelValue\n  }))\n}\n\nexport function useFormInject (formAttrs = {}) {\n  return (child, action, className) => {\n    child[ action ](\n      h('input', {\n        class: 'hidden' + (className || ''),\n        ...formAttrs.value\n      })\n    )\n  }\n}\n\nexport function useFormInputNameAttr (props) {\n  return computed(() => props.name || props.for)\n}\n","import { computed } from 'vue'\n\nexport default function (props, typeGuard) {\n  function getFormDomProps () {\n    const model = props.modelValue\n\n    try {\n      const dt = 'DataTransfer' in window\n        ? new DataTransfer()\n        : ('ClipboardEvent' in window\n            ? new ClipboardEvent('').clipboardData\n            : void 0\n          )\n\n      if (Object(model) === model) {\n        ('length' in model\n          ? Array.from(model)\n          : [ model ]\n        ).forEach(file => {\n          dt.items.add(file)\n        })\n      }\n\n      return {\n        files: dt.files\n      }\n    }\n    catch (e) {\n      return {\n        files: void 0\n      }\n    }\n  }\n\n  return typeGuard === true\n    ? computed(() => {\n      if (props.type !== 'file') {\n        return\n      }\n\n      return getFormDomProps()\n    })\n    : computed(getFormDomProps)\n}\n","import { client } from '../../plugins/Platform.js'\n\nconst isJapanese = /[\\u3000-\\u303f\\u3040-\\u309f\\u30a0-\\u30ff\\uff00-\\uff9f\\u4e00-\\u9faf\\u3400-\\u4dbf]/\nconst isChinese = /[\\u4e00-\\u9fff\\u3400-\\u4dbf\\u{20000}-\\u{2a6df}\\u{2a700}-\\u{2b73f}\\u{2b740}-\\u{2b81f}\\u{2b820}-\\u{2ceaf}\\uf900-\\ufaff\\u3300-\\u33ff\\ufe30-\\ufe4f\\uf900-\\ufaff\\u{2f800}-\\u{2fa1f}]/u\nconst isKorean = /[\\u3131-\\u314e\\u314f-\\u3163\\uac00-\\ud7a3]/\nconst isPlainText = /[a-z0-9_ -]$/i\n\nexport default function (onInput) {\n  return function onComposition (e) {\n    if (e.type === 'compositionend' || e.type === 'change') {\n      if (e.target.qComposing !== true) { return }\n      e.target.qComposing = false\n      onInput(e)\n    }\n    else if (\n      e.type === 'compositionupdate'\n      && e.target.qComposing !== true\n      && typeof e.data === 'string'\n    ) {\n      const isComposing = client.is.firefox === true\n        ? isPlainText.test(e.data) === false\n        : isJapanese.test(e.data) === true || isChinese.test(e.data) === true || isKorean.test(e.data) === true\n\n      if (isComposing === true) {\n        e.target.qComposing = true\n      }\n    }\n  }\n}\n","import { h, ref, computed, watch, onBeforeUnmount, onMounted, nextTick, getCurrentInstance } from 'vue'\n\nimport useField, { useFieldState, useFieldProps, useFieldEmits, fieldValueIsFilled } from '../../composables/private/use-field.js'\nimport useMask, { useMaskProps } from './use-mask.js'\nimport { useFormProps, useFormInputNameAttr } from '../../composables/private/use-form.js'\nimport useFileFormDomProps from '../../composables/private/use-file-dom-props.js'\nimport useKeyComposition from '../../composables/private/use-key-composition.js'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { stop } from '../../utils/event.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\nimport { injectProp } from '../../utils/private/inject-obj-prop.js'\n\nexport default createComponent({\n  name: 'QInput',\n\n  inheritAttrs: false,\n\n  props: {\n    ...useFieldProps,\n    ...useMaskProps,\n    ...useFormProps,\n\n    modelValue: { required: false },\n\n    shadowText: String,\n\n    type: {\n      type: String,\n      default: 'text'\n    },\n\n    debounce: [ String, Number ],\n\n    autogrow: Boolean, // makes a textarea\n\n    inputClass: [ Array, String, Object ],\n    inputStyle: [ Array, String, Object ]\n  },\n\n  emits: [\n    ...useFieldEmits,\n    'paste', 'change',\n    'keydown', 'click', 'animationend'\n  ],\n\n  setup (props, { emit, attrs }) {\n    const { proxy } = getCurrentInstance()\n    const { $q } = proxy\n\n    const temp = {}\n    let emitCachedValue = NaN, typedNumber, stopValueWatcher, emitTimer = null, emitValueFn\n\n    const inputRef = ref(null)\n    const nameProp = useFormInputNameAttr(props)\n\n    const {\n      innerValue,\n      hasMask,\n      moveCursorForPaste,\n      updateMaskValue,\n      onMaskedKeydown,\n      onMaskedClick\n    } = useMask(props, emit, emitValue, inputRef)\n\n    const formDomProps = useFileFormDomProps(props, /* type guard */ true)\n    const hasValue = computed(() => fieldValueIsFilled(innerValue.value))\n\n    const onComposition = useKeyComposition(onInput)\n\n    const state = useFieldState()\n\n    const isTextarea = computed(() =>\n      props.type === 'textarea' || props.autogrow === true\n    )\n\n    const isTypeText = computed(() =>\n      isTextarea.value === true\n      || [ 'text', 'search', 'url', 'tel', 'password' ].includes(props.type)\n    )\n\n    const onEvents = computed(() => {\n      const evt = {\n        ...state.splitAttrs.listeners.value,\n        onInput,\n        onPaste,\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        onChange,\n        onBlur: onFinishEditing,\n        onFocus: stop\n      }\n\n      evt.onCompositionstart = evt.onCompositionupdate = evt.onCompositionend = onComposition\n\n      if (hasMask.value === true) {\n        evt.onKeydown = onMaskedKeydown\n        // reset selection anchor on pointer selection\n        evt.onClick = onMaskedClick\n      }\n\n      if (props.autogrow === true) {\n        evt.onAnimationend = onAnimationend\n      }\n\n      return evt\n    })\n\n    const inputAttrs = computed(() => {\n      const attrs = {\n        tabindex: 0,\n        'data-autofocus': props.autofocus === true || void 0,\n        rows: props.type === 'textarea' ? 6 : void 0,\n        'aria-label': props.label,\n        name: nameProp.value,\n        ...state.splitAttrs.attributes.value,\n        id: state.targetUid.value,\n        maxlength: props.maxlength,\n        disabled: props.disable === true,\n        readonly: props.readonly === true\n      }\n\n      if (isTextarea.value === false) {\n        attrs.type = props.type\n      }\n\n      if (props.autogrow === true) {\n        attrs.rows = 1\n      }\n\n      return attrs\n    })\n\n    // some browsers lose the native input value\n    // so we need to reattach it dynamically\n    // (like type=\"password\" <-> type=\"text\"; see #12078)\n    watch(() => props.type, () => {\n      if (inputRef.value) {\n        inputRef.value.value = props.modelValue\n      }\n    })\n\n    watch(() => props.modelValue, v => {\n      if (hasMask.value === true) {\n        if (stopValueWatcher === true) {\n          stopValueWatcher = false\n\n          if (String(v) === emitCachedValue) {\n            return\n          }\n        }\n\n        updateMaskValue(v)\n      }\n      else if (innerValue.value !== v) {\n        innerValue.value = v\n\n        if (\n          props.type === 'number'\n          && temp.hasOwnProperty('value') === true\n        ) {\n          if (typedNumber === true) {\n            typedNumber = false\n          }\n          else {\n            delete temp.value\n          }\n        }\n      }\n\n      // textarea only\n      props.autogrow === true && nextTick(adjustHeight)\n    })\n\n    watch(() => props.autogrow, val => {\n      // textarea only\n      if (val === true) {\n        nextTick(adjustHeight)\n      }\n      // if it has a number of rows set respect it\n      else if (inputRef.value !== null && attrs.rows > 0) {\n        inputRef.value.style.height = 'auto'\n      }\n    })\n\n    watch(() => props.dense, () => {\n      props.autogrow === true && nextTick(adjustHeight)\n    })\n\n    function focus () {\n      addFocusFn(() => {\n        const el = document.activeElement\n        if (\n          inputRef.value !== null\n          && inputRef.value !== el\n          && (el === null || el.id !== state.targetUid.value)\n        ) {\n          inputRef.value.focus({ preventScroll: true })\n        }\n      })\n    }\n\n    function select () {\n      inputRef.value !== null && inputRef.value.select()\n    }\n\n    function onPaste (e) {\n      if (hasMask.value === true && props.reverseFillMask !== true) {\n        const inp = e.target\n        moveCursorForPaste(inp, inp.selectionStart, inp.selectionEnd)\n      }\n\n      emit('paste', e)\n    }\n\n    function onInput (e) {\n      if (!e || !e.target) {\n        return\n      }\n\n      if (props.type === 'file') {\n        emit('update:modelValue', e.target.files)\n        return\n      }\n\n      const val = e.target.value\n\n      if (e.target.qComposing === true) {\n        temp.value = val\n\n        return\n      }\n\n      if (hasMask.value === true) {\n        updateMaskValue(val, false, e.inputType)\n      }\n      else {\n        emitValue(val)\n\n        if (isTypeText.value === true && e.target === document.activeElement) {\n          const { selectionStart, selectionEnd } = e.target\n\n          if (selectionStart !== void 0 && selectionEnd !== void 0) {\n            nextTick(() => {\n              if (e.target === document.activeElement && val.indexOf(e.target.value) === 0) {\n                e.target.setSelectionRange(selectionStart, selectionEnd)\n              }\n            })\n          }\n        }\n      }\n\n      // we need to trigger it immediately too,\n      // to avoid \"flickering\"\n      props.autogrow === true && adjustHeight()\n    }\n\n    function onAnimationend (e) {\n      emit('animationend', e)\n      adjustHeight()\n    }\n\n    function emitValue (val, stopWatcher) {\n      emitValueFn = () => {\n        emitTimer = null\n\n        if (\n          props.type !== 'number'\n          && temp.hasOwnProperty('value') === true\n        ) {\n          delete temp.value\n        }\n\n        if (props.modelValue !== val && emitCachedValue !== val) {\n          emitCachedValue = val\n\n          stopWatcher === true && (stopValueWatcher = true)\n          emit('update:modelValue', val)\n\n          nextTick(() => {\n            emitCachedValue === val && (emitCachedValue = NaN)\n          })\n        }\n\n        emitValueFn = void 0\n      }\n\n      if (props.type === 'number') {\n        typedNumber = true\n        temp.value = val\n      }\n\n      if (props.debounce !== void 0) {\n        emitTimer !== null && clearTimeout(emitTimer)\n        temp.value = val\n        emitTimer = setTimeout(emitValueFn, props.debounce)\n      }\n      else {\n        emitValueFn()\n      }\n    }\n\n    // textarea only\n    function adjustHeight () {\n      requestAnimationFrame(() => {\n        const inp = inputRef.value\n        if (inp !== null) {\n          const parentStyle = inp.parentNode.style\n          // chrome does not keep scroll #15498\n          const { scrollTop } = inp\n          // chrome calculates a smaller scrollHeight when in a .column container\n          const { overflowY, maxHeight } = $q.platform.is.firefox === true\n            ? {}\n            : window.getComputedStyle(inp)\n          // on firefox or if overflowY is specified as scroll #14263, #14344\n          // we don't touch overflow\n          // firefox is not so bad in the end\n          const changeOverflow = overflowY !== void 0 && overflowY !== 'scroll'\n\n          // reset height of textarea to a small size to detect the real height\n          // but keep the total control size the same\n          changeOverflow === true && (inp.style.overflowY = 'hidden')\n          parentStyle.marginBottom = (inp.scrollHeight - 1) + 'px'\n          inp.style.height = '1px'\n\n          inp.style.height = inp.scrollHeight + 'px'\n          // we should allow scrollbars only\n          // if there is maxHeight and content is taller than maxHeight\n          changeOverflow === true && (inp.style.overflowY = parseInt(maxHeight, 10) < inp.scrollHeight ? 'auto' : 'hidden')\n          parentStyle.marginBottom = ''\n          inp.scrollTop = scrollTop\n        }\n      })\n    }\n\n    function onChange (e) {\n      onComposition(e)\n\n      if (emitTimer !== null) {\n        clearTimeout(emitTimer)\n        emitTimer = null\n      }\n\n      emitValueFn !== void 0 && emitValueFn()\n\n      emit('change', e.target.value)\n    }\n\n    function onFinishEditing (e) {\n      e !== void 0 && stop(e)\n\n      if (emitTimer !== null) {\n        clearTimeout(emitTimer)\n        emitTimer = null\n      }\n\n      emitValueFn !== void 0 && emitValueFn()\n\n      typedNumber = false\n      stopValueWatcher = false\n      delete temp.value\n\n      // we need to use setTimeout instead of this.$nextTick\n      // to avoid a bug where focusout is not emitted for type date/time/week/...\n      props.type !== 'file' && setTimeout(() => {\n        if (inputRef.value !== null) {\n          inputRef.value.value = innerValue.value !== void 0 ? innerValue.value : ''\n        }\n      })\n    }\n\n    function getCurValue () {\n      return temp.hasOwnProperty('value') === true\n        ? temp.value\n        : (innerValue.value !== void 0 ? innerValue.value : '')\n    }\n\n    onBeforeUnmount(() => {\n      onFinishEditing()\n    })\n\n    onMounted(() => {\n      // textarea only\n      props.autogrow === true && adjustHeight()\n    })\n\n    Object.assign(state, {\n      innerValue,\n\n      fieldClass: computed(() =>\n        `q-${ isTextarea.value === true ? 'textarea' : 'input' }`\n        + (props.autogrow === true ? ' q-textarea--autogrow' : '')\n      ),\n\n      hasShadow: computed(() =>\n        props.type !== 'file'\n        && typeof props.shadowText === 'string'\n        && props.shadowText.length !== 0\n      ),\n\n      inputRef,\n\n      emitValue,\n\n      hasValue,\n\n      floatingLabel: computed(() =>\n        (\n          hasValue.value === true\n          && (props.type !== 'number' || isNaN(innerValue.value) === false)\n        )\n        || fieldValueIsFilled(props.displayValue)\n      ),\n\n      getControl: () => {\n        return h(isTextarea.value === true ? 'textarea' : 'input', {\n          ref: inputRef,\n          class: [\n            'q-field__native q-placeholder',\n            props.inputClass\n          ],\n          style: props.inputStyle,\n          ...inputAttrs.value,\n          ...onEvents.value,\n          ...(\n            props.type !== 'file'\n              ? { value: getCurValue() }\n              : formDomProps.value\n          )\n        })\n      },\n\n      getShadowControl: () => {\n        return h('div', {\n          class: 'q-field__native q-field__shadow absolute-bottom no-pointer-events'\n            + (isTextarea.value === true ? '' : ' text-no-wrap')\n        }, [\n          h('span', { class: 'invisible' }, getCurValue()),\n          h('span', props.shadowText)\n        ])\n      }\n    })\n\n    const renderFn = useField(state)\n\n    // expose public methods\n    Object.assign(proxy, {\n      focus,\n      select,\n      getNativeElement: () => inputRef.value // deprecated\n    })\n\n    injectProp(proxy, 'nativeEl', () => inputRef.value)\n\n    return renderFn\n  }\n})\n","import { h, ref, onActivated, onDeactivated, onMounted, getCurrentInstance, nextTick, provide } from 'vue'\n\nimport { createComponent } from '../../utils/private/create.js'\nimport { stopAndPrevent } from '../../utils/event.js'\nimport { addFocusFn } from '../../utils/private/focus-manager.js'\nimport { hSlot } from '../../utils/private/render.js'\nimport { formKey } from '../../utils/private/symbols.js'\nimport { vmIsDestroyed } from '../../utils/private/vm.js'\n\nexport default createComponent({\n  name: 'QForm',\n\n  props: {\n    autofocus: Boolean,\n    noErrorFocus: Boolean,\n    noResetFocus: Boolean,\n    greedy: Boolean,\n\n    onSubmit: Function\n  },\n\n  emits: [ 'reset', 'validationSuccess', 'validationError' ],\n\n  setup (props, { slots, emit }) {\n    const vm = getCurrentInstance()\n    const rootRef = ref(null)\n\n    let validateIndex = 0\n    const registeredComponents = []\n\n    function validate (shouldFocus) {\n      const focus = typeof shouldFocus === 'boolean'\n        ? shouldFocus\n        : props.noErrorFocus !== true\n\n      const index = ++validateIndex\n\n      const emitEvent = (res, ref) => {\n        emit('validation' + (res === true ? 'Success' : 'Error'), ref)\n      }\n\n      const validateComponent = comp => {\n        const valid = comp.validate()\n\n        return typeof valid.then === 'function'\n          ? valid.then(\n            valid => ({ valid, comp }),\n            err => ({ valid: false, comp, err })\n          )\n          : Promise.resolve({ valid, comp })\n      }\n\n      const errorsPromise = props.greedy === true\n        ? Promise\n          .all(registeredComponents.map(validateComponent))\n          .then(res => res.filter(r => r.valid !== true))\n        : registeredComponents\n          .reduce(\n            (acc, comp) => acc.then(() => {\n              return validateComponent(comp).then(r => {\n                if (r.valid === false) { return Promise.reject(r) }\n              })\n            }),\n            Promise.resolve()\n          )\n          .catch(error => [ error ])\n\n      return errorsPromise.then(errors => {\n        if (errors === void 0 || errors.length === 0) {\n          index === validateIndex && emitEvent(true)\n          return true\n        }\n\n        // if not outdated already\n        if (index === validateIndex) {\n          const { comp, err } = errors[ 0 ]\n\n          err !== void 0 && console.error(err)\n          emitEvent(false, comp)\n\n          if (focus === true) {\n            // Try to focus first mounted and active component\n            const activeError = errors.find(({ comp }) => (\n              typeof comp.focus === 'function'\n              && vmIsDestroyed(comp.$) === false\n            ))\n\n            if (activeError !== void 0) {\n              activeError.comp.focus()\n            }\n          }\n        }\n\n        return false\n      })\n    }\n\n    function resetValidation () {\n      validateIndex++\n\n      registeredComponents.forEach(comp => {\n        typeof comp.resetValidation === 'function' && comp.resetValidation()\n      })\n    }\n\n    function submit (evt) {\n      evt !== void 0 && stopAndPrevent(evt)\n\n      const index = validateIndex + 1\n\n      validate().then(val => {\n        // if not outdated && validation succeeded\n        if (index === validateIndex && val === true) {\n          if (props.onSubmit !== void 0) {\n            emit('submit', evt)\n          }\n          else if (evt !== void 0 && evt.target !== void 0 && typeof evt.target.submit === 'function') {\n            evt.target.submit()\n          }\n        }\n      })\n    }\n\n    function reset (evt) {\n      evt !== void 0 && stopAndPrevent(evt)\n\n      emit('reset')\n\n      nextTick(() => { // allow userland to reset values before\n        resetValidation()\n        if (props.autofocus === true && props.noResetFocus !== true) {\n          focus()\n        }\n      })\n    }\n\n    function focus () {\n      addFocusFn(() => {\n        if (rootRef.value === null) { return }\n\n        const target = rootRef.value.querySelector('[autofocus][tabindex], [data-autofocus][tabindex]')\n          || rootRef.value.querySelector('[autofocus] [tabindex], [data-autofocus] [tabindex]')\n          || rootRef.value.querySelector('[autofocus], [data-autofocus]')\n          || Array.prototype.find.call(rootRef.value.querySelectorAll('[tabindex]'), el => el.tabIndex > -1)\n\n        target !== null && target !== void 0 && target.focus({ preventScroll: true })\n      })\n    }\n\n    provide(formKey, {\n      bindComponent (vmProxy) {\n        registeredComponents.push(vmProxy)\n      },\n\n      unbindComponent (vmProxy) {\n        const index = registeredComponents.indexOf(vmProxy)\n        if (index > -1) {\n          registeredComponents.splice(index, 1)\n        }\n      }\n    })\n\n    let shouldActivate = false\n\n    onDeactivated(() => {\n      shouldActivate = true\n    })\n\n    onActivated(() => {\n      shouldActivate === true && props.autofocus === true && focus()\n    })\n\n    onMounted(() => {\n      props.autofocus === true && focus()\n    })\n\n    // expose public methods\n    Object.assign(vm.proxy, {\n      validate,\n      resetValidation,\n      submit,\n      reset,\n      focus,\n      getValidationComponents: () => registeredComponents\n    })\n\n    return () => h('form', {\n      class: 'q-form',\n      ref: rootRef,\n      onSubmit: submit,\n      onReset: reset\n    }, hSlot(slots.default))\n  }\n})\n"],"names":["useFormChild","validate","resetValidation","requiresQForm","$form","inject","formKey","props","proxy","getCurrentInstance","watch","val","onMounted","onBeforeUnmount","hex","hexa","hexOrHexa","rgb","rgba","testPattern","v","lazyRulesValues","useValidateProps","useValidate","focused","innerLoading","innerError","ref","innerErrorMessage","isDirtyModel","validateIndex","unwatchRules","hasRules","computed","hasActiveRules","hasError","errorMessage","validateIfNeeded","debouncedValidate","index","setDirty","update","err","msg","promises","i","rule","res","r","e","changedRules","debounce","injectProp","listenerRE","useSplitAttrs","attrs","vnode","acc","attributes","listeners","key","onBeforeUpdate","getTargetUid","uid","fieldValueIsFilled","useFieldProps","useDarkProps","useFieldEmits","useFieldState","useDark","useField","state","emit","slots","$q","focusoutTimer","value","onControlFocusin","onControlFocusout","clearValue","focus","len","max","floatingLabel","shouldRenderBottom","styleType","classes","hasLabel","contentClass","labelClass","controlSlotScope","focusHandler","el","target","addFocusFn","blur","removeFocusFn","then","stopAndPrevent","nextTick","getContent","node","h","prevent","getControlContainer","getInnerAppendNode","QIcon","QSpinner","hSlot","getBottom","hasCounter","main","Transition","content","shouldActivate","onDeactivated","onActivated","isRuntimeSsrPreHydration","labelAttrs","NAMED_MASKS","TOKENS","KEYS","tokenRegexMask","escRegex","MARKER","useMaskProps","useMask","emitValue","inputRef","maskMarked","maskReplaced","computedMask","computedUnmask","pastedTextStart","selectionAnchor","hasMask","innerValue","getInitialMaskedValue","getIsTypeText","updateMaskInternals","updateMaskValue","unmaskValue","masked","maskValue","fillWithMask","getPaddedMaskMarked","size","pad","localMaskMarked","padPos","localComputedMask","fillChar","fillCharEscaped","unmask","extract","mask","firstMatch","unmaskChar","negateChar","_","char1","esc","token","char2","c","unmaskMatcher","extractLast","extractMatcher","re","unmaskMatch","extractMatch","extractMatcherLength","str","m","rawVal","updateMaskInternalsFlag","inputType","inp","end","endReverse","unmasked","preMasked","changed","cursor","maxEnd","moveCursor","moveCursorForPaste","start","noMarkBefore","limit","onMaskedClick","onMaskedKeydown","shouldIgnoreKey","fn","maskValueReverse","valIndex","output","maskIndex","valChar","maskDef","firstTokenIndex","useFormProps","useFormInputNameAttr","useFileFormDomProps","typeGuard","getFormDomProps","model","dt","file","isJapanese","isChinese","isKorean","isPlainText","useKeyComposition","onInput","client","QInput","createComponent","temp","emitCachedValue","typedNumber","stopValueWatcher","emitTimer","emitValueFn","nameProp","formDomProps","hasValue","onComposition","isTextarea","isTypeText","onEvents","evt","onPaste","onChange","onFinishEditing","stop","onAnimationend","inputAttrs","adjustHeight","select","selectionStart","selectionEnd","stopWatcher","parentStyle","scrollTop","overflowY","maxHeight","changeOverflow","getCurValue","renderFn","QForm","vm","rootRef","registeredComponents","shouldFocus","emitEvent","validateComponent","comp","valid","error","errors","activeError","vmIsDestroyed","submit","reset","provide","vmProxy"],"mappings":"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"}