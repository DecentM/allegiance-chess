import{Q as w,a as l}from"./QCard.ccac548e.js";import{B as b}from"./board.6097527a.js";import{u as y}from"./use-quasar.1fb2748c.js";import{u as x,_,G as g,a as C}from"./board-size.ae3dc6df.js";import{A as N,o as B,a as d,B as m,C as v,D as s,G as t,aj as S,M as n,P as p,O as z}from"./index.1e21fab5.js";import"./use-dark.29e284eb.js";import"./QList.a3142a99.js";import"./QScrollObserver.619d8e12.js";import"./focus-manager.202af5b7.js";import"./chess-piece.376579ec.js";const I=N({__name:"online-game",props:{connection:{}},setup(f){const o=f;B(()=>{o.connection.disconnect()});const c=d(()=>{const e=new b;return e.importAFEN(o.connection.boardAFEN.value),e.importMoveHistory(o.connection.moveHistory.value),e}),h=e=>{o.connection.sendMessage({type:"execute-node-index",value:e})},r=y(),i=x(),u=d(()=>o.connection.serverSide.value?o.connection.mode.value==="server"?o.connection.serverSide.value:o.connection.serverSide.value==="white"?"black":"white":null);return(e,A)=>(m(),v(w,{flat:"",class:"full-width"},{default:s(()=>[t(l,{horizontal:n(r).screen.gt.sm,class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>[t(l,{style:S({width:`${n(i)}px`}),class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>{var a;return[t(_,{"model-value":e.connection.boardAFEN.value,width:n(i),onExecuteNodeIndex:h,board:c.value,perspective:(a=u.value)!=null?a:"white","play-as":["white","black"],"rounded-borders":n(r).screen.gt.xs},null,8,["model-value","width","board","perspective","rounded-borders"])]}),_:1},8,["style","class"]),t(l,{class:"q-mb-md full-width"},{default:s(()=>{var a;return[t(g,{"move-history":c.value.getMoveHistoryAst(),"active-colour":c.value.activeColour,"own-colour":(a=u.value)!=null?a:"white",afen:e.connection.boardAFEN.value},null,8,["move-history","active-colour","own-colour","afen"])]}),_:1})]),_:1},8,["horizontal","class"]),e.connection.gameOver.value?(m(),v(C,{key:0,node:e.connection.gameOver.value},null,8,["node"])):z("",!0)]),_:1}))}});export{I as default};
//# sourceMappingURL=online-game.73e40084.js.map
