import{Q as v,a as l}from"./QCard.426336fc.js";import{M as h,X as x,aj as y,a as s,N as _,O as w,P as i,S as o,ae as g}from"./index.d8f19860.js";import{B as H}from"./board.bb55146e.js";import{_ as b,G as A}from"./game-sidebar.a994f273.js";import{H as n}from"./hex.3eac888e.js";import{F as C}from"./boards.07b20eb6.js";import{u as z}from"./use-quasar.99ff1232.js";import"./use-dark.c383a348.js";import"./QList.1534be3b.js";import"./selection.c358ce69.js";import"./focus-manager.202af5b7.js";import"./chess-piece.bd0ff5fa.js";const P=h({__name:"pen-pal-game",setup(M){const a=x(),m=y(),p=s(()=>{const e=Array.isArray(a.params.state)?a.params.state[0]:a.params.state;return e?n.hexToUtf8(e):C.VanillaDefault}),d=s(()=>{const e=Array.isArray(a.params.history)?a.params.history[0]:a.params.history;return e?n.hexToUtf8(e):""}),t=s(()=>{const e=new H;return e.importAFEN(p.value),e.importMoveHistory(d.value),e}),f=e=>{const u=t.value.findMoveIndex(e);u!==-1&&(t.value.executeMoveIndex(u),m.push({path:`/play/pen-pal/${n.utf8ToHex(t.value.toAFEN())}/${n.utf8ToHex(t.value.getMoveHistory())}`}))},r=z(),c=s(()=>r.screen.gt.lg?r.screen.sizes.lg:r.screen.gt.md?r.screen.sizes.md:r.screen.gt.sm?r.screen.sizes.sm:r.screen.gt.xs?r.screen.width/2:r.screen.width/3);return(e,u)=>(_(),w(v,{flat:"",class:"full-width"},{default:i(()=>[o(l,{horizontal:""},{default:i(()=>[o(l,{style:g({width:`${c.value}px`})},{default:i(()=>[o(b,{onExecuteNode:f,board:t.value,perspective:t.value.activeColour,"play-as":["white","black"],width:c.value},null,8,["board","perspective","width"])]),_:1},8,["style"]),o(l,{class:"q-mb-md full-width"},{default:i(()=>[o(A,{"move-history":t.value.getMoveHistoryAst(),"active-colour":t.value.activeColour,"own-colour":t.value.activeColour},null,8,["move-history","active-colour","own-colour"])]),_:1})]),_:1})]),_:1}))}});export{P as default};
