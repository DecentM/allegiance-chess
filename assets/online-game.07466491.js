import{Q as h}from"./selection.43b9cc07.js";import{Q as _}from"./chess-piece.d3263fc3.js";import{Q as i,a as l}from"./QCard.7a95b181.js";import{B as b}from"./board.8fb46aec.js";import{_ as w,a as N}from"./afen-info.077c420b.js";import{u as x}from"./use-quasar.c372a953.js";import{M as Q,o as B,a as d,r as g,N as E,O as k,P as t,S as a,ac as A,U as C}from"./index.9b88f190.js";import"./use-dark.60bd8d0f.js";import"./QList.569b2a3c.js";import"./focus-manager.202af5b7.js";const F={class:"col-lg col-md-12 full-width"},z=Q({__name:"online-game",props:{connection:{}},setup(u){const o=u;B(()=>{o.connection.disconnect()});const s=d(()=>{const e=new b;return e.importAFEN(o.connection.boardAFEN.value),e}),m=e=>{const r=s.value.findMoveIndex(e);r!==-1&&o.connection.sendMessage({type:"execute-node-index",value:r})},n=g(800),f=x(),p=e=>{if(f.screen.gt.md){n.value=e.width-e.width/8-200;return}n.value=e.width-e.width/8},v=d(()=>o.connection.serverSide.value?o.connection.mode.value==="server"?o.connection.serverSide.value:o.connection.serverSide.value==="white"?"black":"white":null);return(e,r)=>(E(),k(i,{flat:""},{default:t(()=>[a(l,{class:"row"},{default:t(()=>{var c;return[a(h,{onResize:p}),a(w,{"model-value":e.connection.boardAFEN.value,width:n.value,onExecuteNode:m,board:s.value,perspective:(c=v.value)!=null?c:"white","play-as":["white","black"]},null,8,["model-value","width","board","perspective"]),A("div",F,[a(i,{flat:"",bordered:"",class:"full-height"},{default:t(()=>[a(l,{class:"bg-primary q-mb-md"},{default:t(()=>[a(_,null,{default:t(()=>[C("Board information")]),_:1})]),_:1}),a(N,{"model-value":e.connection.boardAFEN.value},null,8,["model-value"])]),_:1})])]}),_:1})]),_:1}))}});export{z as default};
