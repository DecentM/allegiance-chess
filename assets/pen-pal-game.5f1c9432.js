import{Q as h,a as c}from"./QCard.781a9cad.js";import{M as y,X as x,aj as _,a as s,N as w,O as g,P as n,S as o,ae as H,$ as b}from"./index.8fb4d5f0.js";import{B as z}from"./board.6abea6e8.js";import{_ as A,G as C}from"./game-sidebar.3596ae06.js";import{H as i}from"./hex.4b667cf2.js";import{F as M}from"./boards.07b20eb6.js";import{u as N}from"./use-quasar.08edd231.js";import"./use-dark.8ed248c2.js";import"./QList.c3f98d17.js";import"./selection.a0c874b8.js";import"./focus-manager.202af5b7.js";import"./chess-piece.4abe5418.js";const u=200,U=y({__name:"pen-pal-game",setup($){const a=x(),p=_(),d=s(()=>{const e=Array.isArray(a.params.state)?a.params.state[0]:a.params.state;return e?i.hexToUtf8(e):M.VanillaDefault}),f=s(()=>{const e=Array.isArray(a.params.history)?a.params.history[0]:a.params.history;return e?i.hexToUtf8(e):""}),t=s(()=>{const e=new z;return e.importAFEN(d.value),e.importMoveHistory(f.value),e}),v=e=>{const l=t.value.findMoveIndex(e);l!==-1&&(t.value.executeMoveIndex(l),p.push({path:`/play/pen-pal/${i.utf8ToHex(t.value.toAFEN())}/${i.utf8ToHex(t.value.getMoveHistory())}`}))},r=N(),m=s(()=>r.screen.gt.lg?r.screen.sizes.lg-u:r.screen.gt.md?r.screen.sizes.md-u:r.screen.gt.sm?r.screen.sizes.sm-u:r.screen.width-u-150);return(e,l)=>(w(),g(h,{flat:"",class:"full-width"},{default:n(()=>[o(c,{horizontal:b(r).screen.gt.sm},{default:n(()=>[o(c,{style:H({width:`${m.value}px`})},{default:n(()=>[o(A,{onExecuteNode:v,board:t.value,perspective:t.value.activeColour,"play-as":["white","black"],width:m.value},null,8,["board","perspective","width"])]),_:1},8,["style"]),o(c,{class:"q-mb-md full-width"},{default:n(()=>[o(C,{"move-history":t.value.getMoveHistoryAst(),"active-colour":t.value.activeColour,"own-colour":t.value.activeColour},null,8,["move-history","active-colour","own-colour"])]),_:1})]),_:1},8,["horizontal"])]),_:1}))}});export{U as default};
