(function(){"use strict";var we=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},T={},mt={},dr={};dr.byteLength=Ps,dr.toByteArray=js,dr.fromByteArray=Cs;for(var $e=[],Re=[],Os=typeof Uint8Array!="undefined"?Uint8Array:Array,cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt=0,xs=cn.length;vt<xs;++vt)$e[vt]=cn[vt],Re[cn.charCodeAt(vt)]=vt;Re["-".charCodeAt(0)]=62,Re["_".charCodeAt(0)]=63;function Pi(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Ps(t){var e=Pi(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Ts(t,e,r){return(e+r)*3/4-r}function js(t){var e,r=Pi(t),n=r[0],i=r[1],o=new Os(Ts(t,n,i)),f=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=4)e=Re[t.charCodeAt(c)]<<18|Re[t.charCodeAt(c+1)]<<12|Re[t.charCodeAt(c+2)]<<6|Re[t.charCodeAt(c+3)],o[f++]=e>>16&255,o[f++]=e>>8&255,o[f++]=e&255;return i===2&&(e=Re[t.charCodeAt(c)]<<2|Re[t.charCodeAt(c+1)]>>4,o[f++]=e&255),i===1&&(e=Re[t.charCodeAt(c)]<<10|Re[t.charCodeAt(c+1)]<<4|Re[t.charCodeAt(c+2)]>>2,o[f++]=e>>8&255,o[f++]=e&255),o}function Ns(t){return $e[t>>18&63]+$e[t>>12&63]+$e[t>>6&63]+$e[t&63]}function Is(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Ns(n));return i.join("")}function Cs(t){for(var e,r=t.length,n=r%3,i=[],o=16383,f=0,u=r-n;f<u;f+=o)i.push(Is(t,f,f+o>u?u:f+o));return n===1?(e=t[r-1],i.push($e[e>>2]+$e[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push($e[e>>10]+$e[e>>4&63]+$e[e<<2&63]+"=")),i.join("")}var ln={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ln.read=function(t,e,r,n,i){var o,f,u=i*8-n-1,c=(1<<u)-1,p=c>>1,y=-7,d=r?i-1:0,g=r?-1:1,v=t[e+d];for(d+=g,o=v&(1<<-y)-1,v>>=-y,y+=u;y>0;o=o*256+t[e+d],d+=g,y-=8);for(f=o&(1<<-y)-1,o>>=-y,y+=n;y>0;f=f*256+t[e+d],d+=g,y-=8);if(o===0)o=1-p;else{if(o===c)return f?NaN:(v?-1:1)*(1/0);f=f+Math.pow(2,n),o=o-p}return(v?-1:1)*f*Math.pow(2,o-n)},ln.write=function(t,e,r,n,i,o){var f,u,c,p=o*8-i-1,y=(1<<p)-1,d=y>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,E=n?1:-1,R=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,f=y):(f=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-f))<1&&(f--,c*=2),f+d>=1?e+=g/c:e+=g*Math.pow(2,1-d),e*c>=2&&(f++,c/=2),f+d>=y?(u=0,f=y):f+d>=1?(u=(e*c-1)*Math.pow(2,i),f=f+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),f=0));i>=8;t[r+v]=u&255,v+=E,u/=256,i-=8);for(f=f<<i|u,p+=i;p>0;t[r+v]=f&255,v+=E,f/=256,p-=8);t[r+v-E]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=dr,r=ln,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const l=new Uint8Array(1),a={foo:function(){return 42}};return Object.setPrototypeOf(a,Uint8Array.prototype),Object.setPrototypeOf(l,a),l.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function f(l){if(l>i)throw new RangeError('The value "'+l+'" is invalid for option "size"');const a=new Uint8Array(l);return Object.setPrototypeOf(a,u.prototype),a}function u(l,a,s){if(typeof l=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(l)}return c(l,a,s)}u.poolSize=8192;function c(l,a,s){if(typeof l=="string")return g(l,a);if(ArrayBuffer.isView(l))return E(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(Ge(l,ArrayBuffer)||l&&Ge(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ge(l,SharedArrayBuffer)||l&&Ge(l.buffer,SharedArrayBuffer)))return R(l,a,s);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const h=l.valueOf&&l.valueOf();if(h!=null&&h!==l)return u.from(h,a,s);const m=N(l);if(m)return m;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return u.from(l[Symbol.toPrimitive]("string"),a,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}u.from=function(l,a,s){return c(l,a,s)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function p(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function y(l,a,s){return p(l),l<=0?f(l):a!==void 0?typeof s=="string"?f(l).fill(a,s):f(l).fill(a):f(l)}u.alloc=function(l,a,s){return y(l,a,s)};function d(l){return p(l),f(l<0?0:P(l)|0)}u.allocUnsafe=function(l){return d(l)},u.allocUnsafeSlow=function(l){return d(l)};function g(l,a){if((typeof a!="string"||a==="")&&(a="utf8"),!u.isEncoding(a))throw new TypeError("Unknown encoding: "+a);const s=X(l,a)|0;let h=f(s);const m=h.write(l,a);return m!==s&&(h=h.slice(0,m)),h}function v(l){const a=l.length<0?0:P(l.length)|0,s=f(a);for(let h=0;h<a;h+=1)s[h]=l[h]&255;return s}function E(l){if(Ge(l,Uint8Array)){const a=new Uint8Array(l);return R(a.buffer,a.byteOffset,a.byteLength)}return v(l)}function R(l,a,s){if(a<0||l.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<a+(s||0))throw new RangeError('"length" is outside of buffer bounds');let h;return a===void 0&&s===void 0?h=new Uint8Array(l):s===void 0?h=new Uint8Array(l,a):h=new Uint8Array(l,a,s),Object.setPrototypeOf(h,u.prototype),h}function N(l){if(u.isBuffer(l)){const a=P(l.length)|0,s=f(a);return s.length===0||l.copy(s,0,0,a),s}if(l.length!==void 0)return typeof l.length!="number"||xi(l.length)?f(0):v(l);if(l.type==="Buffer"&&Array.isArray(l.data))return v(l.data)}function P(l){if(l>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return l|0}function I(l){return+l!=l&&(l=0),u.alloc(+l)}u.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==u.prototype},u.compare=function(a,s){if(Ge(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),Ge(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(a)||!u.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===s)return 0;let h=a.length,m=s.length;for(let w=0,S=Math.min(h,m);w<S;++w)if(a[w]!==s[w]){h=a[w],m=s[w];break}return h<m?-1:m<h?1:0},u.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(a,s){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return u.alloc(0);let h;if(s===void 0)for(s=0,h=0;h<a.length;++h)s+=a[h].length;const m=u.allocUnsafe(s);let w=0;for(h=0;h<a.length;++h){let S=a[h];if(Ge(S,Uint8Array))w+S.length>m.length?(u.isBuffer(S)||(S=u.from(S)),S.copy(m,w)):Uint8Array.prototype.set.call(m,S,w);else if(u.isBuffer(S))S.copy(m,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=S.length}return m};function X(l,a){if(u.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||Ge(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const s=l.length,h=arguments.length>2&&arguments[2]===!0;if(!h&&s===0)return 0;let m=!1;for(;;)switch(a){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return pr(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return fn(l).length;default:if(m)return h?-1:pr(l).length;a=(""+a).toLowerCase(),m=!0}}u.byteLength=X;function M(l,a,s){let h=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,a>>>=0,s<=a))return"";for(l||(l="utf8");;)switch(l){case"hex":return Me(this,a,s);case"utf8":case"utf-8":return pe(this,a,s);case"ascii":return lr(this,a,s);case"latin1":case"binary":return ot(this,a,s);case"base64":return ve(this,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return at(this,a,s);default:if(h)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),h=!0}}u.prototype._isBuffer=!0;function C(l,a,s){const h=l[a];l[a]=l[s],l[s]=h}u.prototype.swap16=function(){const a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<a;s+=2)C(this,s,s+1);return this},u.prototype.swap32=function(){const a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<a;s+=4)C(this,s,s+3),C(this,s+1,s+2);return this},u.prototype.swap64=function(){const a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<a;s+=8)C(this,s,s+7),C(this,s+1,s+6),C(this,s+2,s+5),C(this,s+3,s+4);return this},u.prototype.toString=function(){const a=this.length;return a===0?"":arguments.length===0?pe(this,0,a):M.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(a){if(!u.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:u.compare(this,a)===0},u.prototype.inspect=function(){let a="";const s=t.INSPECT_MAX_BYTES;return a=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(a+=" ... "),"<Buffer "+a+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(a,s,h,m,w){if(Ge(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(s===void 0&&(s=0),h===void 0&&(h=a?a.length:0),m===void 0&&(m=0),w===void 0&&(w=this.length),s<0||h>a.length||m<0||w>this.length)throw new RangeError("out of range index");if(m>=w&&s>=h)return 0;if(m>=w)return-1;if(s>=h)return 1;if(s>>>=0,h>>>=0,m>>>=0,w>>>=0,this===a)return 0;let S=w-m,L=h-s;const oe=Math.min(S,L),te=this.slice(m,w),ae=a.slice(s,h);for(let Z=0;Z<oe;++Z)if(te[Z]!==ae[Z]){S=te[Z],L=ae[Z];break}return S<L?-1:L<S?1:0};function W(l,a,s,h,m){if(l.length===0)return-1;if(typeof s=="string"?(h=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,xi(s)&&(s=m?0:l.length-1),s<0&&(s=l.length+s),s>=l.length){if(m)return-1;s=l.length-1}else if(s<0)if(m)s=0;else return-1;if(typeof a=="string"&&(a=u.from(a,h)),u.isBuffer(a))return a.length===0?-1:x(l,a,s,h,m);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(l,a,s):Uint8Array.prototype.lastIndexOf.call(l,a,s):x(l,[a],s,h,m);throw new TypeError("val must be string, number or Buffer")}function x(l,a,s,h,m){let w=1,S=l.length,L=a.length;if(h!==void 0&&(h=String(h).toLowerCase(),h==="ucs2"||h==="ucs-2"||h==="utf16le"||h==="utf-16le")){if(l.length<2||a.length<2)return-1;w=2,S/=2,L/=2,s/=2}function oe(ae,Z){return w===1?ae[Z]:ae.readUInt16BE(Z*w)}let te;if(m){let ae=-1;for(te=s;te<S;te++)if(oe(l,te)===oe(a,ae===-1?0:te-ae)){if(ae===-1&&(ae=te),te-ae+1===L)return ae*w}else ae!==-1&&(te-=te-ae),ae=-1}else for(s+L>S&&(s=S-L),te=s;te>=0;te--){let ae=!0;for(let Z=0;Z<L;Z++)if(oe(l,te+Z)!==oe(a,Z)){ae=!1;break}if(ae)return te}return-1}u.prototype.includes=function(a,s,h){return this.indexOf(a,s,h)!==-1},u.prototype.indexOf=function(a,s,h){return W(this,a,s,h,!0)},u.prototype.lastIndexOf=function(a,s,h){return W(this,a,s,h,!1)};function D(l,a,s,h){s=Number(s)||0;const m=l.length-s;h?(h=Number(h),h>m&&(h=m)):h=m;const w=a.length;h>w/2&&(h=w/2);let S;for(S=0;S<h;++S){const L=parseInt(a.substr(S*2,2),16);if(xi(L))return S;l[s+S]=L}return S}function Q(l,a,s,h){return hr(pr(a,l.length-s),l,s,h)}function le(l,a,s,h){return hr(Oi(a),l,s,h)}function ie(l,a,s,h){return hr(fn(a),l,s,h)}function fe(l,a,s,h){return hr(A(a,l.length-s),l,s,h)}u.prototype.write=function(a,s,h,m){if(s===void 0)m="utf8",h=this.length,s=0;else if(h===void 0&&typeof s=="string")m=s,h=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(h)?(h=h>>>0,m===void 0&&(m="utf8")):(m=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const w=this.length-s;if((h===void 0||h>w)&&(h=w),a.length>0&&(h<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let S=!1;for(;;)switch(m){case"hex":return D(this,a,s,h);case"utf8":case"utf-8":return Q(this,a,s,h);case"ascii":case"latin1":case"binary":return le(this,a,s,h);case"base64":return ie(this,a,s,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,a,s,h);default:if(S)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),S=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ve(l,a,s){return a===0&&s===l.length?e.fromByteArray(l):e.fromByteArray(l.slice(a,s))}function pe(l,a,s){s=Math.min(l.length,s);const h=[];let m=a;for(;m<s;){const w=l[m];let S=null,L=w>239?4:w>223?3:w>191?2:1;if(m+L<=s){let oe,te,ae,Z;switch(L){case 1:w<128&&(S=w);break;case 2:oe=l[m+1],(oe&192)===128&&(Z=(w&31)<<6|oe&63,Z>127&&(S=Z));break;case 3:oe=l[m+1],te=l[m+2],(oe&192)===128&&(te&192)===128&&(Z=(w&15)<<12|(oe&63)<<6|te&63,Z>2047&&(Z<55296||Z>57343)&&(S=Z));break;case 4:oe=l[m+1],te=l[m+2],ae=l[m+3],(oe&192)===128&&(te&192)===128&&(ae&192)===128&&(Z=(w&15)<<18|(oe&63)<<12|(te&63)<<6|ae&63,Z>65535&&Z<1114112&&(S=Z))}}S===null?(S=65533,L=1):S>65535&&(S-=65536,h.push(S>>>10&1023|55296),S=56320|S&1023),h.push(S),m+=L}return ke(h)}const Ae=4096;function ke(l){const a=l.length;if(a<=Ae)return String.fromCharCode.apply(String,l);let s="",h=0;for(;h<a;)s+=String.fromCharCode.apply(String,l.slice(h,h+=Ae));return s}function lr(l,a,s){let h="";s=Math.min(l.length,s);for(let m=a;m<s;++m)h+=String.fromCharCode(l[m]&127);return h}function ot(l,a,s){let h="";s=Math.min(l.length,s);for(let m=a;m<s;++m)h+=String.fromCharCode(l[m]);return h}function Me(l,a,s){const h=l.length;(!a||a<0)&&(a=0),(!s||s<0||s>h)&&(s=h);let m="";for(let w=a;w<s;++w)m+=Zh[l[w]];return m}function at(l,a,s){const h=l.slice(a,s);let m="";for(let w=0;w<h.length-1;w+=2)m+=String.fromCharCode(h[w]+h[w+1]*256);return m}u.prototype.slice=function(a,s){const h=this.length;a=~~a,s=s===void 0?h:~~s,a<0?(a+=h,a<0&&(a=0)):a>h&&(a=h),s<0?(s+=h,s<0&&(s=0)):s>h&&(s=h),s<a&&(s=a);const m=this.subarray(a,s);return Object.setPrototypeOf(m,u.prototype),m};function re(l,a,s){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+a>s)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(a,s,h){a=a>>>0,s=s>>>0,h||re(a,s,this.length);let m=this[a],w=1,S=0;for(;++S<s&&(w*=256);)m+=this[a+S]*w;return m},u.prototype.readUintBE=u.prototype.readUIntBE=function(a,s,h){a=a>>>0,s=s>>>0,h||re(a,s,this.length);let m=this[a+--s],w=1;for(;s>0&&(w*=256);)m+=this[a+--s]*w;return m},u.prototype.readUint8=u.prototype.readUInt8=function(a,s){return a=a>>>0,s||re(a,1,this.length),this[a]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(a,s){return a=a>>>0,s||re(a,2,this.length),this[a]|this[a+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(a,s){return a=a>>>0,s||re(a,2,this.length),this[a]<<8|this[a+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(a,s){return a=a>>>0,s||re(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(a,s){return a=a>>>0,s||re(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},u.prototype.readBigUInt64LE=st(function(a){a=a>>>0,Fe(a,"offset");const s=this[a],h=this[a+7];(s===void 0||h===void 0)&&Te(a,this.length-8);const m=s+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24,w=this[++a]+this[++a]*2**8+this[++a]*2**16+h*2**24;return BigInt(m)+(BigInt(w)<<BigInt(32))}),u.prototype.readBigUInt64BE=st(function(a){a=a>>>0,Fe(a,"offset");const s=this[a],h=this[a+7];(s===void 0||h===void 0)&&Te(a,this.length-8);const m=s*2**24+this[++a]*2**16+this[++a]*2**8+this[++a],w=this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+h;return(BigInt(m)<<BigInt(32))+BigInt(w)}),u.prototype.readIntLE=function(a,s,h){a=a>>>0,s=s>>>0,h||re(a,s,this.length);let m=this[a],w=1,S=0;for(;++S<s&&(w*=256);)m+=this[a+S]*w;return w*=128,m>=w&&(m-=Math.pow(2,8*s)),m},u.prototype.readIntBE=function(a,s,h){a=a>>>0,s=s>>>0,h||re(a,s,this.length);let m=s,w=1,S=this[a+--m];for(;m>0&&(w*=256);)S+=this[a+--m]*w;return w*=128,S>=w&&(S-=Math.pow(2,8*s)),S},u.prototype.readInt8=function(a,s){return a=a>>>0,s||re(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},u.prototype.readInt16LE=function(a,s){a=a>>>0,s||re(a,2,this.length);const h=this[a]|this[a+1]<<8;return h&32768?h|4294901760:h},u.prototype.readInt16BE=function(a,s){a=a>>>0,s||re(a,2,this.length);const h=this[a+1]|this[a]<<8;return h&32768?h|4294901760:h},u.prototype.readInt32LE=function(a,s){return a=a>>>0,s||re(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},u.prototype.readInt32BE=function(a,s){return a=a>>>0,s||re(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},u.prototype.readBigInt64LE=st(function(a){a=a>>>0,Fe(a,"offset");const s=this[a],h=this[a+7];(s===void 0||h===void 0)&&Te(a,this.length-8);const m=this[a+4]+this[a+5]*2**8+this[a+6]*2**16+(h<<24);return(BigInt(m)<<BigInt(32))+BigInt(s+this[++a]*2**8+this[++a]*2**16+this[++a]*2**24)}),u.prototype.readBigInt64BE=st(function(a){a=a>>>0,Fe(a,"offset");const s=this[a],h=this[a+7];(s===void 0||h===void 0)&&Te(a,this.length-8);const m=(s<<24)+this[++a]*2**16+this[++a]*2**8+this[++a];return(BigInt(m)<<BigInt(32))+BigInt(this[++a]*2**24+this[++a]*2**16+this[++a]*2**8+h)}),u.prototype.readFloatLE=function(a,s){return a=a>>>0,s||re(a,4,this.length),r.read(this,a,!0,23,4)},u.prototype.readFloatBE=function(a,s){return a=a>>>0,s||re(a,4,this.length),r.read(this,a,!1,23,4)},u.prototype.readDoubleLE=function(a,s){return a=a>>>0,s||re(a,8,this.length),r.read(this,a,!0,52,8)},u.prototype.readDoubleBE=function(a,s){return a=a>>>0,s||re(a,8,this.length),r.read(this,a,!1,52,8)};function b(l,a,s,h,m,w){if(!u.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>m||a<w)throw new RangeError('"value" argument is out of bounds');if(s+h>l.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(a,s,h,m){if(a=+a,s=s>>>0,h=h>>>0,!m){const L=Math.pow(2,8*h)-1;b(this,a,s,h,L,0)}let w=1,S=0;for(this[s]=a&255;++S<h&&(w*=256);)this[s+S]=a/w&255;return s+h},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(a,s,h,m){if(a=+a,s=s>>>0,h=h>>>0,!m){const L=Math.pow(2,8*h)-1;b(this,a,s,h,L,0)}let w=h-1,S=1;for(this[s+w]=a&255;--w>=0&&(S*=256);)this[s+w]=a/S&255;return s+h},u.prototype.writeUint8=u.prototype.writeUInt8=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,1,255,0),this[s]=a&255,s+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,2,65535,0),this[s]=a&255,this[s+1]=a>>>8,s+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,2,65535,0),this[s]=a>>>8,this[s+1]=a&255,s+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,4,4294967295,0),this[s+3]=a>>>24,this[s+2]=a>>>16,this[s+1]=a>>>8,this[s]=a&255,s+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,4,4294967295,0),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=a&255,s+4};function k(l,a,s,h,m){We(a,h,m,l,s,7);let w=Number(a&BigInt(4294967295));l[s++]=w,w=w>>8,l[s++]=w,w=w>>8,l[s++]=w,w=w>>8,l[s++]=w;let S=Number(a>>BigInt(32)&BigInt(4294967295));return l[s++]=S,S=S>>8,l[s++]=S,S=S>>8,l[s++]=S,S=S>>8,l[s++]=S,s}function _(l,a,s,h,m){We(a,h,m,l,s,7);let w=Number(a&BigInt(4294967295));l[s+7]=w,w=w>>8,l[s+6]=w,w=w>>8,l[s+5]=w,w=w>>8,l[s+4]=w;let S=Number(a>>BigInt(32)&BigInt(4294967295));return l[s+3]=S,S=S>>8,l[s+2]=S,S=S>>8,l[s+1]=S,S=S>>8,l[s]=S,s+8}u.prototype.writeBigUInt64LE=st(function(a,s=0){return k(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=st(function(a,s=0){return _(this,a,s,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(a,s,h,m){if(a=+a,s=s>>>0,!m){const oe=Math.pow(2,8*h-1);b(this,a,s,h,oe-1,-oe)}let w=0,S=1,L=0;for(this[s]=a&255;++w<h&&(S*=256);)a<0&&L===0&&this[s+w-1]!==0&&(L=1),this[s+w]=(a/S>>0)-L&255;return s+h},u.prototype.writeIntBE=function(a,s,h,m){if(a=+a,s=s>>>0,!m){const oe=Math.pow(2,8*h-1);b(this,a,s,h,oe-1,-oe)}let w=h-1,S=1,L=0;for(this[s+w]=a&255;--w>=0&&(S*=256);)a<0&&L===0&&this[s+w+1]!==0&&(L=1),this[s+w]=(a/S>>0)-L&255;return s+h},u.prototype.writeInt8=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,1,127,-128),a<0&&(a=255+a+1),this[s]=a&255,s+1},u.prototype.writeInt16LE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,2,32767,-32768),this[s]=a&255,this[s+1]=a>>>8,s+2},u.prototype.writeInt16BE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,2,32767,-32768),this[s]=a>>>8,this[s+1]=a&255,s+2},u.prototype.writeInt32LE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,4,2147483647,-2147483648),this[s]=a&255,this[s+1]=a>>>8,this[s+2]=a>>>16,this[s+3]=a>>>24,s+4},u.prototype.writeInt32BE=function(a,s,h){return a=+a,s=s>>>0,h||b(this,a,s,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[s]=a>>>24,this[s+1]=a>>>16,this[s+2]=a>>>8,this[s+3]=a&255,s+4},u.prototype.writeBigInt64LE=st(function(a,s=0){return k(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=st(function(a,s=0){return _(this,a,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function B(l,a,s,h,m,w){if(s+h>l.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function G(l,a,s,h,m){return a=+a,s=s>>>0,m||B(l,a,s,4),r.write(l,a,s,h,23,4),s+4}u.prototype.writeFloatLE=function(a,s,h){return G(this,a,s,!0,h)},u.prototype.writeFloatBE=function(a,s,h){return G(this,a,s,!1,h)};function z(l,a,s,h,m){return a=+a,s=s>>>0,m||B(l,a,s,8),r.write(l,a,s,h,52,8),s+8}u.prototype.writeDoubleLE=function(a,s,h){return z(this,a,s,!0,h)},u.prototype.writeDoubleBE=function(a,s,h){return z(this,a,s,!1,h)},u.prototype.copy=function(a,s,h,m){if(!u.isBuffer(a))throw new TypeError("argument should be a Buffer");if(h||(h=0),!m&&m!==0&&(m=this.length),s>=a.length&&(s=a.length),s||(s=0),m>0&&m<h&&(m=h),m===h||a.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),a.length-s<m-h&&(m=a.length-s+h);const w=m-h;return this===a&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,h,m):Uint8Array.prototype.set.call(a,this.subarray(h,m),s),w},u.prototype.fill=function(a,s,h,m){if(typeof a=="string"){if(typeof s=="string"?(m=s,s=0,h=this.length):typeof h=="string"&&(m=h,h=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!u.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(a.length===1){const S=a.charCodeAt(0);(m==="utf8"&&S<128||m==="latin1")&&(a=S)}}else typeof a=="number"?a=a&255:typeof a=="boolean"&&(a=Number(a));if(s<0||this.length<s||this.length<h)throw new RangeError("Out of range index");if(h<=s)return this;s=s>>>0,h=h===void 0?this.length:h>>>0,a||(a=0);let w;if(typeof a=="number")for(w=s;w<h;++w)this[w]=a;else{const S=u.isBuffer(a)?a:u.from(a,m),L=S.length;if(L===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(w=0;w<h-s;++w)this[w+s]=S[w%L]}return this};const F={};function U(l,a,s){F[l]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:a.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(l,a){return`The "${l}" argument must be of type number. Received type ${typeof a}`},TypeError),U("ERR_OUT_OF_RANGE",function(l,a,s){let h=`The value of "${l}" is out of range.`,m=s;return Number.isInteger(s)&&Math.abs(s)>2**32?m=Y(String(s)):typeof s=="bigint"&&(m=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(m=Y(m)),m+="n"),h+=` It must be ${a}. Received ${m}`,h},RangeError);function Y(l){let a="",s=l.length;const h=l[0]==="-"?1:0;for(;s>=h+4;s-=3)a=`_${l.slice(s-3,s)}${a}`;return`${l.slice(0,s)}${a}`}function be(l,a,s){Fe(a,"offset"),(l[a]===void 0||l[a+s]===void 0)&&Te(a,l.length-(s+1))}function We(l,a,s,h,m,w){if(l>s||l<a){const S=typeof a=="bigint"?"n":"";let L;throw w>3?a===0||a===BigInt(0)?L=`>= 0${S} and < 2${S} ** ${(w+1)*8}${S}`:L=`>= -(2${S} ** ${(w+1)*8-1}${S}) and < 2 ** ${(w+1)*8-1}${S}`:L=`>= ${a}${S} and <= ${s}${S}`,new F.ERR_OUT_OF_RANGE("value",L,l)}be(h,m,w)}function Fe(l,a){if(typeof l!="number")throw new F.ERR_INVALID_ARG_TYPE(a,"number",l)}function Te(l,a,s){throw Math.floor(l)!==l?(Fe(l,s),new F.ERR_OUT_OF_RANGE(s||"offset","an integer",l)):a<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${a}`,l)}const Ft=/[^+/0-9A-Za-z-_]/g;function un(l){if(l=l.split("=")[0],l=l.trim().replace(Ft,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function pr(l,a){a=a||1/0;let s;const h=l.length;let m=null;const w=[];for(let S=0;S<h;++S){if(s=l.charCodeAt(S),s>55295&&s<57344){if(!m){if(s>56319){(a-=3)>-1&&w.push(239,191,189);continue}else if(S+1===h){(a-=3)>-1&&w.push(239,191,189);continue}m=s;continue}if(s<56320){(a-=3)>-1&&w.push(239,191,189),m=s;continue}s=(m-55296<<10|s-56320)+65536}else m&&(a-=3)>-1&&w.push(239,191,189);if(m=null,s<128){if((a-=1)<0)break;w.push(s)}else if(s<2048){if((a-=2)<0)break;w.push(s>>6|192,s&63|128)}else if(s<65536){if((a-=3)<0)break;w.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((a-=4)<0)break;w.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return w}function Oi(l){const a=[];for(let s=0;s<l.length;++s)a.push(l.charCodeAt(s)&255);return a}function A(l,a){let s,h,m;const w=[];for(let S=0;S<l.length&&!((a-=2)<0);++S)s=l.charCodeAt(S),h=s>>8,m=s%256,w.push(m),w.push(h);return w}function fn(l){return e.toByteArray(un(l))}function hr(l,a,s,h){let m;for(m=0;m<h&&!(m+s>=a.length||m>=l.length);++m)a[m+s]=l[m];return m}function Ge(l,a){return l instanceof a||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===a.name}function xi(l){return l!==l}const Zh=function(){const l="0123456789abcdef",a=new Array(256);for(let s=0;s<16;++s){const h=s*16;for(let m=0;m<16;++m)a[h+m]=l[s]+l[m]}return a}();function st(l){return typeof BigInt=="undefined"?ed:l}function ed(){throw new Error("BigInt not supported")}})(mt);var Ti={exports:{}},se=Ti.exports={},Le,De;function pn(){throw new Error("setTimeout has not been defined")}function hn(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Le=setTimeout:Le=pn}catch{Le=pn}try{typeof clearTimeout=="function"?De=clearTimeout:De=hn}catch{De=hn}})();function ji(t){if(Le===setTimeout)return setTimeout(t,0);if((Le===pn||!Le)&&setTimeout)return Le=setTimeout,setTimeout(t,0);try{return Le(t,0)}catch{try{return Le.call(null,t,0)}catch{return Le.call(this,t,0)}}}function Bs(t){if(De===clearTimeout)return clearTimeout(t);if((De===hn||!De)&&clearTimeout)return De=clearTimeout,clearTimeout(t);try{return De(t)}catch{try{return De.call(null,t)}catch{return De.call(this,t)}}}var Ve=[],bt=!1,ut,yr=-1;function Ms(){!bt||!ut||(bt=!1,ut.length?Ve=ut.concat(Ve):yr=-1,Ve.length&&Ni())}function Ni(){if(!bt){var t=ji(Ms);bt=!0;for(var e=Ve.length;e;){for(ut=Ve,Ve=[];++yr<e;)ut&&ut[yr].run();yr=-1,e=Ve.length}ut=null,bt=!1,Bs(t)}}se.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ve.push(new Ii(t,e)),Ve.length===1&&!bt&&ji(Ni)};function Ii(t,e){this.fun=t,this.array=e}Ii.prototype.run=function(){this.fun.apply(null,this.array)},se.title="browser",se.browser=!0,se.env={},se.argv=[],se.version="",se.versions={};function He(){}se.on=He,se.addListener=He,se.once=He,se.off=He,se.removeListener=He,se.removeAllListeners=He,se.emit=He,se.prependListener=He,se.prependOnceListener=He,se.listeners=function(t){return[]},se.binding=function(t){throw new Error("process.binding is not supported")},se.cwd=function(){return"/"},se.chdir=function(t){throw new Error("process.chdir is not supported")},se.umask=function(){return 0},function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mt,r=Ti.exports,n=f=>f&&f.__esModule?f:{default:f},i=n(r),o=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>i.default}),t.global=o}(T);var $t={exports:{}},dn={},je={},Ci={},yn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(e,r);if(f.value!==i||f.enumerable!==!0)return!1}return!0},Fs=yn,gn=function(){return Fs()&&!!Symbol.toStringTag},Bi=typeof Symbol!="undefined"&&Symbol,$s=yn,Ls=function(){return typeof Bi!="function"||typeof Symbol!="function"||typeof Bi("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$s()},Mi={foo:{}},Ds=Object,Us=function(){return{__proto__:Mi}.foo===Mi.foo&&!({__proto__:null}instanceof Ds)},qs="Function.prototype.bind called on incompatible ",mn=Array.prototype.slice,Ws=Object.prototype.toString,Gs="[object Function]",Vs=function(e){var r=this;if(typeof r!="function"||Ws.call(r)!==Gs)throw new TypeError(qs+r);for(var n=mn.call(arguments,1),i,o=function(){if(this instanceof i){var y=r.apply(this,n.concat(mn.call(arguments)));return Object(y)===y?y:this}else return r.apply(e,n.concat(mn.call(arguments)))},f=Math.max(0,r.length-n.length),u=[],c=0;c<f;c++)u.push("$"+c);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var p=function(){};p.prototype=r.prototype,i.prototype=new p,p.prototype=null}return i},Hs=Vs,vn=Function.prototype.bind||Hs,zs=vn,Ks=zs.call(Function.call,Object.prototype.hasOwnProperty),q,wt=SyntaxError,Fi=Function,Et=TypeError,bn=function(t){try{return Fi('"use strict"; return ('+t+").constructor;")()}catch{}},ft=Object.getOwnPropertyDescriptor;if(ft)try{ft({},"")}catch{ft=null}var wn=function(){throw new Et},Ys=ft?function(){try{return arguments.callee,wn}catch{try{return ft(arguments,"callee").get}catch{return wn}}}():wn,St=Ls(),Xs=Us(),he=Object.getPrototypeOf||(Xs?function(t){return t.__proto__}:null),kt={},Js=typeof Uint8Array=="undefined"||!he?q:he(Uint8Array),ct={"%AggregateError%":typeof AggregateError=="undefined"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?q:ArrayBuffer,"%ArrayIteratorPrototype%":St&&he?he([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":kt,"%AsyncGenerator%":kt,"%AsyncGeneratorFunction%":kt,"%AsyncIteratorPrototype%":kt,"%Atomics%":typeof Atomics=="undefined"?q:Atomics,"%BigInt%":typeof BigInt=="undefined"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?q:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?q:FinalizationRegistry,"%Function%":Fi,"%GeneratorFunction%":kt,"%Int8Array%":typeof Int8Array=="undefined"?q:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?q:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":St&&he?he(he([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map=="undefined"?q:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!St||!he?q:he(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?q:Promise,"%Proxy%":typeof Proxy=="undefined"?q:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?q:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!St||!he?q:he(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":St&&he?he(""[Symbol.iterator]()):q,"%Symbol%":St?Symbol:q,"%SyntaxError%":wt,"%ThrowTypeError%":Ys,"%TypedArray%":Js,"%TypeError%":Et,"%Uint8Array%":typeof Uint8Array=="undefined"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?q:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?q:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?q:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?q:WeakSet};if(he)try{null.error}catch(t){var Qs=he(he(t));ct["%Error.prototype%"]=Qs}var Zs=function t(e){var r;if(e==="%AsyncFunction%")r=bn("async function () {}");else if(e==="%GeneratorFunction%")r=bn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&he&&(r=he(i.prototype))}return ct[e]=r,r},$i={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Lt=vn,gr=Ks,eu=Lt.call(Function.call,Array.prototype.concat),tu=Lt.call(Function.apply,Array.prototype.splice),Li=Lt.call(Function.call,String.prototype.replace),mr=Lt.call(Function.call,String.prototype.slice),ru=Lt.call(Function.call,RegExp.prototype.exec),nu=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,iu=/\\(\\)?/g,ou=function(e){var r=mr(e,0,1),n=mr(e,-1);if(r==="%"&&n!=="%")throw new wt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new wt("invalid intrinsic syntax, expected opening `%`");var i=[];return Li(e,nu,function(o,f,u,c){i[i.length]=u?Li(c,iu,"$1"):f||o}),i},au=function(e,r){var n=e,i;if(gr($i,n)&&(i=$i[n],n="%"+i[0]+"%"),gr(ct,n)){var o=ct[n];if(o===kt&&(o=Zs(n)),typeof o=="undefined"&&!r)throw new Et("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new wt("intrinsic "+e+" does not exist!")},Dt=function(e,r){if(typeof e!="string"||e.length===0)throw new Et("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Et('"allowMissing" argument must be a boolean');if(ru(/^%?[^%]*%?$/,e)===null)throw new wt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ou(e),i=n.length>0?n[0]:"",o=au("%"+i+"%",r),f=o.name,u=o.value,c=!1,p=o.alias;p&&(i=p[0],tu(n,eu([0,1],p)));for(var y=1,d=!0;y<n.length;y+=1){var g=n[y],v=mr(g,0,1),E=mr(g,-1);if((v==='"'||v==="'"||v==="`"||E==='"'||E==="'"||E==="`")&&v!==E)throw new wt("property names with quotes must have matching quotes");if((g==="constructor"||!d)&&(c=!0),i+="."+g,f="%"+i+"%",gr(ct,f))u=ct[f];else if(u!=null){if(!(g in u)){if(!r)throw new Et("base intrinsic for "+e+" exists, but the property is not available.");return}if(ft&&y+1>=n.length){var R=ft(u,g);d=!!R,d&&"get"in R&&!("originalValue"in R.get)?u=R.get:u=u[g]}else d=gr(u,g),u=u[g];d&&!c&&(ct[f]=u)}}return u},Ut={exports:{}};(function(t){var e=vn,r=Dt,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),f=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(d){var g=o(e,i,arguments);if(f&&u){var v=f(g,"length");v.configurable&&u(g,"length",{value:1+c(0,d.length-(arguments.length-1))})}return g};var p=function(){return o(e,n,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p})(Ut);var Di=Dt,Ui=Ut.exports,su=Ui(Di("String.prototype.indexOf")),vr=function(e,r){var n=Di(e,!!r);return typeof n=="function"&&su(e,".prototype.")>-1?Ui(n):n},uu=gn(),fu=vr,En=fu("Object.prototype.toString"),br=function(e){return uu&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:En(e)==="[object Arguments]"},qi=function(e){return br(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&En(e)!=="[object Array]"&&En(e.callee)==="[object Function]"},cu=function(){return br(arguments)}();br.isLegacyArguments=qi;var lu=cu?br:qi,pu=Object.prototype.toString,hu=Function.prototype.toString,du=/^\s*(?:function)?\*/,Wi=gn(),Sn=Object.getPrototypeOf,yu=function(){if(!Wi)return!1;try{return Function("return function*() {}")()}catch{}},kn,gu=function(e){if(typeof e!="function")return!1;if(du.test(hu.call(e)))return!0;if(!Wi){var r=pu.call(e);return r==="[object GeneratorFunction]"}if(!Sn)return!1;if(typeof kn=="undefined"){var n=yu();kn=n?Sn(n):!1}return Sn(e)===kn},Gi=Function.prototype.toString,At=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,An,wr;if(typeof At=="function"&&typeof Object.defineProperty=="function")try{An=Object.defineProperty({},"length",{get:function(){throw wr}}),wr={},At(function(){throw 42},null,An)}catch(t){t!==wr&&(At=null)}else At=null;var mu=/^\s*class\b/,Rn=function(e){try{var r=Gi.call(e);return mu.test(r)}catch{return!1}},_n=function(e){try{return Rn(e)?!1:(Gi.call(e),!0)}catch{return!1}},Er=Object.prototype.toString,vu="[object Object]",bu="[object Function]",wu="[object GeneratorFunction]",Eu="[object HTMLAllCollection]",Su="[object HTML document.all class]",ku="[object HTMLCollection]",Au=typeof Symbol=="function"&&!!Symbol.toStringTag,Ru=!(0 in[,]),On=function(){return!1};if(typeof document=="object"){var _u=document.all;Er.call(_u)===Er.call(document.all)&&(On=function(e){if((Ru||!e)&&(typeof e=="undefined"||typeof e=="object"))try{var r=Er.call(e);return(r===Eu||r===Su||r===ku||r===vu)&&e("")==null}catch{}return!1})}var Ou=At?function(e){if(On(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{At(e,null,An)}catch(r){if(r!==wr)return!1}return!Rn(e)&&_n(e)}:function(e){if(On(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Au)return _n(e);if(Rn(e))return!1;var r=Er.call(e);return r!==bu&&r!==wu&&!/^\[object HTML/.test(r)?!1:_n(e)},xu=Ou,Pu=Object.prototype.toString,Vi=Object.prototype.hasOwnProperty,Tu=function(e,r,n){for(var i=0,o=e.length;i<o;i++)Vi.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},ju=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Nu=function(e,r,n){for(var i in e)Vi.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Iu=function(e,r,n){if(!xu(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Pu.call(e)==="[object Array]"?Tu(e,r,i):typeof e=="string"?ju(e,r,i):Nu(e,r,i)},Cu=Iu,xn=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Bu=typeof globalThis=="undefined"?we:globalThis,Mu=function(){for(var e=[],r=0;r<xn.length;r++)typeof Bu[xn[r]]=="function"&&(e[e.length]=xn[r]);return e},Fu=Dt,Sr=Fu("%Object.getOwnPropertyDescriptor%",!0);if(Sr)try{Sr([],"length")}catch{Sr=null}var Hi=Sr,kr=Cu,$u=Mu,zi=Ut.exports,Pn=vr,Ar=Hi,Lu=Pn("Object.prototype.toString"),Ki=gn(),Yi=typeof globalThis=="undefined"?we:globalThis,Tn=$u(),jn=Pn("String.prototype.slice"),Nn=Object.getPrototypeOf,Du=Pn("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Rr={__proto__:null};Ki&&Ar&&Nn?kr(Tn,function(t){var e=new Yi[t];if(Symbol.toStringTag in e){var r=Nn(e),n=Ar(r,Symbol.toStringTag);if(!n){var i=Nn(r);n=Ar(i,Symbol.toStringTag)}Rr["$"+t]=zi(n.get)}}):kr(Tn,function(t){var e=new Yi[t];Rr["$"+t]=zi(e.slice)});var Uu=function(e){var r=!1;return kr(Rr,function(n,i){if(!r)try{"$"+n(e)===i&&(r=jn(i,1))}catch{}}),r},qu=function(e){var r=!1;return kr(Rr,function(n,i){if(!r)try{n(e),r=jn(i,1)}catch{}}),r},Xi=function(e){if(!e||typeof e!="object")return!1;if(!Ki){var r=jn(Lu(e),8,-1);return Du(Tn,r)>-1?r:r!=="Object"?!1:qu(e)}return Ar?Uu(e):null},Wu=Xi,Gu=function(e){return!!Wu(e)};(function(t){var e=lu,r=gu,n=Xi,i=Gu;function o(A){return A.call.bind(A)}var f=typeof BigInt!="undefined",u=typeof Symbol!="undefined",c=o(Object.prototype.toString),p=o(Number.prototype.valueOf),y=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(f)var g=o(BigInt.prototype.valueOf);if(u)var v=o(Symbol.prototype.valueOf);function E(A,fn){if(typeof A!="object")return!1;try{return fn(A),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function R(A){return typeof Promise!="undefined"&&A instanceof Promise||A!==null&&typeof A=="object"&&typeof A.then=="function"&&typeof A.catch=="function"}t.isPromise=R;function N(A){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(A):i(A)||k(A)}t.isArrayBufferView=N;function P(A){return n(A)==="Uint8Array"}t.isUint8Array=P;function I(A){return n(A)==="Uint8ClampedArray"}t.isUint8ClampedArray=I;function X(A){return n(A)==="Uint16Array"}t.isUint16Array=X;function M(A){return n(A)==="Uint32Array"}t.isUint32Array=M;function C(A){return n(A)==="Int8Array"}t.isInt8Array=C;function W(A){return n(A)==="Int16Array"}t.isInt16Array=W;function x(A){return n(A)==="Int32Array"}t.isInt32Array=x;function D(A){return n(A)==="Float32Array"}t.isFloat32Array=D;function Q(A){return n(A)==="Float64Array"}t.isFloat64Array=Q;function le(A){return n(A)==="BigInt64Array"}t.isBigInt64Array=le;function ie(A){return n(A)==="BigUint64Array"}t.isBigUint64Array=ie;function fe(A){return c(A)==="[object Map]"}fe.working=typeof Map!="undefined"&&fe(new Map);function ve(A){return typeof Map=="undefined"?!1:fe.working?fe(A):A instanceof Map}t.isMap=ve;function pe(A){return c(A)==="[object Set]"}pe.working=typeof Set!="undefined"&&pe(new Set);function Ae(A){return typeof Set=="undefined"?!1:pe.working?pe(A):A instanceof Set}t.isSet=Ae;function ke(A){return c(A)==="[object WeakMap]"}ke.working=typeof WeakMap!="undefined"&&ke(new WeakMap);function lr(A){return typeof WeakMap=="undefined"?!1:ke.working?ke(A):A instanceof WeakMap}t.isWeakMap=lr;function ot(A){return c(A)==="[object WeakSet]"}ot.working=typeof WeakSet!="undefined"&&ot(new WeakSet);function Me(A){return ot(A)}t.isWeakSet=Me;function at(A){return c(A)==="[object ArrayBuffer]"}at.working=typeof ArrayBuffer!="undefined"&&at(new ArrayBuffer);function re(A){return typeof ArrayBuffer=="undefined"?!1:at.working?at(A):A instanceof ArrayBuffer}t.isArrayBuffer=re;function b(A){return c(A)==="[object DataView]"}b.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&b(new DataView(new ArrayBuffer(1),0,1));function k(A){return typeof DataView=="undefined"?!1:b.working?b(A):A instanceof DataView}t.isDataView=k;var _=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function B(A){return c(A)==="[object SharedArrayBuffer]"}function G(A){return typeof _=="undefined"?!1:(typeof B.working=="undefined"&&(B.working=B(new _)),B.working?B(A):A instanceof _)}t.isSharedArrayBuffer=G;function z(A){return c(A)==="[object AsyncFunction]"}t.isAsyncFunction=z;function F(A){return c(A)==="[object Map Iterator]"}t.isMapIterator=F;function U(A){return c(A)==="[object Set Iterator]"}t.isSetIterator=U;function Y(A){return c(A)==="[object Generator]"}t.isGeneratorObject=Y;function be(A){return c(A)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=be;function We(A){return E(A,p)}t.isNumberObject=We;function Fe(A){return E(A,y)}t.isStringObject=Fe;function Te(A){return E(A,d)}t.isBooleanObject=Te;function Ft(A){return f&&E(A,g)}t.isBigIntObject=Ft;function un(A){return u&&E(A,v)}t.isSymbolObject=un;function pr(A){return We(A)||Fe(A)||Te(A)||Ft(A)||un(A)}t.isBoxedPrimitive=pr;function Oi(A){return typeof Uint8Array!="undefined"&&(re(A)||G(A))}t.isAnyArrayBuffer=Oi,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(A){Object.defineProperty(t,A,{enumerable:!1,value:function(){throw new Error(A+" is not supported in userland")}})})})(Ci);var Vu=function(e){return e instanceof T.Buffer},ze={exports:{}};typeof Object.create=="function"?ze.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ze.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}},function(t){var e=Object.getOwnPropertyDescriptors||function(k){for(var _=Object.keys(k),B={},G=0;G<_.length;G++)B[_[G]]=Object.getOwnPropertyDescriptor(k,_[G]);return B},r=/%[sdj%]/g;t.format=function(b){if(!C(b)){for(var k=[],_=0;_<arguments.length;_++)k.push(f(arguments[_]));return k.join(" ")}for(var _=1,B=arguments,G=B.length,z=String(b).replace(r,function(U){if(U==="%%")return"%";if(_>=G)return U;switch(U){case"%s":return String(B[_++]);case"%d":return Number(B[_++]);case"%j":try{return JSON.stringify(B[_++])}catch{return"[Circular]"}default:return U}}),F=B[_];_<G;F=B[++_])I(F)||!Q(F)?z+=" "+F:z+=" "+f(F);return z},t.deprecate=function(b,k){if(typeof T.process!="undefined"&&T.process.noDeprecation===!0)return b;if(typeof T.process=="undefined")return function(){return t.deprecate(b,k).apply(this,arguments)};var _=!1;function B(){if(!_){if(T.process.throwDeprecation)throw new Error(k);T.process.traceDeprecation?console.trace(k):console.error(k),_=!0}return b.apply(this,arguments)}return B};var n={},i=/^$/;if({}.NODE_DEBUG){var o={}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+o+"$","i")}t.debuglog=function(b){if(b=b.toUpperCase(),!n[b])if(i.test(b)){var k=T.process.pid;n[b]=function(){var _=t.format.apply(t,arguments);console.error("%s %d: %s",b,k,_)}}else n[b]=function(){};return n[b]};function f(b,k){var _={seen:[],stylize:c};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),P(k)?_.showHidden=k:k&&t._extend(_,k),x(_.showHidden)&&(_.showHidden=!1),x(_.depth)&&(_.depth=2),x(_.colors)&&(_.colors=!1),x(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=u),y(_,b,_.depth)}t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(b,k){var _=f.styles[k];return _?"\x1B["+f.colors[_][0]+"m"+b+"\x1B["+f.colors[_][1]+"m":b}function c(b,k){return b}function p(b){var k={};return b.forEach(function(_,B){k[_]=!0}),k}function y(b,k,_){if(b.customInspect&&k&&fe(k.inspect)&&k.inspect!==t.inspect&&!(k.constructor&&k.constructor.prototype===k)){var B=k.inspect(_,b);return C(B)||(B=y(b,B,_)),B}var G=d(b,k);if(G)return G;var z=Object.keys(k),F=p(z);if(b.showHidden&&(z=Object.getOwnPropertyNames(k)),ie(k)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return g(k);if(z.length===0){if(fe(k)){var U=k.name?": "+k.name:"";return b.stylize("[Function"+U+"]","special")}if(D(k))return b.stylize(RegExp.prototype.toString.call(k),"regexp");if(le(k))return b.stylize(Date.prototype.toString.call(k),"date");if(ie(k))return g(k)}var Y="",be=!1,We=["{","}"];if(N(k)&&(be=!0,We=["[","]"]),fe(k)){var Fe=k.name?": "+k.name:"";Y=" [Function"+Fe+"]"}if(D(k)&&(Y=" "+RegExp.prototype.toString.call(k)),le(k)&&(Y=" "+Date.prototype.toUTCString.call(k)),ie(k)&&(Y=" "+g(k)),z.length===0&&(!be||k.length==0))return We[0]+Y+We[1];if(_<0)return D(k)?b.stylize(RegExp.prototype.toString.call(k),"regexp"):b.stylize("[Object]","special");b.seen.push(k);var Te;return be?Te=v(b,k,_,F,z):Te=z.map(function(Ft){return E(b,k,_,F,Ft,be)}),b.seen.pop(),R(Te,Y,We)}function d(b,k){if(x(k))return b.stylize("undefined","undefined");if(C(k)){var _="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return b.stylize(_,"string")}if(M(k))return b.stylize(""+k,"number");if(P(k))return b.stylize(""+k,"boolean");if(I(k))return b.stylize("null","null")}function g(b){return"["+Error.prototype.toString.call(b)+"]"}function v(b,k,_,B,G){for(var z=[],F=0,U=k.length;F<U;++F)ot(k,String(F))?z.push(E(b,k,_,B,String(F),!0)):z.push("");return G.forEach(function(Y){Y.match(/^\d+$/)||z.push(E(b,k,_,B,Y,!0))}),z}function E(b,k,_,B,G,z){var F,U,Y;if(Y=Object.getOwnPropertyDescriptor(k,G)||{value:k[G]},Y.get?Y.set?U=b.stylize("[Getter/Setter]","special"):U=b.stylize("[Getter]","special"):Y.set&&(U=b.stylize("[Setter]","special")),ot(B,G)||(F="["+G+"]"),U||(b.seen.indexOf(Y.value)<0?(I(_)?U=y(b,Y.value,null):U=y(b,Y.value,_-1),U.indexOf(`
`)>-1&&(z?U=U.split(`
`).map(function(be){return"  "+be}).join(`
`).slice(2):U=`
`+U.split(`
`).map(function(be){return"   "+be}).join(`
`))):U=b.stylize("[Circular]","special")),x(F)){if(z&&G.match(/^\d+$/))return U;F=JSON.stringify(""+G),F.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=b.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=b.stylize(F,"string"))}return F+": "+U}function R(b,k,_){var B=b.reduce(function(G,z){return z.indexOf(`
`)>=0,G+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return B>60?_[0]+(k===""?"":k+`
 `)+" "+b.join(`,
  `)+" "+_[1]:_[0]+k+" "+b.join(", ")+" "+_[1]}t.types=Ci;function N(b){return Array.isArray(b)}t.isArray=N;function P(b){return typeof b=="boolean"}t.isBoolean=P;function I(b){return b===null}t.isNull=I;function X(b){return b==null}t.isNullOrUndefined=X;function M(b){return typeof b=="number"}t.isNumber=M;function C(b){return typeof b=="string"}t.isString=C;function W(b){return typeof b=="symbol"}t.isSymbol=W;function x(b){return b===void 0}t.isUndefined=x;function D(b){return Q(b)&&pe(b)==="[object RegExp]"}t.isRegExp=D,t.types.isRegExp=D;function Q(b){return typeof b=="object"&&b!==null}t.isObject=Q;function le(b){return Q(b)&&pe(b)==="[object Date]"}t.isDate=le,t.types.isDate=le;function ie(b){return Q(b)&&(pe(b)==="[object Error]"||b instanceof Error)}t.isError=ie,t.types.isNativeError=ie;function fe(b){return typeof b=="function"}t.isFunction=fe;function ve(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b=="undefined"}t.isPrimitive=ve,t.isBuffer=Vu;function pe(b){return Object.prototype.toString.call(b)}function Ae(b){return b<10?"0"+b.toString(10):b.toString(10)}var ke=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lr(){var b=new Date,k=[Ae(b.getHours()),Ae(b.getMinutes()),Ae(b.getSeconds())].join(":");return[b.getDate(),ke[b.getMonth()],k].join(" ")}t.log=function(){console.log("%s - %s",lr(),t.format.apply(t,arguments))},t.inherits=ze.exports,t._extend=function(b,k){if(!k||!Q(k))return b;for(var _=Object.keys(k),B=_.length;B--;)b[_[B]]=k[_[B]];return b};function ot(b,k){return Object.prototype.hasOwnProperty.call(b,k)}var Me=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;t.promisify=function(k){if(typeof k!="function")throw new TypeError('The "original" argument must be of type Function');if(Me&&k[Me]){var _=k[Me];if(typeof _!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_,Me,{value:_,enumerable:!1,writable:!1,configurable:!0}),_}function _(){for(var B,G,z=new Promise(function(Y,be){B=Y,G=be}),F=[],U=0;U<arguments.length;U++)F.push(arguments[U]);F.push(function(Y,be){Y?G(Y):B(be)});try{k.apply(this,F)}catch(Y){G(Y)}return z}return Object.setPrototypeOf(_,Object.getPrototypeOf(k)),Me&&Object.defineProperty(_,Me,{value:_,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_,e(k))},t.promisify.custom=Me;function at(b,k){if(!b){var _=new Error("Promise was rejected with a falsy value");_.reason=b,b=_}return k(b)}function re(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');function k(){for(var _=[],B=0;B<arguments.length;B++)_.push(arguments[B]);var G=_.pop();if(typeof G!="function")throw new TypeError("The last argument must be of type Function");var z=this,F=function(){return G.apply(z,arguments)};b.apply(this,_).then(function(U){T.process.nextTick(F.bind(null,null,U))},function(U){T.process.nextTick(at.bind(null,U,F))})}return Object.setPrototypeOf(k,Object.getPrototypeOf(b)),Object.defineProperties(k,e(b)),k}t.callbackify=re}(je);function Ye(t){return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(t)}function Ji(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zu(n.key),n)}}function Hu(t,e,r){return e&&Ji(t.prototype,e),r&&Ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zu(t){var e=Ku(t,"string");return Ye(e)==="symbol"?e:String(e)}function Ku(t,e){if(Ye(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ye(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&In(t,e)}function In(t,e){return In=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},In(t,e)}function Ju(t){var e=ef();return function(){var n=_r(t),i;if(e){var o=_r(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Qu(this,i)}}function Qu(t,e){if(e&&(Ye(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zu(t)}function Zu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ef(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_r(t)}var Qi={},Rt,Cn;function qt(t,e,r){r||(r=Error);function n(o,f,u){return typeof e=="string"?e:e(o,f,u)}var i=function(o){Xu(u,o);var f=Ju(u);function u(c,p,y){var d;return Yu(this,u),d=f.call(this,n(c,p,y)),d.code=t,d}return Hu(u)}(r);Qi[t]=i}function Zi(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function tf(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function rf(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function nf(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}qt("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),qt("ERR_INVALID_ARG_TYPE",function(t,e,r){Rt===void 0&&(Rt=$t.exports),Rt(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&tf(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(rf(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Zi(e,"type"));else{var o=nf(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Zi(e,"type"))}return i+=". Received type ".concat(Ye(r)),i},TypeError),qt("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";Cn===void 0&&(Cn=je);var n=Cn.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError),qt("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(Ye(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError),qt("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Rt===void 0&&(Rt=$t.exports),Rt(e.length>0,"At least one arg needs to be specified");var n="The ",i=e.length;switch(e=e.map(function(o){return'"'.concat(o,'"')}),i){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,i-1).join(", "),n+=", and ".concat(e[i-1]," arguments");break}return"".concat(n," must be specified")},TypeError),dn.codes=Qi;function eo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eo(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t,e,r){return e=no(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function af(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,no(n.key),n)}}function sf(t,e,r){return e&&ro(t.prototype,e),r&&ro(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function no(t){var e=uf(t,"string");return Se(e)==="symbol"?e:String(e)}function uf(t,e){if(Se(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Se(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wt(t,e)}function cf(t){var e=oo();return function(){var n=Gt(t),i;if(e){var o=Gt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return io(this,i)}}function io(t,e){if(e&&(Se(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(t)}function Bn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t){var e=typeof Map=="function"?new Map:void 0;return Mn=function(n){if(n===null||!lf(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Or(n,arguments,Gt(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wt(i,n)},Mn(t)}function Or(t,e,r){return oo()?Or=Reflect.construct.bind():Or=function(i,o,f){var u=[null];u.push.apply(u,o);var c=Function.bind.apply(i,u),p=new c;return f&&Wt(p,f.prototype),p},Or.apply(null,arguments)}function oo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lf(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Wt(t,e){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wt(t,e)}function Gt(t){return Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gt(t)}function Se(t){return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(t)}var pf=je,Fn=pf.inspect,hf=dn,df=hf.codes.ERR_INVALID_ARG_TYPE;function ao(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function yf(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var Ne="",Vt="",Ht="",ye="",lt={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},gf=10;function so(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function zt(t){return Fn(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function mf(t,e,r){var n="",i="",o=0,f="",u=!1,c=zt(t),p=c.split(`
`),y=zt(e).split(`
`),d=0,g="";if(r==="strictEqual"&&Se(t)==="object"&&Se(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),p.length===1&&y.length===1&&p[0]!==y[0]){var v=p[0].length+y[0].length;if(v<=gf){if((Se(t)!=="object"||t===null)&&(Se(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(lt[r],`

`)+"".concat(p[0]," !== ").concat(y[0],`
`)}else if(r!=="strictEqualObject"){var E=T.process.stderr&&T.process.stderr.isTTY?T.process.stderr.columns:80;if(v<E){for(;p[0][d]===y[0][d];)d++;d>2&&(g=`
  `.concat(yf(" ",d),"^"),d=0)}}}for(var R=p[p.length-1],N=y[y.length-1];R===N&&(d++<2?f=`
  `.concat(R).concat(f):n=R,p.pop(),y.pop(),!(p.length===0||y.length===0));)R=p[p.length-1],N=y[y.length-1];var P=Math.max(p.length,y.length);if(P===0){var I=c.split(`
`);if(I.length>30)for(I[26]="".concat(Ne,"...").concat(ye);I.length>27;)I.pop();return"".concat(lt.notIdentical,`

`).concat(I.join(`
`),`
`)}d>3&&(f=`
`.concat(Ne,"...").concat(ye).concat(f),u=!0),n!==""&&(f=`
  `.concat(n).concat(f),n="");var X=0,M=lt[r]+`
`.concat(Vt,"+ actual").concat(ye," ").concat(Ht,"- expected").concat(ye),C=" ".concat(Ne,"...").concat(ye," Lines skipped");for(d=0;d<P;d++){var W=d-o;if(p.length<d+1)W>1&&d>2&&(W>4?(i+=`
`.concat(Ne,"...").concat(ye),u=!0):W>3&&(i+=`
  `.concat(y[d-2]),X++),i+=`
  `.concat(y[d-1]),X++),o=d,n+=`
`.concat(Ht,"-").concat(ye," ").concat(y[d]),X++;else if(y.length<d+1)W>1&&d>2&&(W>4?(i+=`
`.concat(Ne,"...").concat(ye),u=!0):W>3&&(i+=`
  `.concat(p[d-2]),X++),i+=`
  `.concat(p[d-1]),X++),o=d,i+=`
`.concat(Vt,"+").concat(ye," ").concat(p[d]),X++;else{var x=y[d],D=p[d],Q=D!==x&&(!ao(D,",")||D.slice(0,-1)!==x);Q&&ao(x,",")&&x.slice(0,-1)===D&&(Q=!1,D+=","),Q?(W>1&&d>2&&(W>4?(i+=`
`.concat(Ne,"...").concat(ye),u=!0):W>3&&(i+=`
  `.concat(p[d-2]),X++),i+=`
  `.concat(p[d-1]),X++),o=d,i+=`
`.concat(Vt,"+").concat(ye," ").concat(D),n+=`
`.concat(Ht,"-").concat(ye," ").concat(x),X+=2):(i+=n,n="",(W===1||d===0)&&(i+=`
  `.concat(D),X++))}if(X>20&&d<P-2)return"".concat(M).concat(C,`
`).concat(i,`
`).concat(Ne,"...").concat(ye).concat(n,`
`)+"".concat(Ne,"...").concat(ye)}return"".concat(M).concat(u?C:"",`
`).concat(i).concat(n).concat(f).concat(g)}var vf=function(t,e){ff(n,t);var r=cf(n);function n(i){var o;if(af(this,n),Se(i)!=="object"||i===null)throw new df("options","Object",i);var f=i.message,u=i.operator,c=i.stackStartFn,p=i.actual,y=i.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,f!=null)o=r.call(this,String(f));else if(T.process.stderr&&T.process.stderr.isTTY&&(T.process.stderr&&T.process.stderr.getColorDepth&&T.process.stderr.getColorDepth()!==1?(Ne="\x1B[34m",Vt="\x1B[32m",ye="\x1B[39m",Ht="\x1B[31m"):(Ne="",Vt="",ye="",Ht="")),Se(p)==="object"&&p!==null&&Se(y)==="object"&&y!==null&&"stack"in p&&p instanceof Error&&"stack"in y&&y instanceof Error&&(p=so(p),y=so(y)),u==="deepStrictEqual"||u==="strictEqual")o=r.call(this,mf(p,y,u));else if(u==="notDeepStrictEqual"||u==="notStrictEqual"){var g=lt[u],v=zt(p).split(`
`);if(u==="notStrictEqual"&&Se(p)==="object"&&p!==null&&(g=lt.notStrictEqualObject),v.length>30)for(v[26]="".concat(Ne,"...").concat(ye);v.length>27;)v.pop();v.length===1?o=r.call(this,"".concat(g," ").concat(v[0])):o=r.call(this,"".concat(g,`

`).concat(v.join(`
`),`
`))}else{var E=zt(p),R="",N=lt[u];u==="notDeepEqual"||u==="notEqual"?(E="".concat(lt[u],`

`).concat(E),E.length>1024&&(E="".concat(E.slice(0,1021),"..."))):(R="".concat(zt(y)),E.length>512&&(E="".concat(E.slice(0,509),"...")),R.length>512&&(R="".concat(R.slice(0,509),"...")),u==="deepEqual"||u==="equal"?E="".concat(N,`

`).concat(E,`

should equal

`):R=" ".concat(u," ").concat(R)),o=r.call(this,"".concat(E).concat(R))}return Error.stackTraceLimit=d,o.generatedMessage=!f,Object.defineProperty(Bn(o),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),o.code="ERR_ASSERTION",o.actual=p,o.expected=y,o.operator=u,Error.captureStackTrace&&Error.captureStackTrace(Bn(o),c),o.stack,o.name="AssertionError",io(o)}return sf(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(o,f){return Fn(this,to(to({},f),{},{customInspect:!1,depth:0}))}}]),n}(Mn(Error),Fn.custom),bf=vf,uo=Object.prototype.toString,fo=function(e){var r=uo.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&uo.call(e.callee)==="[object Function]"),n},co;if(!Object.keys){var xr=Object.prototype.hasOwnProperty,lo=Object.prototype.toString,wf=fo,po=Object.prototype.propertyIsEnumerable,Ef=!po.call({toString:null},"toString"),Sf=po.call(function(){},"prototype"),Pr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$n=function(t){var e=t.constructor;return e&&e.prototype===t},kf={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Af=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!kf["$"+t]&&xr.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{$n(window[t])}catch{return!0}}catch{return!0}return!1}(),Rf=function(t){if(typeof window=="undefined"||!Af)return $n(t);try{return $n(t)}catch{return!1}};co=function(e){var r=e!==null&&typeof e=="object",n=lo.call(e)==="[object Function]",i=wf(e),o=r&&lo.call(e)==="[object String]",f=[];if(!r&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var u=Sf&&n;if(o&&e.length>0&&!xr.call(e,0))for(var c=0;c<e.length;++c)f.push(String(c));if(i&&e.length>0)for(var p=0;p<e.length;++p)f.push(String(p));else for(var y in e)!(u&&y==="prototype")&&xr.call(e,y)&&f.push(String(y));if(Ef)for(var d=Rf(e),g=0;g<Pr.length;++g)!(d&&Pr[g]==="constructor")&&xr.call(e,Pr[g])&&f.push(Pr[g]);return f}}var _f=co,Of=Array.prototype.slice,xf=fo,ho=Object.keys,Tr=ho?function(e){return ho(e)}:_f,yo=Object.keys;Tr.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return xf(n)?yo(Of.call(n)):yo(n)})}else Object.keys=Tr;return Object.keys||Tr};var go=Tr,Pf=go,mo=yn(),vo=vr,bo=Object,Tf=vo("Array.prototype.push"),wo=vo("Object.prototype.propertyIsEnumerable"),jf=mo?Object.getOwnPropertySymbols:null,Nf=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=bo(e);if(arguments.length===1)return n;for(var i=1;i<arguments.length;++i){var o=bo(arguments[i]),f=Pf(o),u=mo&&(Object.getOwnPropertySymbols||jf);if(u)for(var c=u(o),p=0;p<c.length;++p){var y=c[p];wo(o,y)&&Tf(f,y)}for(var d=0;d<f.length;++d){var g=f[d];if(wo(o,g)){var v=o[g];n[g]=v}}}return n},Ln=Nf,If=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var i=Object.assign({},r),o="";for(var f in i)o+=f;return t!==o},Cf=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},Bf=function(){return!Object.assign||If()||Cf()?Ln:Object.assign},Eo=function(t){return t!==t},So=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||Eo(e)&&Eo(r))},Mf=So,Dn=function(){return typeof Object.is=="function"?Object.is:Mf},Ff=Dt,Un=Ff("%Object.defineProperty%",!0),qn=function(){if(Un)try{return Un({},"a",{value:1}),!0}catch{return!1}return!1};qn.hasArrayLengthDefineBug=function(){if(!qn())return null;try{return Un([],"length",{value:1}).length!==1}catch{return!0}};var ko=qn,$f=ko(),Wn=Dt,Ao=$f&&Wn("%Object.defineProperty%",!0),Lf=Wn("%SyntaxError%"),_t=Wn("%TypeError%"),Ro=Hi,Df=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new _t("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new _t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _t("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,c=!!Ro&&Ro(e,r);if(Ao)Ao(e,r,{configurable:f===null&&c?c.configurable:!f,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:o===null&&c?c.writable:!o});else if(u||!i&&!o&&!f)e[r]=n;else throw new Lf("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Uf=go,qf=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Wf=Object.prototype.toString,Gf=Array.prototype.concat,_o=Df,Vf=function(t){return typeof t=="function"&&Wf.call(t)==="[object Function]"},Oo=ko(),Hf=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!Vf(n)||!n())return}Oo?_o(t,e,r,!0):_o(t,e,r)},xo=function(t,e){var r=arguments.length>2?arguments[2]:{},n=Uf(e);qf&&(n=Gf.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)Hf(t,n[i],e[n[i]],r[n[i]])};xo.supportsDescriptors=!!Oo;var jr=xo,zf=Dn,Kf=jr,Yf=function(){var e=zf();return Kf(Object,{is:e},{is:function(){return Object.is!==e}}),e},Xf=jr,Jf=Ut.exports,Qf=So,Po=Dn,Zf=Yf,To=Jf(Po(),Object);Xf(To,{getPolyfill:Po,implementation:Qf,shim:Zf});var ec=To,jo=function(e){return e!==e},tc=jo,No=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:tc},rc=jr,nc=No,ic=function(){var e=nc();return rc(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e},oc=Ut.exports,ac=jr,sc=jo,Io=No,uc=ic,Co=oc(Io(),Number);ac(Co,{getPolyfill:Io,implementation:sc,shim:uc});var fc=Co;function Bo(t,e){return hc(t)||pc(t,e)||lc(t,e)||cc()}function cc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lc(t,e){if(!!t){if(typeof t=="string")return Mo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mo(t,e)}}function Mo(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pc(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,f,u=[],c=!0,p=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(y){p=!0,i=y}finally{try{if(!c&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(p)throw i}}return u}}function hc(t){if(Array.isArray(t))return t}function _e(t){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(t)}var dc=/a/g.flags!==void 0,Nr=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},Fo=function(e){var r=[];return e.forEach(function(n,i){return r.push([i,n])}),r},$o=Object.is?Object.is:ec,Ir=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},Gn=Number.isNaN?Number.isNaN:fc;function Vn(t){return t.call.bind(t)}var Kt=Vn(Object.prototype.hasOwnProperty),Cr=Vn(Object.prototype.propertyIsEnumerable),Lo=Vn(Object.prototype.toString),Ee=je.types,yc=Ee.isAnyArrayBuffer,gc=Ee.isArrayBufferView,Do=Ee.isDate,Br=Ee.isMap,Uo=Ee.isRegExp,Mr=Ee.isSet,mc=Ee.isNativeError,vc=Ee.isBoxedPrimitive,qo=Ee.isNumberObject,Wo=Ee.isStringObject,Go=Ee.isBooleanObject,Vo=Ee.isBigIntObject,bc=Ee.isSymbolObject,wc=Ee.isFloat32Array,Ec=Ee.isFloat64Array;function Sc(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function Fr(t){return Object.keys(t).filter(Sc).concat(Ir(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function Ho(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}var kc=!0,Ac=!1,Hn=0,zn=1,zo=2,Ko=3;function Rc(t,e){return dc?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function _c(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Oc(t,e){return t.byteLength!==e.byteLength?!1:Ho(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function xc(t,e){return t.byteLength===e.byteLength&&Ho(new Uint8Array(t),new Uint8Array(e))===0}function Pc(t,e){return qo(t)?qo(e)&&$o(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):Wo(t)?Wo(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):Go(t)?Go(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):Vo(t)?Vo(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):bc(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function Oe(t,e,r,n){if(t===e)return t!==0?!0:r?$o(t,e):!0;if(r){if(_e(t)!=="object")return typeof t=="number"&&Gn(t)&&Gn(e);if(_e(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||_e(t)!=="object")return e===null||_e(e)!=="object"?t==e:!1;if(e===null||_e(e)!=="object")return!1}var i=Lo(t),o=Lo(e);if(i!==o)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var f=Fr(t),u=Fr(e);return f.length!==u.length?!1:Yt(t,e,r,n,zn,f)}if(i==="[object Object]"&&(!Br(t)&&Br(e)||!Mr(t)&&Mr(e)))return!1;if(Do(t)){if(!Do(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(Uo(t)){if(!Uo(e)||!Rc(t,e))return!1}else if(mc(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(gc(t)){if(!r&&(wc(t)||Ec(t))){if(!_c(t,e))return!1}else if(!Oc(t,e))return!1;var c=Fr(t),p=Fr(e);return c.length!==p.length?!1:Yt(t,e,r,n,Hn,c)}else{if(Mr(t))return!Mr(e)||t.size!==e.size?!1:Yt(t,e,r,n,zo);if(Br(t))return!Br(e)||t.size!==e.size?!1:Yt(t,e,r,n,Ko);if(yc(t)){if(!xc(t,e))return!1}else if(vc(t)&&!Pc(t,e))return!1}return Yt(t,e,r,n,Hn)}function Yo(t,e){return e.filter(function(r){return Cr(t,r)})}function Yt(t,e,r,n,i,o){if(arguments.length===5){o=Object.keys(t);var f=Object.keys(e);if(o.length!==f.length)return!1}for(var u=0;u<o.length;u++)if(!Kt(e,o[u]))return!1;if(r&&arguments.length===5){var c=Ir(t);if(c.length!==0){var p=0;for(u=0;u<c.length;u++){var y=c[u];if(Cr(t,y)){if(!Cr(e,y))return!1;o.push(y),p++}else if(Cr(e,y))return!1}var d=Ir(e);if(c.length!==d.length&&Yo(e,d).length!==p)return!1}else{var g=Ir(e);if(g.length!==0&&Yo(e,g).length!==0)return!1}}if(o.length===0&&(i===Hn||i===zn&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var v=n.val1.get(t);if(v!==void 0){var E=n.val2.get(e);if(E!==void 0)return v===E}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var R=Cc(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),R}function Xo(t,e,r,n){for(var i=Nr(t),o=0;o<i.length;o++){var f=i[o];if(Oe(e,f,r,n))return t.delete(f),!0}return!1}function Jo(t){switch(_e(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(Gn(t))return!1}return!0}function Tc(t,e,r){var n=Jo(r);return n!=null?n:e.has(n)&&!t.has(n)}function jc(t,e,r,n,i){var o=Jo(r);if(o!=null)return o;var f=e.get(o);return f===void 0&&!e.has(o)||!Oe(n,f,!1,i)?!1:!t.has(o)&&Oe(n,f,!1,i)}function Nc(t,e,r,n){for(var i=null,o=Nr(t),f=0;f<o.length;f++){var u=o[f];if(_e(u)==="object"&&u!==null)i===null&&(i=new Set),i.add(u);else if(!e.has(u)){if(r||!Tc(t,e,u))return!1;i===null&&(i=new Set),i.add(u)}}if(i!==null){for(var c=Nr(e),p=0;p<c.length;p++){var y=c[p];if(_e(y)==="object"&&y!==null){if(!Xo(i,y,r,n))return!1}else if(!r&&!t.has(y)&&!Xo(i,y,r,n))return!1}return i.size===0}return!0}function Qo(t,e,r,n,i,o){for(var f=Nr(t),u=0;u<f.length;u++){var c=f[u];if(Oe(r,c,i,o)&&Oe(n,e.get(c),i,o))return t.delete(c),!0}return!1}function Ic(t,e,r,n){for(var i=null,o=Fo(t),f=0;f<o.length;f++){var u=Bo(o[f],2),c=u[0],p=u[1];if(_e(c)==="object"&&c!==null)i===null&&(i=new Set),i.add(c);else{var y=e.get(c);if(y===void 0&&!e.has(c)||!Oe(p,y,r,n)){if(r||!jc(t,e,c,p,n))return!1;i===null&&(i=new Set),i.add(c)}}}if(i!==null){for(var d=Fo(e),g=0;g<d.length;g++){var v=Bo(d[g],2),E=v[0],R=v[1];if(_e(E)==="object"&&E!==null){if(!Qo(i,t,E,R,r,n))return!1}else if(!r&&(!t.has(E)||!Oe(t.get(E),R,!1,n))&&!Qo(i,t,E,R,!1,n))return!1}return i.size===0}return!0}function Cc(t,e,r,n,i,o){var f=0;if(o===zo){if(!Nc(t,e,r,i))return!1}else if(o===Ko){if(!Ic(t,e,r,i))return!1}else if(o===zn)for(;f<t.length;f++)if(Kt(t,f)){if(!Kt(e,f)||!Oe(t[f],e[f],r,i))return!1}else{if(Kt(e,f))return!1;for(var u=Object.keys(t);f<u.length;f++){var c=u[f];if(!Kt(e,c)||!Oe(t[c],e[c],r,i))return!1}return u.length===Object.keys(e).length}for(f=0;f<n.length;f++){var p=n[f];if(!Oe(t[p],e[p],r,i))return!1}return!0}function Bc(t,e){return Oe(t,e,Ac)}function Mc(t,e){return Oe(t,e,kc)}var Fc={isDeepEqual:Bc,isDeepStrictEqual:Mc};function Ie(t){return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(t)}function Zo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lc(n.key),n)}}function $c(t,e,r){return e&&Zo(t.prototype,e),r&&Zo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lc(t){var e=Dc(t,"string");return Ie(e)==="symbol"?e:String(e)}function Dc(t,e){if(Ie(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ie(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qc=dn,Xt=qc.codes,ea=Xt.ERR_AMBIGUOUS_ARGUMENT,Ot=Xt.ERR_INVALID_ARG_TYPE,Wc=Xt.ERR_INVALID_ARG_VALUE,Gc=Xt.ERR_INVALID_RETURN_VALUE,Xe=Xt.ERR_MISSING_ARGS,Je=bf,Vc=je,$r=Vc.inspect,ta=je.types,Hc=ta.isPromise,Lr=ta.isRegExp,zc=Bf(),ra=Dn(),Dr=vr("RegExp.prototype.test"),Qe,Ur;function Jt(){var t=Fc;Qe=t.isDeepEqual,Ur=t.isDeepStrictEqual}var na=!1,ee=$t.exports=Kn,qr={};function Ce(t){throw t.message instanceof Error?t.message:new Je(t)}function ia(t,e,r,n,i){var o=arguments.length,f;if(o===0)f="Failed";else if(o===1)r=t,t=void 0;else{if(na===!1){na=!0;var u=T.process.emitWarning?T.process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}o===2&&(n="!=")}if(r instanceof Error)throw r;var c={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:i||ia};r!==void 0&&(c.message=r);var p=new Je(c);throw f&&(p.message=f,p.generatedMessage=!0),p}ee.fail=ia,ee.AssertionError=Je;function oa(t,e,r,n){if(!r){var i=!1;if(e===0)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new Je({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function Kn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];oa.apply(void 0,[Kn,e.length].concat(e))}ee.ok=Kn,ee.equal=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");e!=r&&Ce({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},ee.notEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");e==r&&Ce({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},ee.deepEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");Qe===void 0&&Jt(),Qe(e,r)||Ce({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},ee.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");Qe===void 0&&Jt(),Qe(e,r)&&Ce({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},ee.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");Qe===void 0&&Jt(),Ur(e,r)||Ce({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},ee.notDeepStrictEqual=aa;function aa(t,e,r){if(arguments.length<2)throw new Xe("actual","expected");Qe===void 0&&Jt(),Ur(t,e)&&Ce({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:aa})}ee.strictEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");ra(e,r)||Ce({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},ee.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new Xe("actual","expected");ra(e,r)&&Ce({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var sa=$c(function t(e,r,n){var i=this;Uc(this,t),r.forEach(function(o){o in e&&(n!==void 0&&typeof n[o]=="string"&&Lr(e[o])&&Dr(e[o],n[o])?i[o]=n[o]:i[o]=e[o])})});function Kc(t,e,r,n,i,o){if(!(r in t)||!Ur(t[r],e[r])){if(!n){var f=new sa(t,i),u=new sa(e,i,t),c=new Je({actual:f,expected:u,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=t,c.expected=e,c.operator=o.name,c}Ce({actual:t,expected:e,message:n,operator:o.name,stackStartFn:o})}}function ua(t,e,r,n){if(typeof e!="function"){if(Lr(e))return Dr(e,t);if(arguments.length===2)throw new Ot("expected",["Function","RegExp"],e);if(Ie(t)!=="object"||t===null){var i=new Je({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var o=Object.keys(e);if(e instanceof Error)o.push("name","message");else if(o.length===0)throw new Wc("error",e,"may not be an empty object");return Qe===void 0&&Jt(),o.forEach(function(f){typeof t[f]=="string"&&Lr(e[f])&&Dr(e[f],t[f])||Kc(t,e,f,r,o,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function fa(t){if(typeof t!="function")throw new Ot("fn","Function",t);try{t()}catch(e){return e}return qr}function ca(t){return Hc(t)||t!==null&&Ie(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function la(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!ca(e))throw new Gc("instance of Promise","promiseFn",e)}else if(ca(t))e=t;else throw new Ot("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return qr}).catch(function(r){return r})})}function pa(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new Ot("error",["Object","Error","Function","RegExp"],r);if(Ie(e)==="object"&&e!==null){if(e.message===r)throw new ea("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new ea("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&Ie(r)!=="object"&&typeof r!="function")throw new Ot("error",["Object","Error","Function","RegExp"],r);if(e===qr){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var o=t.name==="rejects"?"rejection":"exception";Ce({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(r&&!ua(e,r,n,t))throw e}function ha(t,e,r,n){if(e!==qr){if(typeof r=="string"&&(n=r,r=void 0),!r||ua(e,r)){var i=n?": ".concat(n):".",o=t.name==="doesNotReject"?"rejection":"exception";Ce({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}ee.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];pa.apply(void 0,[t,fa(e)].concat(n))},ee.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return la(e).then(function(o){return pa.apply(void 0,[t,o].concat(n))})},ee.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];ha.apply(void 0,[t,fa(e)].concat(n))},ee.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return la(e).then(function(o){return ha.apply(void 0,[t,o].concat(n))})},ee.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";Ie(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=$r(e);var n=new Je({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),i=e.stack;if(typeof i=="string"){var o=i.split(`
`);o.shift();for(var f=n.stack.split(`
`),u=0;u<o.length;u++){var c=f.indexOf(o[u]);if(c!==-1){f=f.slice(0,c);break}}n.stack="".concat(f.join(`
`),`
`).concat(o.join(`
`))}throw n}};function da(t,e,r,n,i){if(!Lr(e))throw new Ot("regexp","RegExp",e);var o=i==="match";if(typeof t!="string"||Dr(e,t)!==o){if(r instanceof Error)throw r;var f=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(Ie(t)," (").concat($r(t),")"):(o?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat($r(e),`. Input:

`).concat($r(t),`
`));var u=new Je({actual:t,expected:e,message:r,operator:i,stackStartFn:n});throw u.generatedMessage=f,u}}ee.match=function t(e,r,n){da(e,r,n,t,"match")},ee.doesNotMatch=function t(e,r,n){da(e,r,n,t,"doesNotMatch")};function ya(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];oa.apply(void 0,[ya,e.length].concat(e))}ee.strict=zc(ya,ee,{equal:ee.strictEqual,deepEqual:ee.deepStrictEqual,notEqual:ee.notStrictEqual,notDeepEqual:ee.notDeepStrictEqual}),ee.strict.strict=ee.strict;var Qt={exports:{}},xt=typeof Reflect=="object"?Reflect:null,ga=xt&&typeof xt.apply=="function"?xt.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Wr;xt&&typeof xt.ownKeys=="function"?Wr=xt.ownKeys:Object.getOwnPropertySymbols?Wr=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Wr=function(e){return Object.getOwnPropertyNames(e)};function Yc(t){console&&console.warn&&console.warn(t)}var ma=Number.isNaN||function(e){return e!==e};function J(){J.init.call(this)}Qt.exports=J,Qt.exports.once=Zc,J.EventEmitter=J,J.prototype._events=void 0,J.prototype._eventsCount=0,J.prototype._maxListeners=void 0;var va=10;function Gr(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(J,"defaultMaxListeners",{enumerable:!0,get:function(){return va},set:function(t){if(typeof t!="number"||t<0||ma(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");va=t}}),J.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},J.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||ma(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ba(t){return t._maxListeners===void 0?J.defaultMaxListeners:t._maxListeners}J.prototype.getMaxListeners=function(){return ba(this)},J.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var f;if(r.length>0&&(f=r[0]),f instanceof Error)throw f;var u=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw u.context=f,u}var c=o[e];if(c===void 0)return!1;if(typeof c=="function")ga(c,this,r);else for(var p=c.length,y=Aa(c,p),n=0;n<p;++n)ga(y[n],this,r);return!0};function wa(t,e,r,n){var i,o,f;if(Gr(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),f=o[e]),f===void 0)f=o[e]=r,++t._eventsCount;else if(typeof f=="function"?f=o[e]=n?[r,f]:[f,r]:n?f.unshift(r):f.push(r),i=ba(t),i>0&&f.length>i&&!f.warned){f.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=f.length,Yc(u)}return t}J.prototype.addListener=function(e,r){return wa(this,e,r,!1)},J.prototype.on=J.prototype.addListener,J.prototype.prependListener=function(e,r){return wa(this,e,r,!0)};function Xc(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ea(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Xc.bind(n);return i.listener=r,n.wrapFn=i,i}J.prototype.once=function(e,r){return Gr(r),this.on(e,Ea(this,e,r)),this},J.prototype.prependOnceListener=function(e,r){return Gr(r),this.prependListener(e,Ea(this,e,r)),this},J.prototype.removeListener=function(e,r){var n,i,o,f,u;if(Gr(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,f=n.length-1;f>=0;f--)if(n[f]===r||n[f].listener===r){u=n[f].listener,o=f;break}if(o<0)return this;o===0?n.shift():Jc(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this},J.prototype.off=J.prototype.removeListener,J.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),f;for(i=0;i<o.length;++i)f=o[i],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Sa(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Qc(i):Aa(i,i.length)}J.prototype.listeners=function(e){return Sa(this,e,!0)},J.prototype.rawListeners=function(e){return Sa(this,e,!1)},J.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ka.call(t,e)},J.prototype.listenerCount=ka;function ka(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}J.prototype.eventNames=function(){return this._eventsCount>0?Wr(this._events):[]};function Aa(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Jc(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Qc(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Zc(t,e){return new Promise(function(r,n){function i(f){t.removeListener(e,o),n(f)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Ra(t,e,o,{once:!0}),e!=="error"&&el(t,i,{once:!0})})}function el(t,e,r){typeof t.on=="function"&&Ra(t,"error",e,r)}function Ra(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var _a=Qt.exports.EventEmitter;function Oa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oa(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tl(t,e,r){return e=Ta(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ta(n.key),n)}}function nl(t,e,r){return e&&Pa(t.prototype,e),r&&Pa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ta(t){var e=il(t,"string");return typeof e=="symbol"?e:String(e)}function il(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ol=mt,Vr=ol.Buffer,al=je,Yn=al.inspect,sl=Yn&&Yn.custom||"inspect";function ul(t,e,r){Vr.prototype.copy.call(t,e,r)}var fl=function(){function t(){rl(this,t),this.head=null,this.tail=null,this.length=0}return nl(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Vr.alloc(0);for(var n=Vr.allocUnsafe(r>>>0),i=this.head,o=0;i;)ul(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var f=n.data,u=r>f.length?f.length:r;if(u===f.length?o+=f:o+=f.slice(0,r),r-=u,r===0){u===f.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=f.slice(u));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Vr.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var f=i.data,u=r>f.length?f.length:r;if(f.copy(n,n.length-r,0,u),r-=u,r===0){u===f.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=f.slice(u));break}++o}return this.length-=o,n}},{key:sl,value:function(r,n){return Yn(this,xa(xa({},n),{},{depth:0,customInspect:!1}))}}]),t}();function cl(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,T.process.nextTick(Xn,this,t)):T.process.nextTick(Xn,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?T.process.nextTick(Hr,r):(r._writableState.errorEmitted=!0,T.process.nextTick(ja,r,o)):T.process.nextTick(ja,r,o):e?(T.process.nextTick(Hr,r),e(o)):T.process.nextTick(Hr,r)}),this)}function ja(t,e){Xn(t,e),Hr(t)}function Hr(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function ll(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xn(t,e){t.emit("error",e)}function pl(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Na={destroy:cl,undestroy:ll,errorOrDestroy:pl},pt={};function hl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ia={};function xe(t,e,r){r||(r=Error);function n(o,f,u){return typeof e=="string"?e:e(o,f,u)}var i=function(o){hl(f,o);function f(u,c,p){return o.call(this,n(u,c,p))||this}return f}(r);i.prototype.name=r.name,i.prototype.code=t,Ia[t]=i}function Ca(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function dl(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function yl(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function gl(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}xe("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),xe("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&dl(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(yl(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Ca(e,"type"));else{var o=gl(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(Ca(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),xe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),xe("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),xe("ERR_STREAM_PREMATURE_CLOSE","Premature close"),xe("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),xe("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),xe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),xe("ERR_STREAM_WRITE_AFTER_END","write after end"),xe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),xe("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),xe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),pt.codes=Ia;var ml=pt.codes.ERR_INVALID_OPT_VALUE;function vl(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function bl(t,e,r,n){var i=vl(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new ml(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Ba={getHighWaterMark:bl},wl=El;function El(t,e){if(Jn("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Jn("throwDeprecation"))throw new Error(e);Jn("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Jn(t){try{if(!we.localStorage)return!1}catch{return!1}var e=we.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Ma=ne;function Fa(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Kl(e,t)}}var Pt;ne.WritableState=Zt;var Sl={deprecate:wl},$a=_a,zr=mt.Buffer,kl=(typeof we!="undefined"?we:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function Al(t){return zr.from(t)}function Rl(t){return zr.isBuffer(t)||t instanceof kl}var Qn=Na,_l=Ba,Ol=_l.getHighWaterMark,Ze=pt.codes,xl=Ze.ERR_INVALID_ARG_TYPE,Pl=Ze.ERR_METHOD_NOT_IMPLEMENTED,Tl=Ze.ERR_MULTIPLE_CALLBACK,jl=Ze.ERR_STREAM_CANNOT_PIPE,Nl=Ze.ERR_STREAM_DESTROYED,Il=Ze.ERR_STREAM_NULL_VALUES,Cl=Ze.ERR_STREAM_WRITE_AFTER_END,Bl=Ze.ERR_UNKNOWN_ENCODING,Tt=Qn.errorOrDestroy;ze.exports(ne,$a);function Ml(){}function Zt(t,e,r){Pt=Pt||jt,t=t||{},typeof r!="boolean"&&(r=e instanceof Pt),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Ol(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Wl(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Fa(this)}Zt.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r},function(){try{Object.defineProperty(Zt.prototype,"buffer",{get:Sl.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Kr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Kr=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:function(e){return Kr.call(this,e)?!0:this!==ne?!1:e&&e._writableState instanceof Zt}})):Kr=function(e){return e instanceof this};function ne(t){Pt=Pt||jt;var e=this instanceof Pt;if(!e&&!Kr.call(ne,this))return new ne(t);this._writableState=new Zt(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),$a.call(this)}ne.prototype.pipe=function(){Tt(this,new jl)};function Fl(t,e){var r=new Cl;Tt(t,r),T.process.nextTick(e,r)}function $l(t,e,r,n){var i;return r===null?i=new Il:typeof r!="string"&&!e.objectMode&&(i=new xl("chunk",["string","Buffer"],r)),i?(Tt(t,i),T.process.nextTick(n,i),!1):!0}ne.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Rl(t);return o&&!zr.isBuffer(t)&&(t=Al(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Ml),n.ending?Fl(this,r):(o||$l(this,n,t,r))&&(n.pendingcb++,i=Dl(this,n,o,t,e,r)),i},ne.prototype.cork=function(){this._writableState.corked++},ne.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Da(this,t))},ne.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Bl(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ll(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=zr.from(e,r)),e}Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Dl(t,e,r,n,i,o){if(!r){var f=Ll(e,n,i);n!==f&&(r=!0,i="buffer",n=f)}var u=e.objectMode?1:n.length;e.length+=u;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var p=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Zn(t,e,!1,u,n,i,o);return c}function Zn(t,e,r,n,i,o,f){e.writelen=n,e.writecb=f,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Nl("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Ul(t,e,r,n,i){--e.pendingcb,r?(T.process.nextTick(i,n),T.process.nextTick(er,t,e),t._writableState.errorEmitted=!0,Tt(t,n)):(i(n),t._writableState.errorEmitted=!0,Tt(t,n),er(t,e))}function ql(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Wl(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Tl;if(ql(r),e)Ul(t,r,n,e,i);else{var o=Ua(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Da(t,r),n?T.process.nextTick(La,t,r,o,i):La(t,r,o,i)}}function La(t,e,r,n){r||Gl(t,e),e.pendingcb--,n(),er(t,e)}function Gl(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Da(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var f=0,u=!0;r;)i[f]=r,r.isBuf||(u=!1),r=r.next,f+=1;i.allBuffers=u,Zn(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Fa(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,p=r.encoding,y=r.callback,d=e.objectMode?1:c.length;if(Zn(t,e,!1,d,c,p,y),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ne.prototype._write=function(t,e,r){r(new Pl("_write()"))},ne.prototype._writev=null,ne.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||zl(this,n,r),this},Object.defineProperty(ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ua(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Vl(t,e){t._final(function(r){e.pendingcb--,r&&Tt(t,r),e.prefinished=!0,t.emit("prefinish"),er(t,e)})}function Hl(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,T.process.nextTick(Vl,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function er(t,e){var r=Ua(e);if(r&&(Hl(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function zl(t,e,r){e.ending=!0,er(t,e),r&&(e.finished?T.process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Kl(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}}),ne.prototype.destroy=Qn.destroy,ne.prototype._undestroy=Qn.undestroy,ne.prototype._destroy=function(t,e){e(t)};var Yl=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},jt=Ue,qa=za,ei=Ma;ze.exports(Ue,qa);for(var Wa=Yl(ei.prototype),ti=0;ti<Wa.length;ti++){var ri=Wa[ti];Ue.prototype[ri]||(Ue.prototype[ri]=ei.prototype[ri])}function Ue(t){if(!(this instanceof Ue))return new Ue(t);qa.call(this,t),ei.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Xl)))}Object.defineProperty(Ue.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Ue.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ue.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Xl(){this._writableState.ended||T.process.nextTick(Jl,this)}function Jl(t){t.end()}Object.defineProperty(Ue.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var ni={},ii={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=mt,n=r.Buffer;function i(f,u){for(var c in f)u[c]=f[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=o);function o(f,u,c){return n(f,u,c)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(f,u,c){if(typeof f=="number")throw new TypeError("Argument must not be a number");return n(f,u,c)},o.alloc=function(f,u,c){if(typeof f!="number")throw new TypeError("Argument must be a number");var p=n(f);return u!==void 0?typeof c=="string"?p.fill(u,c):p.fill(u):p.fill(0),p},o.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return n(f)},o.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(f)}})(ii,ii.exports);var oi=ii.exports.Buffer,Ga=oi.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ql(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Zl(t){var e=Ql(t);if(typeof e!="string"&&(oi.isEncoding===Ga||!Ga(t)))throw new Error("Unknown encoding: "+t);return e||t}ni.StringDecoder=tr;function tr(t){this.encoding=Zl(t);var e;switch(this.encoding){case"utf16le":this.text=op,this.end=ap,e=4;break;case"utf8":this.fillLast=rp,e=4;break;case"base64":this.text=sp,this.end=up,e=3;break;default:this.write=fp,this.end=cp;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=oi.allocUnsafe(e)}tr.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},tr.prototype.end=ip,tr.prototype.text=np,tr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ai(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function ep(t,e,r){var n=e.length-1;if(n<r)return 0;var i=ai(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=ai(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=ai(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function tp(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function rp(t){var e=this.lastTotal-this.lastNeed,r=tp(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function np(t,e){var r=ep(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ip(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function op(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function ap(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function sp(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function up(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function fp(t){return t.toString(this.encoding)}function cp(t){return t&&t.length?this.write(t):""}var Va=pt.codes.ERR_STREAM_PREMATURE_CLOSE;function lp(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function pp(){}function hp(t){return t.setHeader&&typeof t.abort=="function"}function Ha(t,e,r){if(typeof e=="function")return Ha(t,null,e);e||(e={}),r=lp(r||pp);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||u()},f=t._writableState&&t._writableState.finished,u=function(){i=!1,f=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,p=function(){n=!1,c=!0,i||r.call(t)},y=function(E){r.call(t,E)},d=function(){var E;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(E=new Va),r.call(t,E);if(i&&!f)return(!t._writableState||!t._writableState.ended)&&(E=new Va),r.call(t,E)},g=function(){t.req.on("finish",u)};return hp(t)?(t.on("complete",u),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",p),t.on("finish",u),e.error!==!1&&t.on("error",y),t.on("close",d),function(){t.removeListener("complete",u),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",p),t.removeListener("error",y),t.removeListener("close",d)}}var si=Ha,Yr;function et(t,e,r){return e=dp(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dp(t){var e=yp(t,"string");return typeof e=="symbol"?e:String(e)}function yp(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gp=si,tt=Symbol("lastResolve"),ht=Symbol("lastReject"),rr=Symbol("error"),Xr=Symbol("ended"),dt=Symbol("lastPromise"),ui=Symbol("handlePromise"),yt=Symbol("stream");function rt(t,e){return{value:t,done:e}}function mp(t){var e=t[tt];if(e!==null){var r=t[yt].read();r!==null&&(t[dt]=null,t[tt]=null,t[ht]=null,e(rt(r,!1)))}}function vp(t){T.process.nextTick(mp,t)}function bp(t,e){return function(r,n){t.then(function(){if(e[Xr]){r(rt(void 0,!0));return}e[ui](r,n)},n)}}var wp=Object.getPrototypeOf(function(){}),Ep=Object.setPrototypeOf((Yr={get stream(){return this[yt]},next:function(){var e=this,r=this[rr];if(r!==null)return Promise.reject(r);if(this[Xr])return Promise.resolve(rt(void 0,!0));if(this[yt].destroyed)return new Promise(function(f,u){T.process.nextTick(function(){e[rr]?u(e[rr]):f(rt(void 0,!0))})});var n=this[dt],i;if(n)i=new Promise(bp(n,this));else{var o=this[yt].read();if(o!==null)return Promise.resolve(rt(o,!1));i=new Promise(this[ui])}return this[dt]=i,i}},et(Yr,Symbol.asyncIterator,function(){return this}),et(Yr,"return",function(){var e=this;return new Promise(function(r,n){e[yt].destroy(null,function(i){if(i){n(i);return}r(rt(void 0,!0))})})}),Yr),wp),Sp=function(e){var r,n=Object.create(Ep,(r={},et(r,yt,{value:e,writable:!0}),et(r,tt,{value:null,writable:!0}),et(r,ht,{value:null,writable:!0}),et(r,rr,{value:null,writable:!0}),et(r,Xr,{value:e._readableState.endEmitted,writable:!0}),et(r,ui,{value:function(o,f){var u=n[yt].read();u?(n[dt]=null,n[tt]=null,n[ht]=null,o(rt(u,!1))):(n[tt]=o,n[ht]=f)},writable:!0}),r));return n[dt]=null,gp(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[ht];o!==null&&(n[dt]=null,n[tt]=null,n[ht]=null,o(i)),n[rr]=i;return}var f=n[tt];f!==null&&(n[dt]=null,n[tt]=null,n[ht]=null,f(rt(void 0,!0))),n[Xr]=!0}),e.on("readable",vp.bind(null,n)),n},kp=Sp,Ap=function(){throw new Error("Readable.from is not available in the browser")},za=V,Nt;V.ReadableState=Ya,Qt.exports.EventEmitter;var Ka=function(e,r){return e.listeners(r).length},nr=_a,Jr=mt.Buffer,Rp=(typeof we!="undefined"?we:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function _p(t){return Jr.from(t)}function Op(t){return Jr.isBuffer(t)||t instanceof Rp}var fi=je,$;fi&&fi.debuglog?$=fi.debuglog("stream"):$=function(){};var xp=fl,ci=Na,Pp=Ba,Tp=Pp.getHighWaterMark,Qr=pt.codes,jp=Qr.ERR_INVALID_ARG_TYPE,Np=Qr.ERR_STREAM_PUSH_AFTER_EOF,Ip=Qr.ERR_METHOD_NOT_IMPLEMENTED,Cp=Qr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,It,li,pi;ze.exports(V,nr);var ir=ci.errorOrDestroy,hi=["error","close","destroy","pause","resume"];function Bp(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Ya(t,e,r){Nt=Nt||jt,t=t||{},typeof r!="boolean"&&(r=e instanceof Nt),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Tp(this,t,"readableHighWaterMark",r),this.buffer=new xp,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(It||(It=ni.StringDecoder),this.decoder=new It(t.encoding),this.encoding=t.encoding)}function V(t){if(Nt=Nt||jt,!(this instanceof V))return new V(t);var e=this instanceof Nt;this._readableState=new Ya(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),nr.call(this)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}}),V.prototype.destroy=ci.destroy,V.prototype._undestroy=ci.undestroy,V.prototype._destroy=function(t,e){e(t)},V.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Jr.from(t,e),e=""),n=!0),Xa(this,t,e,!1,n)},V.prototype.unshift=function(t){return Xa(this,t,null,!0,!1)};function Xa(t,e,r,n,i){$("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,$p(t,o);else{var f;if(i||(f=Mp(o,e)),f)ir(t,f);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Jr.prototype&&(e=_p(e)),n)o.endEmitted?ir(t,new Cp):di(t,o,e,!0);else if(o.ended)ir(t,new Np);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?di(t,o,e,!1):yi(t,o)):di(t,o,e,!1)}else n||(o.reading=!1,yi(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function di(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Zr(t)),yi(t,e)}function Mp(t,e){var r;return!Op(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new jp("chunk",["string","Buffer","Uint8Array"],e)),r}V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(t){It||(It=ni.StringDecoder);var e=new It(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Ja=1073741824;function Fp(t){return t>=Ja?t=Ja:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Qa(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Fp(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}V.prototype.read=function(t){$("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return $("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?mi(this):Zr(this),null;if(t=Qa(t,e),t===0&&e.ended)return e.length===0&&mi(this),null;var n=e.needReadable;$("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,$("length less than watermark",n)),e.ended||e.reading?(n=!1,$("reading or ended",n)):n&&($("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Qa(r,e)));var i;return t>0?i=ts(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&mi(this)),i!==null&&this.emit("data",i),i};function $p(t,e){if($("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Zr(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Za(t)))}}function Zr(t){var e=t._readableState;$("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||($("emitReadable",e.flowing),e.emittedReadable=!0,T.process.nextTick(Za,t))}function Za(t){var e=t._readableState;$("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,gi(t)}function yi(t,e){e.readingMore||(e.readingMore=!0,T.process.nextTick(Lp,t,e))}function Lp(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if($("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}V.prototype._read=function(t){ir(this,new Ip("_read()"))},V.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,$("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==T.process.stdout&&t!==T.process.stderr,o=i?u:R;n.endEmitted?T.process.nextTick(o):r.once("end",o),t.on("unpipe",f);function f(N,P){$("onunpipe"),N===r&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,y())}function u(){$("onend"),t.end()}var c=Dp(r);t.on("drain",c);var p=!1;function y(){$("cleanup"),t.removeListener("close",v),t.removeListener("finish",E),t.removeListener("drain",c),t.removeListener("error",g),t.removeListener("unpipe",f),r.removeListener("end",u),r.removeListener("end",R),r.removeListener("data",d),p=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",d);function d(N){$("ondata");var P=t.write(N);$("dest.write",P),P===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&rs(n.pipes,t)!==-1)&&!p&&($("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(N){$("onerror",N),R(),t.removeListener("error",g),Ka(t,"error")===0&&ir(t,N)}Bp(t,"error",g);function v(){t.removeListener("finish",E),R()}t.once("close",v);function E(){$("onfinish"),t.removeListener("close",v),R()}t.once("finish",E);function R(){$("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||($("pipe resume"),r.resume()),t};function Dp(t){return function(){var r=t._readableState;$("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Ka(t,"data")&&(r.flowing=!0,gi(t))}}V.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var f=rs(e.pipes,t);return f===-1?this:(e.pipes.splice(f,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},V.prototype.on=function(t,e){var r=nr.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,$("on readable",n.length,n.reading),n.length?Zr(this):n.reading||T.process.nextTick(Up,this)),r},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(t,e){var r=nr.prototype.removeListener.call(this,t,e);return t==="readable"&&T.process.nextTick(es,this),r},V.prototype.removeAllListeners=function(t){var e=nr.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&T.process.nextTick(es,this),e};function es(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Up(t){$("readable nexttick read 0"),t.read(0)}V.prototype.resume=function(){var t=this._readableState;return t.flowing||($("resume"),t.flowing=!t.readableListening,qp(this,t)),t.paused=!1,this};function qp(t,e){e.resumeScheduled||(e.resumeScheduled=!0,T.process.nextTick(Wp,t,e))}function Wp(t,e){$("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),gi(t),e.flowing&&!e.reading&&t.read(0)}V.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function gi(t){var e=t._readableState;for($("flow",e.flowing);e.flowing&&t.read()!==null;);}V.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if($("wrapped end"),r.decoder&&!r.ended){var f=r.decoder.end();f&&f.length&&e.push(f)}e.push(null)}),t.on("data",function(f){if($("wrapped data"),r.decoder&&(f=r.decoder.write(f)),!(r.objectMode&&f==null)&&!(!r.objectMode&&(!f||!f.length))){var u=e.push(f);u||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(u){return function(){return t[u].apply(t,arguments)}}(i));for(var o=0;o<hi.length;o++)t.on(hi[o],this.emit.bind(this,hi[o]));return this._read=function(f){$("wrapped _read",f),n&&(n=!1,t.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return li===void 0&&(li=kp),li(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),V._fromList=ts,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ts(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function mi(t){var e=t._readableState;$("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,T.process.nextTick(Gp,e,t))}function Gp(t,e){if($("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(V.from=function(t,e){return pi===void 0&&(pi=Ap),pi(V,t,e)});function rs(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}var ns=Ke,en=pt.codes,Vp=en.ERR_METHOD_NOT_IMPLEMENTED,Hp=en.ERR_MULTIPLE_CALLBACK,zp=en.ERR_TRANSFORM_ALREADY_TRANSFORMING,Kp=en.ERR_TRANSFORM_WITH_LENGTH_0,tn=jt;ze.exports(Ke,tn);function Yp(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Hp);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ke(t){if(!(this instanceof Ke))return new Ke(t);tn.call(this,t),this._transformState={afterTransform:Yp.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Xp)}function Xp(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){is(t,e,r)}):is(this,null,null)}Ke.prototype.push=function(t,e){return this._transformState.needTransform=!1,tn.prototype.push.call(this,t,e)},Ke.prototype._transform=function(t,e,r){r(new Vp("_transform()"))},Ke.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Ke.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},Ke.prototype._destroy=function(t,e){tn.prototype._destroy.call(this,t,function(r){e(r)})};function is(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Kp;if(t._transformState.transforming)throw new zp;return t.push(null)}var Jp=or,os=ns;ze.exports(or,os);function or(t){if(!(this instanceof or))return new or(t);os.call(this,t)}or.prototype._transform=function(t,e,r){r(null,t)};var vi;function Qp(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var as=pt.codes,Zp=as.ERR_MISSING_ARGS,eh=as.ERR_STREAM_DESTROYED;function ss(t){if(t)throw t}function th(t){return t.setHeader&&typeof t.abort=="function"}function rh(t,e,r,n){n=Qp(n);var i=!1;t.on("close",function(){i=!0}),vi===void 0&&(vi=si),vi(t,{readable:e,writable:r},function(f){if(f)return n(f);i=!0,n()});var o=!1;return function(f){if(!i&&!o){if(o=!0,th(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(f||new eh("pipe"))}}}function us(t){t()}function nh(t,e){return t.pipe(e)}function ih(t){return!t.length||typeof t[t.length-1]!="function"?ss:t.pop()}function oh(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ih(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Zp("streams");var i,o=e.map(function(f,u){var c=u<e.length-1,p=u>0;return rh(f,c,p,function(y){i||(i=y),y&&o.forEach(us),!c&&(o.forEach(us),n(i))})});return e.reduce(nh)}var ah=oh,sh=Pe,bi=Qt.exports.EventEmitter,uh=ze.exports;uh(Pe,bi),Pe.Readable=za,Pe.Writable=Ma,Pe.Duplex=jt,Pe.Transform=ns,Pe.PassThrough=Jp,Pe.finished=si,Pe.pipeline=ah,Pe.Stream=Pe;function Pe(){bi.call(this)}Pe.prototype.pipe=function(t,e){var r=this;function n(y){t.writable&&t.write(y)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",f),r.on("close",u));var o=!1;function f(){o||(o=!0,t.end())}function u(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function c(y){if(p(),bi.listenerCount(this,"error")===0)throw y}r.on("error",c),t.on("error",c);function p(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",f),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",p),r.removeListener("close",p),t.removeListener("close",p)}return r.on("end",p),r.on("close",p),t.on("close",p),t.emit("pipe",r),t};var rn=$t.exports,fh=sh.Stream,ch=je,lh=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function wi(t){return t.charAt(0).toUpperCase()+t.slice(1)}function nt(t,e,r,n,i){throw new rn.AssertionError({message:ch.format("%s (%s) is required",t,e),actual:i===void 0?typeof n:i(n),expected:e,operator:r||"===",stackStartFunction:nt.caller})}function Ei(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ct(){}var ar={bool:{check:function(t){return typeof t=="boolean"}},func:{check:function(t){return typeof t=="function"}},string:{check:function(t){return typeof t=="string"}},object:{check:function(t){return typeof t=="object"&&t!==null}},number:{check:function(t){return typeof t=="number"&&!isNaN(t)}},finite:{check:function(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return T.Buffer.isBuffer(t)},operator:"Buffer.isBuffer"},array:{check:function(t){return Array.isArray(t)},operator:"Array.isArray"},stream:{check:function(t){return t instanceof fh},operator:"instanceof",actual:Ei},date:{check:function(t){return t instanceof Date},operator:"instanceof",actual:Ei},regexp:{check:function(t){return t instanceof RegExp},operator:"instanceof",actual:Ei},uuid:{check:function(t){return typeof t=="string"&&lh.test(t)},operator:"isUUID"}};function fs(t){var e=Object.keys(ar),r;return{}.NODE_NDEBUG?r=Ct:r=function(n,i){n||nt(i,"true",n)},e.forEach(function(n){if(t){r[n]=Ct;return}var i=ar[n];r[n]=function(o,f){i.check(o)||nt(f,n,i.operator,o,i.actual)}}),e.forEach(function(n){var i="optional"+wi(n);if(t){r[i]=Ct;return}var o=ar[n];r[i]=function(f,u){f!=null&&(o.check(f)||nt(u,n,o.operator,f,o.actual))}}),e.forEach(function(n){var i="arrayOf"+wi(n);if(t){r[i]=Ct;return}var o=ar[n],f="["+n+"]";r[i]=function(u,c){Array.isArray(u)||nt(c,f,o.operator,u,o.actual);var p;for(p=0;p<u.length;p++)o.check(u[p])||nt(c,f,o.operator,u,o.actual)}}),e.forEach(function(n){var i="optionalArrayOf"+wi(n);if(t){r[i]=Ct;return}var o=ar[n],f="["+n+"]";r[i]=function(u,c){if(u!=null){Array.isArray(u)||nt(c,f,o.operator,u,o.actual);var p;for(p=0;p<u.length;p++)o.check(u[p])||nt(c,f,o.operator,u,o.actual)}}}),Object.keys(rn).forEach(function(n){if(n==="AssertionError"){r[n]=rn[n];return}if(t){r[n]=Ct;return}r[n]=rn[n]}),r._setExports=fs,r}var ph=fs({}.NODE_NDEBUG),nn={},sr=$t.exports,hh=je;nn.sprintf=Si,nn.printf=dh,nn.fprintf=cs;function Si(t){var e=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),r=new RegExp(e),n=Array.prototype.slice.call(arguments,1),i=t,o,f,u,c,p,y,d,g,v,E="",R=1,N=0,P,I;for(sr.equal("string",typeof i,"first argument must be a format string");(v=r.exec(i))!==null;){if(E+=v[1],i=i.substring(v[0].length),I=v[0].substring(v[1].length),P=N+v[1].length+1,N+=v[0].length,o=v[2]||"",f=v[3]||0,u=v[4]||"",c=v[6],p=!1,d=!1,y=" ",c=="%"){E+="%";continue}if(n.length===0)throw ur(t,P,I,"has no matching argument (too few arguments passed)");if(g=n.shift(),R++,o.match(/[\' #]/))throw ur(t,P,I,"uses unsupported flags");if(u.length>0)throw ur(t,P,I,"uses non-zero precision (not supported)");switch(o.match(/-/)&&(p=!0),o.match(/0/)&&(y="0"),o.match(/\+/)&&(d=!0),c){case"s":if(g==null)throw ur(t,P,I,"attempted to print undefined or null as a string (argument "+R+" to sprintf)");E+=ki(y,f,p,g.toString());break;case"d":g=Math.floor(g);case"f":d=d&&g>0?"+":"",E+=d+ki(y,f,p,g.toString());break;case"x":E+=ki(y,f,p,g.toString(16));break;case"j":f===0&&(f=10),E+=hh.inspect(g,!1,f);break;case"r":E+=ls(g);break;default:throw ur(t,P,I,"is not supported")}}return E+=i,E}function ur(t,e,r,n){return sr.equal(typeof t,"string"),sr.equal(typeof r,"string"),sr.equal(typeof e,"number"),sr.equal(typeof n,"string"),new Error('format string "'+t+'": conversion specifier "'+r+'" at character '+e+" "+n)}function dh(){var t=Array.prototype.slice.call(arguments);t.unshift(T.process.stdout),cs.apply(null,t)}function cs(t){var e=Array.prototype.slice.call(arguments,1);return t.write(Si.apply(this,e))}function ki(t,e,r,n){for(var i=n;i.length<e;)r?i+=t:i=t+i;return i}function ls(t){var e;if(!(t instanceof Error))throw new Error(Si("invalid type for %%r: %j",t));if(e="EXCEPTION: "+t.constructor.name+": "+t.stack,t.cause&&typeof t.cause=="function"){var r=t.cause();r&&(e+=`
Caused by: `+ls(r))}return e}var me={};function yh(t){return Array.isArray?Array.isArray(t):on(t)==="[object Array]"}me.isArray=yh;function gh(t){return typeof t=="boolean"}me.isBoolean=gh;function mh(t){return t===null}me.isNull=mh;function vh(t){return t==null}me.isNullOrUndefined=vh;function bh(t){return typeof t=="number"}me.isNumber=bh;function wh(t){return typeof t=="string"}me.isString=wh;function Eh(t){return typeof t=="symbol"}me.isSymbol=Eh;function Sh(t){return t===void 0}me.isUndefined=Sh;function kh(t){return on(t)==="[object RegExp]"}me.isRegExp=kh;function Ah(t){return typeof t=="object"&&t!==null}me.isObject=Ah;function Rh(t){return on(t)==="[object Date]"}me.isDate=Rh;function _h(t){return on(t)==="[object Error]"||t instanceof Error}me.isError=_h;function Oh(t){return typeof t=="function"}me.isFunction=Oh;function xh(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t=="undefined"}me.isPrimitive=xh,me.isBuffer=T.Buffer.isBuffer;function on(t){return Object.prototype.toString.call(t)}var ce=ph,an=je,Ph=nn,Be=me.isError,Th=Ph.sprintf,ue=H;H.VError=H,H.SError=fr,H.WError=it,H.MultiError=Bt;function Ai(t){var e,r,n,i,o;if(ce.object(t,"args"),ce.bool(t.strict,"args.strict"),ce.array(t.argv,"args.argv"),e=t.argv,e.length===0)r={},n=[];else if(Be(e[0]))r={cause:e[0]},n=e.slice(1);else if(typeof e[0]=="object"){r={};for(o in e[0])r[o]=e[0][o];n=e.slice(1)}else ce.string(e[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),r={},n=e;return ce.object(r),!r.strict&&!t.strict&&(n=n.map(function(f){return f===null?"null":f===void 0?"undefined":f})),n.length===0?i="":i=Th.apply(null,n),{options:r,shortmessage:i}}function H(){var t,e,r,n,i,o,f;if(t=Array.prototype.slice.call(arguments,0),!(this instanceof H))return e=Object.create(H.prototype),H.apply(e,arguments),e;if(r=Ai({argv:t,strict:!1}),r.options.name&&(ce.string(r.options.name,`error's "name" must be a string`),this.name=r.options.name),this.jse_shortmsg=r.shortmessage,o=r.shortmessage,n=r.options.cause,n&&(ce.ok(Be(n),"cause is not an Error"),this.jse_cause=n,r.options.skipCauseMessage||(o+=": "+n.message)),this.jse_info={},r.options.info)for(f in r.options.info)this.jse_info[f]=r.options.info[f];return this.message=o,Error.call(this,o),Error.captureStackTrace&&(i=r.options.constructorOpt||this.constructor,Error.captureStackTrace(this,i)),this}an.inherits(H,Error),H.prototype.name="VError",H.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),e},H.prototype.cause=function(){var e=H.cause(this);return e===null?void 0:e},H.cause=function(t){return ce.ok(Be(t),"err must be an Error"),Be(t.jse_cause)?t.jse_cause:null},H.info=function(t){var e,r,n;if(ce.ok(Be(t),"err must be an Error"),r=H.cause(t),r!==null?e=H.info(r):e={},typeof t.jse_info=="object"&&t.jse_info!==null)for(n in t.jse_info)e[n]=t.jse_info[n];return e},H.findCauseByName=function(t,e){var r;for(ce.ok(Be(t),"err must be an Error"),ce.string(e,"name"),ce.ok(e.length>0,"name cannot be empty"),r=t;r!==null;r=H.cause(r))if(ce.ok(Be(r)),r.name==e)return r;return null},H.hasCauseWithName=function(t,e){return H.findCauseByName(t,e)!==null},H.fullStack=function(t){ce.ok(Be(t),"err must be an Error");var e=H.cause(t);return e?t.stack+`
caused by: `+H.fullStack(e):t.stack},H.errorFromList=function(t){return ce.arrayOfObject(t,"errors"),t.length===0?null:(t.forEach(function(e){ce.ok(Be(e))}),t.length==1?t[0]:new Bt(t))},H.errorForEach=function(t,e){ce.ok(Be(t),"err must be an Error"),ce.func(e,"func"),t instanceof Bt?t.errors().forEach(function(n){e(n)}):e(t)};function fr(){var t,e,r,n;return t=Array.prototype.slice.call(arguments,0),this instanceof fr?(r=Ai({argv:t,strict:!0}),n=r.options,H.call(this,n,"%s",r.shortmessage),this):(e=Object.create(fr.prototype),fr.apply(e,arguments),e)}an.inherits(fr,H);function Bt(t){ce.array(t,"list of errors"),ce.ok(t.length>0,"must be at least one error"),this.ase_errors=t,H.call(this,{cause:t[0]},"first of %d error%s",t.length,t.length==1?"":"s")}an.inherits(Bt,H),Bt.prototype.name="MultiError",Bt.prototype.errors=function(){return this.ase_errors.slice(0)};function it(){var t,e,r,n;return t=Array.prototype.slice.call(arguments,0),this instanceof it?(r=Ai({argv:t,strict:!1}),n=r.options,n.skipCauseMessage=!0,H.call(this,n,"%s",r.shortmessage),this):(e=Object.create(it.prototype),it.apply(e,t),e)}an.inherits(it,H),it.prototype.name="WError",it.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(e+="; caused by "+this.jse_cause.toString()),e},it.prototype.cause=function(e){return Be(e)&&(this.jse_cause=e),this.jse_cause};class O{constructor(e,r){this.x=e,this.y=r}clone(){return new O(this.x,this.y)}}const ps=t=>{switch(t){case"a":return 1;case"b":return 2;case"c":return 3;case"d":return 4;case"e":return 5;case"f":return 6;case"g":return 7;case"h":return 8;default:throw new ue(`Cannot map file "${t}" to number`)}},cr=t=>{switch(t){case 1:return"a";case 2:return"b";case 3:return"c";case 4:return"d";case 5:return"e";case 6:return"f";case 7:return"g";case 8:return"h";default:throw new ue(`Cannot map "${t}" to file`)}},jh=t=>["B","K","N","Q","R"].includes(t),Nh=t=>["b","k","n","q","r"].includes(t),Ih=t=>["a","b","c","d","e","f","g","h"].includes(t),Ch=t=>typeof t=="number"&&t>0&&t<=8,de=(t,e)=>t&&e&&t.file===e.file&&t.rank===e.rank,Bh=t=>{let e="";return e+=cr(t.file),e+=t.rank,e},K=t=>t===qe.Black||t==qe.DarkGrey?"black":"white",Mh=t=>({file:t%8+1,rank:8-Math.floor(t/8)}),hs=t=>(9-t.rank-1)*8+(t.file-1),Mt=(t,e)=>t.rank===(e==="white"?8:1);class ds{constructor(){this.files=[],this.ranks=[],this.pieces=[],this.tokens=[]}isEmpty(){return!this.moveType&&this.files.length===0&&this.ranks.length===0&&this.pieces.length===0&&!this.castleSide&&typeof this.isDrawOffer=="undefined"&&typeof this.isGameOver=="undefined"}toNode(){if(this.isDrawOffer)return{sources:this.tokens,kind:"draw-offer"};if(this.isGameOver)return{sources:this.tokens,kind:"game-over",outcome:this.outcome};const e={from:{},to:{}};if(this.pieces[0]&&this.moveType!=="promotion"&&(e.piece=this.pieces[0]),e.kind="move",this.files.length===2)e.from.file=this.files[0],e.to.file=this.files[1];else if(this.files.length===1)e.to.file=this.files[0];else if(this.files.length!==0)throw new ue(`Parsed ${this.files.length} columns for a single move`);if(this.ranks.length===2)e.from.rank=this.ranks[0],e.to.rank=this.ranks[1];else if(this.ranks.length===1)e.to.rank=this.ranks[0];else if(this.ranks.length!==0)throw new ue(`Parsed ${this.ranks.length} ranks for a single move`);return this.moveType==="allegiance"?{...e,type:"allegiance",sources:this.tokens}:this.moveType==="capture"?{...e,type:"capture",sources:this.tokens}:this.moveType==="castle"?{...e,type:"castle",side:this.castleSide,sources:this.tokens}:this.moveType==="en-passant"?{...e,type:"en-passant",sources:this.tokens}:this.moveType==="promotion"?{...e,piece:null,type:"promotion",promotionTo:this.pieces[0],sources:this.tokens}:{...e,sources:this.tokens}}}const Fh=t=>{var y,d,g;let e=0;const r=["castle","draw-offer","piece","step-number","game-over","file","move-separator"],n=["step-number","move-separator"],i=new Set(r),o=(...v)=>{i.clear(),v.forEach(E=>i.add(E))};for(;e<t.length;){const v=t[e];if(!i.has(v.kind))throw new ue(`Parse error on line ${(y=v.source)==null?void 0:y.row} column ${(d=v.source)==null?void 0:d.column}: Token kind "${v.kind}" was not expected after "${(g=t[e-1])==null?void 0:g.kind}"`);switch(v.kind){case"move-separator":o(...r,"step-number","capture");break;case"step-number":o(...r,"move-separator");break;case"promotion":o("piece");break;case"allegiance":case"capture":o("file");break;case"castle":case"double-check":case"check":case"en-passant":o(...r);break;case"checkmate":o("game-over","move-separator");break;case"file":o("rank","capture","allegiance","file");break;case"draw-offer":o(...r,"game-over");break;case"game-over":o("move-separator");break;case"rank":o(...r,"allegiance","capture","check","checkmate","double-check","en-passant","promotion");break;case"piece":o("capture","allegiance","check","checkmate","game-over","file","double-check","en-passant","promotion");break}e++}e=0;const f={kind:"root",children:[]};let u=new ds;const c=()=>{u.isEmpty()||(f.children.push(u.toNode()),u=new ds)},p=()=>{var v;return(v=t[e+1])==null?void 0:v.kind};for(;e<t.length;){const v=t[e];switch(n.includes(v.kind)||u.tokens.push(v),v.kind){case"move-separator":p()!=="en-passant"&&c();break;case"piece":u.pieces.push(v.value);break;case"allegiance":u.moveType="allegiance";break;case"capture":u.moveType="capture";break;case"castle":u.moveType="castle",u.castleSide=v.side,p()!=="move-separator"&&c();break;case"check":case"double-check":u.causesCheck=!0,u.isMate=!1,p()!=="move-separator"&&c();break;case"checkmate":u.causesCheck=!0,u.isMate=!0,p()!=="move-separator"&&c();break;case"file":u.files.push(v.value);break;case"rank":u.ranks.push(v.value),p()||c();break;case"draw-offer":u.isDrawOffer=!0,p()!=="move-separator"&&c();break;case"en-passant":u.moveType="en-passant",p()!=="move-separator"&&c();break;case"promotion":u.moveType="promotion";break;case"game-over":u.isGameOver=!0,u.outcome=v.outcome,p()!=="move-separator"&&c();break}e++}return f},$h=t=>{const e=t.replace(/[]/gu,"-");let r=1,n=1,i=0;const o=[];for(;i<e.length;){const f=e[i],u=y=>e.substring(i,i+y.length)===y,c=y=>{let d="",g=i;for(;;){const v=e[g];if(g>=e.length||y(v)){g--;break}d+=v,g++}return d},p=(y,d)=>{o.push({...d,source:{column:n,row:r,length:y}}),i+=y,n+=y};if(f===`
`){r++,n=1,p(1,{kind:"move-separator"});continue}if(f==="\r"){n=1,i++;continue}if(u("e.p.")||u(" e.p.")){p(f===" "?5:4,{kind:"en-passant"});continue}if(f===" "||f===";"){p(1,{kind:"move-separator"});continue}if(u("O-O-O")||u("0-0-0")){p(5,{kind:"castle",side:"queen"});continue}if(u("O-O")||u("0-0")){p(3,{kind:"castle",side:"king"});continue}if(f==="+"||f==="\u2020"){p(1,{kind:"check"});continue}if(u("ch")){p(2,{kind:"check"});continue}if(/[#X]/gu.test(f)){p(1,{kind:"checkmate"});continue}if(u("mate")){p(4,{kind:"checkmate"});continue}if(u("dbl ch")){p(6,{kind:"double-check"});continue}if(u("++")){p(2,{kind:"double-check"});continue}if(u("0-1")){p(3,{kind:"game-over",outcome:"black"});continue}if(u("1-0")){p(3,{kind:"game-over",outcome:"white"});continue}if(u("\xBD-\xBD")){p(3,{kind:"game-over",outcome:"draw"});continue}if(u("1/2-1/2")){p(7,{kind:"game-over",outcome:"draw"});continue}if(u("0-0")){p(3,{kind:"game-over",outcome:"forfeit"});continue}if(u("\xBD-0")){p(3,{kind:"game-over",outcome:"forfeit-white"});continue}if(u("1/2-0")){p(5,{kind:"game-over",outcome:"forfeit-white"});continue}if(u("0-\xBD")){p(3,{kind:"game-over",outcome:"forfeit-black"});continue}if(u("0-1/2")){p(5,{kind:"game-over",outcome:"forfeit-black"});continue}if(/[\d]/gu.test(f)){const y=c(g=>!/[\d]/gu.test(g));if(e[i+y.length]==="."){p(y.length+1,{kind:"step-number",value:Number.parseInt(y,10)});continue}}if(/[1-8]/gu.test(f)){p(1,{kind:"rank",value:Number.parseInt(f,10)});continue}if(/[a-h]/gu.test(f)){p(1,{kind:"file",value:ps(f)});continue}if(/[KQRBN]/gu.test(f)){p(1,{kind:"piece",value:f});continue}if(/[x:]/gu.test(f)){p(1,{kind:"capture"});continue}if(u("(=)")){p(3,{kind:"draw-offer"});continue}if(f==="="||f==="/"){p(1,{kind:"promotion"});continue}if(f==="("||f===")"){p(1,{kind:"promotion",bracket:f==="("?"open":"close"});continue}if(f===">"){p(1,{kind:"allegiance"});continue}throw new ue(`Unsupported character at line ${r} column ${n}: "${f}"`)}return o},ys=t=>{switch(t.kind){case"draw-offer":return"(=)";case"game-over":{switch(t.outcome){case"black":return"0-1";case"white":return"1-0";case"draw":return"1/2-1/2";case"forfeit":return"0-0";case"forfeit-black":return"0-1/2";case"forfeit-white":return"1/2-0"}break}case"move":{const e=(r,n)=>{let i="";return t.piece&&(i+=t.piece),t.from.file&&(i+=`${cr(t.from.file)}`),t.from.rank&&(i+=`${t.from.rank}`),i+=r,t.type==="promotion"&&t.promotionTo&&(i+=`${t.promotionTo}`),t.to.file&&(i+=`${cr(t.to.file)}`),t.to.rank&&(i+=`${t.to.rank}`),n&&(i+=n),i};switch(t.type){case"allegiance":return e(">");case"capture":return e("x");case"castle":return t.side==="king"?"O-O":"O-O-O";case"en-passant":return e("x"," e.p.");case"promotion":return e("=");default:return e("")}}}},Lh=t=>{const e=[];return t.children.forEach((r,n)=>{const i=n%2===0;(f=>{i?e.push(f):e[e.length-1]+=` ${f}`})(ys(r))}),e.filter(Boolean).map((r,n)=>`${n+1}. ${r}`).join(`
`).trim()};var gs=(t=>(t[t.Ranks=0]="Ranks",t[t.ActiveColour=1]="ActiveColour",t[t.CastlingRights=2]="CastlingRights",t[t.EnPassantTargets=3]="EnPassantTargets",t[t.HalfmoveClock=4]="HalfmoveClock",t[t.FullmoveNumber=5]="FullmoveNumber",t))(gs||{});class ms{constructor(){this.allegianceMark=!1,this.castlingRights=[]}canSetPieceSide(){return!this.pieceSide}setPieceSide(e){if(!this.canSetPieceSide())throw new ue("Cannot set piece side on WipNode, because it's already set");this.pieceSide=e}canSetPiece(){return!this.piece&&this.piece!==null}setPiece(e){if(!this.canSetPiece())throw new ue("Cannot set piece on WipNode, because there is already one set");this.piece=e}canSetAllegianceMark(){return!this.allegianceMark}addAllegianceMark(){if(!this.canSetAllegianceMark())throw new ue("Allegiance mark already set");this.allegianceMark=!0}pieceDataReady(){return!this.canSetPiece()&&!this.canSetPieceSide()}setActiveColour(e){this.activeColour=e}hasCastlingRights(){return this.castlingRights.length!==0}addCastlingRight(e){this.castlingRights.push(e)}canSetEnPassantFile(){return!this.enPassantFile}setEnPassantFile(e){if(!this.canSetEnPassantFile())throw new ue("Cannot set en passant file on WipNode, because there is already one set");this.enPassantFile=e}canSetEnPassantRank(){return!this.enPassantRank}setEnPassantRank(e){if(!this.canSetEnPassantRank())throw new ue("Cannot set en passant rank on WipNode, because there is already one set");this.enPassantRank=e}canSetHalfmoveClock(){return typeof this.halfmoveClock!="number"}setHalfmoveClock(e){this.halfmoveClock=e}canSetFullmoveNumber(){return typeof this.fullmoveNumber!="number"}setFullmoveNumber(e){this.fullmoveNumber=e}isEnPassantType(){return!!(this.enPassantFile&&this.enPassantRank)}toNode(){if(this.piece||this.piece===null)return this.pieceSide==="white"?{kind:"piece",value:{allegiance:this.allegianceMark?qe.LightGrey:qe.White,piece:this.piece?this.piece.toUpperCase():null}}:{kind:"piece",value:{allegiance:this.allegianceMark?qe.DarkGrey:qe.Black,piece:this.piece?this.piece.toUpperCase():null}};if(this.activeColour)return{kind:"active-colour",value:this.activeColour};if(this.castlingRights.length>0){const e=[],r=[];return this.castlingRights.includes("K")&&r.push("king"),this.castlingRights.includes("Q")&&r.push("queen"),this.castlingRights.includes("k")&&e.push("king"),this.castlingRights.includes("q")&&e.push("queen"),{kind:"castling-rights",value:{black:e,white:r}}}if(this.enPassantFile&&this.enPassantRank)return{kind:"en-passant-targets",value:{file:this.enPassantFile,rank:this.enPassantRank}};if(typeof this.halfmoveClock=="number")return{kind:"halfmove-clock",value:this.halfmoveClock};if(typeof this.fullmoveNumber=="number")return{kind:"fullmove-number",value:this.fullmoveNumber};throw new ue(`Cannot create Node from WipNode, ${JSON.stringify({...this},null,2)}`)}}const Dh=t=>{const e={kind:"ast",children:[]};let r=0,n=0,i=new ms;const o=c=>{e.children.push(c),r++},f=()=>{e.children.push(i.toNode()),i=new ms},u=c=>{n=c,r++};for(;r<t.length;){const c=t[r],p=t[r+1];if(n===0){if((c.kind==="char"||c.kind==="number"||c.kind==="separator"||c.kind==="space")&&i.pieceDataReady()&&f(),c.kind==="char"&&Nh(c.value)){i.setPieceSide("black"),i.setPiece(c.value),p||f(),r++;continue}if(c.kind==="char"&&jh(c.value)){i.setPieceSide("white"),i.setPiece(c.value),p||f(),r++;continue}if(c.kind==="char"&&c.value==="p"){i.setPieceSide("black"),i.setPiece(null),p||f(),r++;continue}if(c.kind==="char"&&c.value==="P"){i.setPieceSide("white"),i.setPiece(null),p||f(),r++;continue}if(c.kind==="allegiance"){i.addAllegianceMark(),r++,p||f();continue}if(c.kind==="number"&&c.value>0&&c.value<=8){o({kind:"skip",value:c.value});continue}}switch(n){case 0:{if(c.kind==="separator"){r++;continue}if(c.kind==="space"){n=1,r++;continue}break}case 1:{if(c.kind==="char"&&c.value==="w"){i.setActiveColour("white"),r++;continue}if(c.kind==="char"&&c.value==="b"){i.setActiveColour("black"),r++;continue}if(c.kind==="space"){f(),u(2);continue}break}case 2:{if(c.kind==="char"&&(c.value==="q"||c.value==="Q"||c.value==="k"||c.value==="K")){i.addCastlingRight(c.value),r++;continue}if(c.kind==="hyphen"){r++;continue}if(c.kind==="space"){i.hasCastlingRights()&&f(),u(3);continue}break}case 3:{if(c.kind==="hyphen"){r++;continue}if(c.kind==="char"&&Ih(c.value)){i.setEnPassantFile(ps(c.value)),r++;continue}if(c.kind==="number"&&Ch(c.value)){i.setEnPassantRank(c.value),r++;continue}if(c.kind==="space"){i.isEnPassantType()&&f(),u(4);continue}break}case 4:{if(c.kind==="number"){i.setHalfmoveClock(c.value),r++;continue}if(c.kind==="space"){f(),u(5);continue}break}case 5:{c.kind==="number"&&(i.setFullmoveNumber(c.value),r++,f());continue}}throw new ue(`Unhandled token: ${c.kind}, cursor ${r}, state: ${gs[n]}`)}return e},Uh=t=>{let e=0;const r=[],n=(o,f)=>{r.push(f),e+=o},i=o=>{let f="",u=e;for(;;){const c=t[u];if(u>=t.length||o(c)){u--;break}f+=c,u++}return f};for(;e<t.length;){const o=t[e];if(o===">"){n(1,{kind:"allegiance"});continue}if(o==="/"){n(1,{kind:"separator"});continue}if(/\d/gu.test(o)){const f=i(u=>!/[\d]/gu.test(u));n(f.length,{kind:"number",value:Number.parseInt(f,10)});continue}if(o===" "){n(1,{kind:"space"});continue}if(o==="-"||o==="\u2013"){n(1,{kind:"hyphen"});continue}n(1,{kind:"char",value:o})}return r},Ri={sections:["positions","active-colour","castlig-rights","en-passant-targets","halfmove-clock","fullmove-number"]},qh=(t,e=Ri)=>{let r="",n=0;t.children.forEach(R=>{var N;switch(R.kind){case"piece":{n>=8&&(r+="/",n=0);const P=K(R.value.allegiance),I=(N=R.value.piece)!=null?N:"p";r+=P==="white"?I.toUpperCase():I.toLowerCase(),(R.value.allegiance===qe.DarkGrey||R.value.allegiance===qe.LightGrey)&&(r+=">"),n++;break}case"skip":{n>=8&&(r+="/",n=0),r+=R.value,n+=R.value;break}}});const i=t.children.find(R=>R.kind==="active-colour");let o="";i?o=i.value==="white"?"w":"b":o="w";const f=t.children.find(R=>R.kind==="castling-rights");let u="";f?(f.value.white.includes("king")&&(u+="K"),f.value.white.includes("queen")&&(u+="Q"),f.value.black.includes("king")&&(u+="k"),f.value.black.includes("queen")&&(u+="q")):u="-";const c=t.children.find(R=>R.kind==="en-passant-targets");let p="";c?p=Bh(c.value):p="-";const y=t.children.find(R=>R.kind==="halfmove-clock");let d="0";y&&(d=String(y.value));const g=t.children.find(R=>R.kind==="fullmove-number");let v="0";return g&&(v=String(g.value)),[e.sections.includes("positions")&&r,e.sections.includes("active-colour")&&o,e.sections.includes("castlig-rights")&&u,e.sections.includes("en-passant-targets")&&p,e.sections.includes("halfmove-clock")&&d,e.sections.includes("fullmove-number")&&v].filter(Boolean).join(" ")};class _i{clone(){const e=new _i;return e.memory=[...this.memory],e.activeColour=this.activeColour,e.enPassantTarget=this.enPassantTarget?{...this.enPassantTarget}:null,e._castlingRights=[...this._castlingRights],e.halfmoveClock=this.halfmoveClock,e.fullmoveNumber=this.fullmoveNumber,e.moveHistory={kind:"root",children:[...this.moveHistory.children]},e}removeCastlingRights(e,r){const n=this._castlingRights.findIndex(i=>i.colour===e&&i.side===r);n!==-1&&this._castlingRights.splice(n,1)}castlingRights(e){return this._castlingRights.filter(r=>r.colour===e).map(r=>r.side)}clear(){this.activeColour="white",this.enPassantTarget=null,this._castlingRights=[],this.halfmoveClock=0,this.fullmoveNumber=0,this.moveHistory={kind:"root",children:[]},this.memory=Array.from({length:64}).fill(null)}constructor(){this.clear()}dump(){const e=this.getSquares(),r=Array.from({length:8}).map(()=>Array.from({length:8}).map(()=>"."));let n="";e.filter(Boolean).forEach(i=>{var o,f,u,c;r[i.rank-1][i.file-1]=K(i.allegiance)==="white"?(f=(o=i.piece)==null?void 0:o.toUpperCase())!=null?f:"P":(c=(u=i.piece)==null?void 0:u.toLowerCase())!=null?c:"p"});for(let i=7;i>=0;i--)n+=`${i+1} `,n+=r[i].map(o=>o).join(" "),n+=`
`;return n+=`  ${r[0].map((i,o)=>cr(o+1)).join(" ")}`,n+=`
${this.activeColour} ${this.enPassantTarget&&`${cr(this.enPassantTarget.file)}${this.enPassantTarget.rank}`} ${this.halfmoveClock} ${this.fullmoveNumber}`,n}getSquares(){return this.memory.map((e,r)=>e?{...e,...Mh(r)}:null)}getSquare(e){if(!e)throw new ue.VError("Attempted to get square with no coordinates");return this.memory[hs(e)]}setSquare(e,r){this.memory[hs(e)]=r}toAFEN(e=Ri){const r={kind:"ast",children:[]};let n=0;if(e.sections.includes("positions")){for(let i=0;i<this.memory.length;i++)this.memory[i]?(n&&(r.children.push({kind:"skip",value:n}),n=0),r.children.push({kind:"piece",value:this.memory[i]})):n++,(i+1)%8===0&&n&&(r.children.push({kind:"skip",value:n}),n=0);n&&r.children.push({kind:"skip",value:n})}if(e.sections.includes("active-colour")&&r.children.push({kind:"active-colour",value:this.activeColour}),e.sections.includes("castlig-rights")){const i={kind:"castling-rights",value:{black:[],white:[]}},o=this.castlingRights("white"),f=this.castlingRights("black");o.includes("king")&&i.value.white.push("king"),o.includes("queen")&&i.value.white.push("queen"),f.includes("king")&&i.value.black.push("king"),f.includes("queen")&&i.value.black.push("queen"),(i.value.white.length>0||i.value.black.length>0)&&r.children.push(i)}return e.sections.includes("en-passant-targets")&&this.enPassantTarget&&r.children.push({kind:"en-passant-targets",value:this.enPassantTarget}),e.sections.includes("halfmove-clock")&&r.children.push({kind:"halfmove-clock",value:this.halfmoveClock}),e.sections.includes("fullmove-number")&&r.children.push({kind:"fullmove-number",value:this.fullmoveNumber}),r}fromAFEN(e){var n;this.clear();let r=0;for(const i of e.children){if(i.kind==="skip"){r+=i.value;continue}if(i.kind==="piece"){this.memory[r]=i.value,r++;continue}if(i.kind==="en-passant-targets"){this.enPassantTarget=i.value;continue}if(i.kind==="castling-rights"){i.value.black.forEach(o=>{this._castlingRights.push({colour:"black",side:o})}),i.value.white.forEach(o=>{this._castlingRights.push({colour:"white",side:o})});continue}if(i.kind==="active-colour"){this.activeColour=i.value;continue}if(i.kind==="fullmove-number"){this.fullmoveNumber=i.value;continue}if(i.kind==="halfmove-clock"){this.halfmoveClock=i.value;continue}throw new ue.VError(`Unhandled node while importing AFEN: ${(n=i.kind)!=null?n:JSON.stringify(i,null,2)}`)}}}const sn={VanillaDefault:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 0",GreyDefault:"r>n>b>q>kb>n>r>/p>p>p>p>p>p>p>p>/8/8/8/8/P>P>P>P>P>P>P>P>/R>N>B>Q>KB>N>R> w KQkq - 0 0"},qe={Black:0,DarkGrey:1,LightGrey:2,White:3},Wh=["B","N","Q","R"];class j{clear(){this.memory.clear()}clone(){const e=new j;return e.memory=this.memory.clone(),e}dump(){return this.memory.dump()}importAFEN(e){this.memory.fromAFEN(Dh(Uh(e)))}importMoveHistory(e){const r=Fh($h(e)),n=new j;n.importAFEN(sn.VanillaDefault),r.children.forEach(i=>{const o=n.getValidMoves(),f=j.findMoveIndex(o,i);if(f===-1)throw new ue(`Move ${ys(i)} is not valid on this board`);const u=n.executeMoveIndex(f);this.memory.moveHistory.children.push(u)})}toAFEN(e=Ri){return qh(this.memory.toAFEN(e))}getSquares(){return this.memory.getSquares()}get enPassantTarget(){return this.memory.enPassantTarget}get activeColour(){return this.memory.activeColour}get halfmoveClock(){return this.memory.halfmoveClock}get fullmoveNumber(){return this.memory.fullmoveNumber}get castlingRights(){return{black:this.memory.castlingRights("black"),white:this.memory.castlingRights("white")}}getMoveHistory(){return Lh(this.memory.moveHistory)}getMoveHistoryAst(){return this.memory.moveHistory}constructor(){this.memory=new _i}getPositionCount(){const e=this.memory.moveHistory.children,r=new Map,n=new j;n.importAFEN(sn.VanillaDefault);for(const i of e){n.executeNode(i);const o=n.toAFEN({sections:["positions"]}),f=r.get(o);f?r.set(o,f+1):r.set(o,1)}return r}executeAllegianceMoveNode(e){this.memory.setSquare(e.node.to,{allegiance:e.fromSide==="white"?e.to.allegiance+1:e.to.allegiance-1,piece:e.to.piece})}executeCaptureMoveNode(e){this.memory.setSquare(e.node.to,e.from),this.memory.setSquare(e.node.from,null)}executeCastleMoveNode(e){const r=e.node.from,n=e.node.to,i=e.from;if(e.to)throw new ue(`Castling cannot cause a capture on ${JSON.stringify(e.node.to)}`);this.memory.setSquare(n,i),this.memory.setSquare(r,null);const f=e.fromSide==="white"?1:8,u=e.node.side==="king"?{file:8,rank:f}:{file:1,rank:f},c=e.node.side==="king"?{file:6,rank:f}:{file:4,rank:f};this.memory.setSquare(c,this.memory.getSquare(u)),this.memory.setSquare(u,null)}executeEnPassantMoveNode(e){this.memory.setSquare({rank:e.fromSide==="white"?e.node.to.rank-1:e.node.to.rank+1,file:e.node.to.file},null),this.memory.setSquare(e.node.to,e.from),this.memory.setSquare(e.node.from,null)}executePromotionMoveNode(e){this.memory.setSquare(e.node.to,{allegiance:e.from.allegiance,piece:e.node.promotionTo}),this.memory.setSquare(e.node.from,null)}executeDefaultMoveNode(e){this.memory.setSquare(e.node.from,null),this.memory.setSquare(e.node.to,e.from),e.node.piece===null&&Math.abs(e.node.from.rank-e.node.to.rank)===2&&(this.memory.enPassantTarget={file:e.node.from.file,rank:e.fromSide==="white"?e.node.from.rank+1:e.node.from.rank-1})}executeMoveNode(e){if(!e.from.file)throw new ue(`Cannot execute node without "from.file": ${JSON.stringify(e,null,2)}`);const r=this.memory.getSquare(e.from),n=this.memory.getSquare(e.to);if(!r)throw new ue(`There is no piece on file ${e.from.file} rank ${e.from.rank}`);r.piece==="K"&&(this.memory.removeCastlingRights(this.activeColour,"king"),this.memory.removeCastlingRights(this.activeColour,"queen")),r.piece==="R"&&e.from.file===8&&this.memory.removeCastlingRights(this.activeColour,"king"),r.piece==="R"&&e.from.file===1&&this.memory.removeCastlingRights(this.activeColour,"queen"),this.memory.enPassantTarget=null;const i=K(r.allegiance),o=n?K(n.allegiance):null;switch(e.type){case"allegiance":this.executeAllegianceMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break;case"capture":this.executeCaptureMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break;case"castle":this.executeCastleMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break;case"en-passant":this.executeEnPassantMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break;case"promotion":this.executePromotionMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break;default:this.executeDefaultMoveNode({from:r,to:n,fromSide:i,toSide:o,node:e});break}switch(e.type){case"capture":case"en-passant":{this.memory.halfmoveClock=0;break}case null:case void 0:{e.piece?this.memory.halfmoveClock++:this.memory.halfmoveClock=0;break}default:{this.memory.halfmoveClock++;break}}this.memory.activeColour==="black"&&this.memory.fullmoveNumber++,this.memory.activeColour=this.memory.activeColour==="white"?"black":"white"}executeNode(e){switch(e.kind){case"move":{this.executeMoveNode(e);break}default:return}this.memory.moveHistory.children.push(e)}executeMoveIndex(e){if(e<0)throw new ue(`Move index must be positive, got ${e}`);const n=this.getValidMoves().at(e);if(!n)throw new ue(`Move with index ${e} does not exist`);return this.executeNode(n),n}getSquare(e){return this.memory.getSquare(e)}static findMoveIndex(e,r){let n=e;return r.kind==="draw-offer"&&(n=n.filter(i=>i.kind==="draw-offer")),r.kind==="game-over"&&(n=n.filter(i=>i.kind==="game-over"&&i.outcome===r.outcome)),r.kind==="move"&&(r.to&&Object.keys(r.to).length===2&&(n=n.filter(i=>i.kind==="move"&&de(i.to,r.to))),r.from&&Object.keys(r.from).length===2&&(n=n.filter(i=>i.kind==="move"&&de(i.from,r.from))),r.type&&(n=n.filter(i=>"type"in i&&i.type===r.type)),r.piece||r.piece===null?n=n.filter(i=>i.kind==="move"&&i.piece===r.piece):n.length>1&&!r.piece&&(n=n.filter(i=>i.kind==="move"&&i.piece===null)),r.type==="promotion"&&(n=n.filter(i=>"promotionTo"in i&&i.promotionTo===r.promotionTo&&de(i.to,r.to)&&de(i.from,r.from)))),n.length===1?e.indexOf(n[0]):-1}static getCoordsRelative(e,r){const n={file:e.file+r.x,rank:e.rank+r.y};return n.file>8||n.file<=0||n.rank>8||n.rank<=0?null:n}traceCaptureSteps(e,r){const n=this.memory.getSquare(e);if(!n)return[];const i=[],o=new O(Math.sign(r.x),Math.sign(r.y));let f=e;for(;f=j.getCoordsRelative(f,o),!!f;){const u=this.memory.getSquare(f);if(!u){i.push({...f});continue}if(K(u.allegiance)===K(n.allegiance))break;if(K(u.allegiance)!==K(n.allegiance)){i.push({...f});break}i.push({...f})}return i}getAttackedCoordsBySide(e){const r=this.memory.getSquares().filter(i=>i&&K(i.allegiance)===e),n=[];return r.forEach(i=>{n.push(...this.getAttackedCoordsByCoords(i))}),n}getAttackedCoordsByCoords(e){const r=[],n=this.memory.getSquare(e);if(!n)return r;const i=K(n.allegiance);if(n.piece===null){const o=j.getCoordsRelative(e,new O(i==="white"?-1:1,i==="white"?1:-1)),f=j.getCoordsRelative(e,new O(i==="white"?1:-1,i==="white"?1:-1));return[o,f]}return n.piece==="R"?[...this.traceCaptureSteps(e,new O(1,0)),...this.traceCaptureSteps(e,new O(-1,0)),...this.traceCaptureSteps(e,new O(0,1)),...this.traceCaptureSteps(e,new O(0,-1))].filter(Boolean):n.piece==="N"?[j.getCoordsRelative(e,new O(1,2)),j.getCoordsRelative(e,new O(2,1)),j.getCoordsRelative(e,new O(2,-1)),j.getCoordsRelative(e,new O(1,-2)),j.getCoordsRelative(e,new O(-1,-2)),j.getCoordsRelative(e,new O(-2,-1)),j.getCoordsRelative(e,new O(-2,1)),j.getCoordsRelative(e,new O(-1,2))].filter(Boolean):n.piece==="B"?[...this.traceCaptureSteps(e,new O(1,1)),...this.traceCaptureSteps(e,new O(1,-1)),...this.traceCaptureSteps(e,new O(-1,-1)),...this.traceCaptureSteps(e,new O(-1,1))].filter(Boolean):n.piece==="Q"?[...this.traceCaptureSteps(e,new O(1,0)),...this.traceCaptureSteps(e,new O(-1,0)),...this.traceCaptureSteps(e,new O(0,1)),...this.traceCaptureSteps(e,new O(0,-1)),...this.traceCaptureSteps(e,new O(1,1)),...this.traceCaptureSteps(e,new O(1,-1)),...this.traceCaptureSteps(e,new O(-1,-1)),...this.traceCaptureSteps(e,new O(-1,1))].filter(Boolean):n.piece==="K"?[j.getCoordsRelative(e,new O(0,1)),j.getCoordsRelative(e,new O(1,1)),j.getCoordsRelative(e,new O(1,0)),j.getCoordsRelative(e,new O(1,-1)),j.getCoordsRelative(e,new O(0,-1)),j.getCoordsRelative(e,new O(-1,-1)),j.getCoordsRelative(e,new O(-1,0)),j.getCoordsRelative(e,new O(-1,1))].filter(Boolean):r}getPossibleMoves(){const e=[],r=this.memory.getSquares(),n=this.getAttackedCoordsBySide(this.activeColour==="white"?"black":"white");return this.memory.moveHistory.children.some(o=>o.kind==="game-over")?[]:(r.forEach(o=>{if(!o)return;const f=K(o.allegiance);if(o.piece===null){const u=j.getCoordsRelative(o,new O(0,f==="white"?1:-1)),c=j.getCoordsRelative(o,new O(f==="white"?-1:1,f==="white"?1:-1)),p=j.getCoordsRelative(o,new O(f==="white"?1:-1,f==="white"?1:-1)),y=d=>Wh.map(g=>({kind:"move",type:"promotion",from:o,to:d,piece:this.memory.getSquare(o).piece,promotionTo:g}));if(this.memory.enPassantTarget&&c&&de(this.memory.enPassantTarget,c)&&!Mt(c,f)&&e.push({kind:"move",type:"en-passant",from:o,to:this.memory.enPassantTarget,piece:this.memory.getSquare(o).piece}),this.memory.enPassantTarget&&p&&de(this.memory.enPassantTarget,p)&&!Mt(p,f)&&e.push({kind:"move",type:"en-passant",from:o,to:this.memory.enPassantTarget,piece:this.memory.getSquare(o).piece}),u&&!this.memory.getSquare(u)&&!Mt(u,f)&&e.push({kind:"move",type:null,piece:this.memory.getSquare(o).piece,from:o,to:u}),c){const d=this.memory.getSquare(c);d&&K(d.allegiance)!==f&&(Mt(c,f)?e.push(...y(c)):e.push({kind:"move",type:"capture",from:o,to:c,piece:this.memory.getSquare(o).piece},{kind:"move",type:"allegiance",from:o,to:c,piece:this.memory.getSquare(o).piece}))}if(p){const d=this.memory.getSquare(p);d&&K(d.allegiance)!==f&&(Mt(p,f)?e.push(...y(p)):e.push({kind:"move",type:"capture",from:o,to:p,piece:this.memory.getSquare(o).piece},{kind:"move",type:"allegiance",from:o,to:p,piece:this.memory.getSquare(o).piece}))}if(o.rank===2&&f==="white"||o.rank===7&&f==="black"){const d=j.getCoordsRelative(o,new O(0,f==="white"?2:-2));!this.memory.getSquare(u)&&!this.memory.getSquare(d)&&e.push({kind:"move",type:null,from:o,to:d,piece:this.memory.getSquare(o).piece})}!this.getSquare(u)&&Mt(u,f)&&e.push(...y(u))}if(o.piece==="R"){const u=[...this.traceCaptureSteps(o,new O(1,0)),...this.traceCaptureSteps(o,new O(-1,0)),...this.traceCaptureSteps(o,new O(0,1)),...this.traceCaptureSteps(o,new O(0,-1))];e.push(...u.map(c=>{const p=this.memory.getSquare(c);return{kind:"move",type:p?"capture":null,from:o,to:c,piece:o.piece}}),...u.map(c=>this.memory.getSquare(c)?{kind:"move",type:"allegiance",from:o,to:c,piece:o.piece}:null).filter(Boolean))}if(o.piece==="N"&&[j.getCoordsRelative(o,new O(1,2)),j.getCoordsRelative(o,new O(2,1)),j.getCoordsRelative(o,new O(2,-1)),j.getCoordsRelative(o,new O(1,-2)),j.getCoordsRelative(o,new O(-1,-2)),j.getCoordsRelative(o,new O(-2,-1)),j.getCoordsRelative(o,new O(-2,1)),j.getCoordsRelative(o,new O(-1,2))].filter(Boolean).forEach(c=>{const p=this.memory.getSquare(c);p&&K(p.allegiance)===f||(e.push({kind:"move",type:p?"capture":null,from:o,to:c,piece:o.piece}),p&&e.push({kind:"move",type:"allegiance",from:o,to:c,piece:o.piece}))}),o.piece==="B"){const u=[...this.traceCaptureSteps(o,new O(1,1)),...this.traceCaptureSteps(o,new O(1,-1)),...this.traceCaptureSteps(o,new O(-1,-1)),...this.traceCaptureSteps(o,new O(-1,1))];e.push(...u.map(c=>{const p=this.memory.getSquare(c);return{kind:"move",type:p?"capture":null,from:o,to:c,piece:o.piece}}),...u.map(c=>this.memory.getSquare(c)?{kind:"move",type:"allegiance",from:o,to:c,piece:o.piece}:null).filter(Boolean))}if(o.piece==="Q"){const u=[...this.traceCaptureSteps(o,new O(1,0)),...this.traceCaptureSteps(o,new O(-1,0)),...this.traceCaptureSteps(o,new O(0,1)),...this.traceCaptureSteps(o,new O(0,-1)),...this.traceCaptureSteps(o,new O(1,1)),...this.traceCaptureSteps(o,new O(1,-1)),...this.traceCaptureSteps(o,new O(-1,-1)),...this.traceCaptureSteps(o,new O(-1,1))];e.push(...u.map(c=>{const p=this.memory.getSquare(c);return{kind:"move",type:p?"capture":null,from:o,to:c,piece:o.piece}}),...u.map(c=>this.memory.getSquare(c)?{kind:"move",type:"allegiance",from:o,to:c,piece:o.piece}:null).filter(Boolean))}if(o.piece==="K"){[j.getCoordsRelative(o,new O(0,1)),j.getCoordsRelative(o,new O(1,1)),j.getCoordsRelative(o,new O(1,0)),j.getCoordsRelative(o,new O(1,-1)),j.getCoordsRelative(o,new O(0,-1)),j.getCoordsRelative(o,new O(-1,-1)),j.getCoordsRelative(o,new O(-1,0)),j.getCoordsRelative(o,new O(-1,1))].filter(Boolean).forEach(d=>{const g=this.memory.getSquare(d);g&&K(g.allegiance)===f||(e.push({kind:"move",type:g?"capture":null,from:o,to:d,piece:o.piece}),g&&e.push({kind:"move",type:"allegiance",from:o,to:d,piece:o.piece}))});const c=this.memory.castlingRights("white"),p=n.some(d=>de(o,d));if(this.activeColour==="white"&&c.length>0){const d=this.memory.getSquare({file:1,rank:1}),g=this.memory.getSquare({file:2,rank:1}),v=this.memory.getSquare({file:3,rank:1}),E=this.memory.getSquare({file:4,rank:1}),R=this.memory.getSquare({file:6,rank:1}),N=this.memory.getSquare({file:7,rank:1}),P=this.memory.getSquare({file:8,rank:1}),I=n.some(x=>de(x,{file:2,rank:1})),X=n.some(x=>de(x,{file:3,rank:1})),M=n.some(x=>de(x,{file:4,rank:1})),C=n.some(x=>de(x,{file:6,rank:1})),W=n.some(x=>de(x,{file:7,rank:1}));c.forEach(x=>{x==="king"&&!p&&!R&&!N&&P&&P.piece==="R"&&K(P.allegiance)==="white"&&!C&&!W&&e.push({kind:"move",type:"castle",from:o,to:j.getCoordsRelative(o,new O(2,0)),piece:this.memory.getSquare(o).piece,side:"king"}),x==="queen"&&!p&&!g&&!v&&!E&&d&&d.piece==="R"&&K(d.allegiance)==="white"&&!I&&!X&&!M&&e.push({kind:"move",type:"castle",from:o,to:j.getCoordsRelative(o,new O(-2,0)),piece:this.memory.getSquare(o).piece,side:"queen"})})}const y=this.memory.castlingRights("black");if(this.activeColour==="black"&&y.length>0){const d=this.memory.getSquare({file:1,rank:8}),g=this.memory.getSquare({file:2,rank:8}),v=this.memory.getSquare({file:3,rank:8}),E=this.memory.getSquare({file:4,rank:8}),R=this.memory.getSquare({file:6,rank:8}),N=this.memory.getSquare({file:7,rank:8}),P=this.memory.getSquare({file:8,rank:8}),I=n.some(x=>de(x,{file:2,rank:8})),X=n.some(x=>de(x,{file:3,rank:8})),M=n.some(x=>de(x,{file:4,rank:8})),C=n.some(x=>de(x,{file:6,rank:8})),W=n.some(x=>de(x,{file:7,rank:8}));y.forEach(x=>{x==="king"&&!p&&!R&&!N&&P&&P.piece==="R"&&K(P.allegiance)==="black"&&!C&&!W&&e.push({kind:"move",type:"castle",from:o,to:j.getCoordsRelative(o,new O(2,0)),piece:this.memory.getSquare(o).piece,side:"king"}),x==="queen"&&!p&&!g&&!v&&!E&&d&&d.piece==="R"&&K(d.allegiance)==="black"&&!I&&!X&&!M&&e.push({kind:"move",type:"castle",from:o,to:j.getCoordsRelative(o,new O(-2,0)),piece:this.memory.getSquare(o).piece,side:"queen"})})}}}),e)}getGameOverNode(e,r){const n=this.getCheckMovesFromList(e),i=this.getSquares().filter(Boolean),o=this.activeColour,f=this.activeColour==="white"?"black":"white",u=(E,R)=>i.reduce((N,P)=>!R&&R!==null&&K(P.allegiance)===E||P.piece===R&&K(P.allegiance)===E?N+1:N,0),c=n.some(E=>{const R=this.memory.getSquare(E.to);return K(R.allegiance)===o});if(c&&r.length===0)return{kind:"game-over",outcome:f,reason:"Checkmate"};if(!c&&r.length===0)return{kind:"game-over",outcome:"draw",reason:"Stalemate"};const p=u(o),y=u(f);if(p===1&&y===1){const E=i.find(N=>K(N.allegiance)===f);if(i.find(N=>K(N.allegiance)===o).piece==="K"&&E.piece==="K")return{kind:"game-over",outcome:"draw",reason:"Insufficient material (king vs king)"}}if(p<=2&&y<=2){const E=i.find(I=>K(I.allegiance)===f&&I.piece==="K"),R=i.find(I=>K(I.allegiance)===f&&I.piece!=="K"),N=i.find(I=>K(I.allegiance)===o&&I.piece==="K"),P=i.find(I=>K(I.allegiance)===o&&I.piece!=="K");if(N&&E&&(!P||P.piece==="N"||P.piece==="B")&&(!R||R.piece==="N"||R.piece==="B"))return{kind:"game-over",outcome:"draw",reason:"Insufficient material (king + minor vs king + minor)"}}if(this.halfmoveClock>=100)return{kind:"game-over",outcome:"draw",reason:"50 move-rule"};const d=this.getPositionCount(),g=this.toAFEN({sections:["positions"]});if((d.get(g)||0)>=3)return{kind:"game-over",outcome:"draw",reason:"Repetition"}}getCheckMoves(){const e=this.getPossibleMoves();return this.getCheckMovesFromList(e)}getCheckMovesFromList(e){return e.filter(r=>{if(r.kind!=="move"||!r.to)return;const n=this.memory.getSquare(r.to);return n&&n.piece==="K"})}getValidMovesFromList(e,r){const n=e.filter(o=>{if(o.kind!=="move")return!0;if(r.from&&!de(r.from,o.from))return!1;const f=this.memory.getSquare(o.from);if(K(f.allegiance)!==this.activeColour)return!1;const u=this.clone();u.executeNode(o);const c=u.getPossibleMoves();return u.getCheckMovesFromList(c).every(y=>{const d=u.getSquare(y.to);return K(d.allegiance)!==this.activeColour})}),i=this.getGameOverNode(e,n);return i?[i]:n}getValidMoves(e){const r=this.getPossibleMoves();return this.getValidMovesFromList(r,{from:e,side:this.activeColour})}}var vs={exports:{}};(function(t){(function(e,r,n){function i(c){var p=this,y=u();p.next=function(){var d=2091639*p.s0+p.c*23283064365386963e-26;return p.s0=p.s1,p.s1=p.s2,p.s2=d-(p.c=d|0)},p.c=1,p.s0=y(" "),p.s1=y(" "),p.s2=y(" "),p.s0-=y(c),p.s0<0&&(p.s0+=1),p.s1-=y(c),p.s1<0&&(p.s1+=1),p.s2-=y(c),p.s2<0&&(p.s2+=1),y=null}function o(c,p){return p.c=c.c,p.s0=c.s0,p.s1=c.s1,p.s2=c.s2,p}function f(c,p){var y=new i(c),d=p&&p.state,g=y.next;return g.int32=function(){return y.next()*4294967296|0},g.double=function(){return g()+(g()*2097152|0)*11102230246251565e-32},g.quick=g,d&&(typeof d=="object"&&o(d,y),g.state=function(){return o(y,{})}),g}function u(){var c=4022871197,p=function(y){y=String(y);for(var d=0;d<y.length;d++){c+=y.charCodeAt(d);var g=.02519603282416938*c;c=g>>>0,g-=c,g*=c,c=g>>>0,g-=c,c+=g*4294967296}return(c>>>0)*23283064365386963e-26};return p}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.alea=f})(we,t,!1)})(vs);var bs={exports:{}};(function(t){(function(e,r,n){function i(u){var c=this,p="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var d=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^d^d>>>8},u===(u|0)?c.x=u:p+=u;for(var y=0;y<p.length+64;y++)c.x^=p.charCodeAt(y)|0,c.next()}function o(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c}function f(u,c){var p=new i(u),y=c&&c.state,d=function(){return(p.next()>>>0)/4294967296};return d.double=function(){do var g=p.next()>>>11,v=(p.next()>>>0)/4294967296,E=(g+v)/(1<<21);while(E===0);return E},d.int32=p.next,d.quick=d,y&&(typeof y=="object"&&o(y,p),d.state=function(){return o(p,{})}),d}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.xor128=f})(we,t,!1)})(bs);var ws={exports:{}};(function(t){(function(e,r,n){function i(u){var c=this,p="";c.next=function(){var d=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(d^d<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,u===(u|0)?c.x=u:p+=u;for(var y=0;y<p.length+64;y++)c.x^=p.charCodeAt(y)|0,y==p.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function o(u,c){return c.x=u.x,c.y=u.y,c.z=u.z,c.w=u.w,c.v=u.v,c.d=u.d,c}function f(u,c){var p=new i(u),y=c&&c.state,d=function(){return(p.next()>>>0)/4294967296};return d.double=function(){do var g=p.next()>>>11,v=(p.next()>>>0)/4294967296,E=(g+v)/(1<<21);while(E===0);return E},d.int32=p.next,d.quick=d,y&&(typeof y=="object"&&o(y,p),d.state=function(){return o(p,{})}),d}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.xorwow=f})(we,t,!1)})(ws);var Es={exports:{}};(function(t){(function(e,r,n){function i(u){var c=this;c.next=function(){var y=c.x,d=c.i,g,v;return g=y[d],g^=g>>>7,v=g^g<<24,g=y[d+1&7],v^=g^g>>>10,g=y[d+3&7],v^=g^g>>>3,g=y[d+4&7],v^=g^g<<7,g=y[d+7&7],g=g^g<<13,v^=g^g<<9,y[d]=v,c.i=d+1&7,v};function p(y,d){var g,v=[];if(d===(d|0))v[0]=d;else for(d=""+d,g=0;g<d.length;++g)v[g&7]=v[g&7]<<15^d.charCodeAt(g)+v[g+1&7]<<13;for(;v.length<8;)v.push(0);for(g=0;g<8&&v[g]===0;++g);for(g==8?v[7]=-1:v[g],y.x=v,y.i=0,g=256;g>0;--g)y.next()}p(c,u)}function o(u,c){return c.x=u.x.slice(),c.i=u.i,c}function f(u,c){u==null&&(u=+new Date);var p=new i(u),y=c&&c.state,d=function(){return(p.next()>>>0)/4294967296};return d.double=function(){do var g=p.next()>>>11,v=(p.next()>>>0)/4294967296,E=(g+v)/(1<<21);while(E===0);return E},d.int32=p.next,d.quick=d,y&&(y.x&&o(y,p),d.state=function(){return o(p,{})}),d}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.xorshift7=f})(we,t,!1)})(Es);var Ss={exports:{}};(function(t){(function(e,r,n){function i(u){var c=this;c.next=function(){var y=c.w,d=c.X,g=c.i,v,E;return c.w=y=y+1640531527|0,E=d[g+34&127],v=d[g=g+1&127],E^=E<<13,v^=v<<17,E^=E>>>15,v^=v>>>12,E=d[g]=E^v,c.i=g,E+(y^y>>>16)|0};function p(y,d){var g,v,E,R,N,P=[],I=128;for(d===(d|0)?(v=d,d=null):(d=d+"\0",v=0,I=Math.max(I,d.length)),E=0,R=-32;R<I;++R)d&&(v^=d.charCodeAt((R+32)%d.length)),R===0&&(N=v),v^=v<<10,v^=v>>>15,v^=v<<4,v^=v>>>13,R>=0&&(N=N+1640531527|0,g=P[R&127]^=v+N,E=g==0?E+1:0);for(E>=128&&(P[(d&&d.length||0)&127]=-1),E=127,R=4*128;R>0;--R)v=P[E+34&127],g=P[E=E+1&127],v^=v<<13,g^=g<<17,v^=v>>>15,g^=g>>>12,P[E]=v^g;y.w=N,y.X=P,y.i=E}p(c,u)}function o(u,c){return c.i=u.i,c.w=u.w,c.X=u.X.slice(),c}function f(u,c){u==null&&(u=+new Date);var p=new i(u),y=c&&c.state,d=function(){return(p.next()>>>0)/4294967296};return d.double=function(){do var g=p.next()>>>11,v=(p.next()>>>0)/4294967296,E=(g+v)/(1<<21);while(E===0);return E},d.int32=p.next,d.quick=d,y&&(y.X&&o(y,p),d.state=function(){return o(p,{})}),d}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.xor4096=f})(we,t,!1)})(Ss);var ks={exports:{}};(function(t){(function(e,r,n){function i(u){var c=this,p="";c.next=function(){var d=c.b,g=c.c,v=c.d,E=c.a;return d=d<<25^d>>>7^g,g=g-v|0,v=v<<24^v>>>8^E,E=E-d|0,c.b=d=d<<20^d>>>12^g,c.c=g=g-v|0,c.d=v<<16^g>>>16^E,c.a=E-d|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,u===Math.floor(u)?(c.a=u/4294967296|0,c.b=u|0):p+=u;for(var y=0;y<p.length+20;y++)c.b^=p.charCodeAt(y)|0,c.next()}function o(u,c){return c.a=u.a,c.b=u.b,c.c=u.c,c.d=u.d,c}function f(u,c){var p=new i(u),y=c&&c.state,d=function(){return(p.next()>>>0)/4294967296};return d.double=function(){do var g=p.next()>>>11,v=(p.next()>>>0)/4294967296,E=(g+v)/(1<<21);while(E===0);return E},d.int32=p.next,d.quick=d,y&&(typeof y=="object"&&o(y,p),d.state=function(){return o(p,{})}),d}r&&r.exports?r.exports=f:n&&n.amd?n(function(){return f}):this.tychei=f})(we,t,!1)})(ks);var As={exports:{}};(function(t){(function(e,r,n){var i=256,o=6,f=52,u="random",c=n.pow(i,o),p=n.pow(2,f),y=p*2,d=i-1,g;function v(M,C,W){var x=[];C=C==!0?{entropy:!0}:C||{};var D=P(N(C.entropy?[M,X(r)]:M==null?I():M,3),x),Q=new E(x),le=function(){for(var ie=Q.g(o),fe=c,ve=0;ie<p;)ie=(ie+ve)*i,fe*=i,ve=Q.g(1);for(;ie>=y;)ie/=2,fe/=2,ve>>>=1;return(ie+ve)/fe};return le.int32=function(){return Q.g(4)|0},le.quick=function(){return Q.g(4)/4294967296},le.double=le,P(X(Q.S),r),(C.pass||W||function(ie,fe,ve,pe){return pe&&(pe.S&&R(pe,Q),ie.state=function(){return R(Q,{})}),ve?(n[u]=ie,fe):ie})(le,D,"global"in C?C.global:this==n,C.state)}function E(M){var C,W=M.length,x=this,D=0,Q=x.i=x.j=0,le=x.S=[];for(W||(M=[W++]);D<i;)le[D]=D++;for(D=0;D<i;D++)le[D]=le[Q=d&Q+M[D%W]+(C=le[D])],le[Q]=C;(x.g=function(ie){for(var fe,ve=0,pe=x.i,Ae=x.j,ke=x.S;ie--;)fe=ke[pe=d&pe+1],ve=ve*i+ke[d&(ke[pe]=ke[Ae=d&Ae+fe])+(ke[Ae]=fe)];return x.i=pe,x.j=Ae,ve})(i)}function R(M,C){return C.i=M.i,C.j=M.j,C.S=M.S.slice(),C}function N(M,C){var W=[],x=typeof M,D;if(C&&x=="object")for(D in M)try{W.push(N(M[D],C-1))}catch{}return W.length?W:x=="string"?M:M+"\0"}function P(M,C){for(var W=M+"",x,D=0;D<W.length;)C[d&D]=d&(x^=C[d&D]*19)+W.charCodeAt(D++);return X(C)}function I(){try{var M;return g&&(M=g.randomBytes)?M=M(i):(M=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(M)),X(M)}catch{var C=e.navigator,W=C&&C.plugins;return[+new Date,e,W,e.screen,X(r)]}}function X(M){return String.fromCharCode.apply(0,M)}if(P(n.random(),r),t.exports){t.exports=v;try{g=require("crypto")}catch{}}else n["seed"+u]=v})(typeof self!="undefined"?self:we,[],Math)})(As);var Gh=vs.exports,Vh=bs.exports,Hh=ws.exports,zh=Es.exports,Kh=Ss.exports,Yh=ks.exports,gt=As.exports;gt.alea=Gh,gt.xor128=Vh,gt.xorwow=Hh,gt.xorshift7=zh,gt.xor4096=Kh,gt.tychei=Yh;var Xh=gt;const Jh=t=>{const e=t.allegiance===qe.Black||t.allegiance===qe.White;let r=0;switch(t.piece){case null:r=1;break;case"N":case"B":r=3;break;case"R":r=5;break;case"Q":r=9;break}return e?r:r/2},Rs=t=>{let n=t.getSquares().filter(Boolean).reduce((i,o)=>{const f=Jh(o);return K(o.allegiance)==="white"?i+f:i-f},0);return t.castlingRights.white.includes("king")&&(n+=4),t.castlingRights.white.includes("queen")&&(n+=5),t.castlingRights.black.includes("king")&&(n-=4),t.castlingRights.black.includes("queen")&&(n-=5),t.activeColour==="white"?n-=t.halfmoveClock/10:n+=t.halfmoveClock/10,n},_s=(t,e,r,n=String(Math.random()),i=performance.now(),o=Xh(n))=>{const f=t.getValidMoves(),u=new Map;for(let g=0;g<f.length;g++){const v=f[g],E=t.clone();E.executeNode(v);let R=0;const N=performance.now()-i>e,P=r<=0;N?R=-Rs(E):P||(R=_s(E,e,r-1,n,i,o).score);const I=u.get(R);u.set(R,I?[...I,g]:[g])}const c=[...u.entries()].sort(),[p,y]=t.activeColour==="white"?c.at(-1):c.at(0),d=y.at(Math.floor(o()*y.length));return{score:p,index:d,seed:n}},ge=new j;ge.importAFEN(sn.VanillaDefault);const Qh=t=>{if(t.length!==1)return null;const e=t.at(0);return!e||e.kind!=="game-over"?null:e};onmessage=t=>{const e=t.data;switch(e.type){case"import-afen":{ge.importAFEN(e.afen);break}case"import-move-history":{ge.importMoveHistory(e.history);break}case"reset":{ge.clear(),ge.importAFEN(sn.VanillaDefault),postMessage({type:"ready"});break}case"execute-move-index":{const o=ge.executeMoveIndex(e.index);postMessage({type:"node-execution",node:o});break}case"bot-move":{const o=_s(ge,15e3,3),f=ge.executeMoveIndex(o.index);postMessage({type:"node-execution",node:f});break}}const r=ge.getValidMoves(),n=Qh(r),i={type:"board-update",afen:ge.toAFEN(),moveHistory:ge.getMoveHistory(),activeColour:ge.activeColour,boardScore:Rs(ge),validMoves:r,checkMoves:ge.getCheckMoves(),enPassantTarget:ge.enPassantTarget,moveHistoryAst:ge.getMoveHistoryAst(),squares:ge.getSquares(),gameOver:n};postMessage(i)}})();
