import{Q as w,a as l}from"./QCard.dfcc8603.js";import{B as b}from"./board.be783e9f.js";import{u as y}from"./use-quasar.ebb0dbd6.js";import{u as x,_ as N,G as _,a as g}from"./board-size.06f81e4f.js";import{A as C,o as B,a as d,B as m,C as v,D as s,G as t,aj as S,M as n,N as p,O as z}from"./index.9bcfe4f0.js";import"./use-dark.327ec7b8.js";import"./QList.1ce0ed43.js";import"./QScrollObserver.40905847.js";import"./focus-manager.202af5b7.js";import"./chess-piece.6366a4dc.js";const I=C({__name:"online-game",props:{connection:{}},setup(f){const o=f;B(()=>{o.connection.disconnect()});const c=d(()=>{const e=new b;return e.importAFEN(o.connection.boardAFEN.value),e.importMoveHistory(o.connection.moveHistory.value),e}),h=e=>{o.connection.sendMessage({type:"execute-node-index",value:e})},r=y(),i=x(),u=d(()=>o.connection.serverSide.value?o.connection.mode.value==="server"?o.connection.serverSide.value:o.connection.serverSide.value==="white"?"black":"white":null);return(e,A)=>(m(),v(w,{flat:"",class:"full-width"},{default:s(()=>[t(l,{horizontal:n(r).screen.gt.sm,class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>[t(l,{style:S({width:`${n(i)}px`}),class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>{var a;return[t(N,{"model-value":e.connection.boardAFEN.value,width:n(i),onExecuteNodeIndex:h,board:c.value,perspective:(a=u.value)!=null?a:"white","play-as":["white","black"],"rounded-borders":n(r).screen.gt.xs},null,8,["model-value","width","board","perspective","rounded-borders"])]}),_:1},8,["style","class"]),t(l,{class:"q-mb-md full-width"},{default:s(()=>{var a;return[t(_,{"move-history":c.value.getMoveHistoryAst(),"active-colour":c.value.activeColour,"own-colour":(a=u.value)!=null?a:"white",afen:e.connection.boardAFEN.value},null,8,["move-history","active-colour","own-colour","afen"])]}),_:1})]),_:1},8,["horizontal","class"]),e.connection.gameOver.value?(m(),v(g,{key:0,node:e.connection.gameOver.value},null,8,["node"])):z("",!0)]),_:1}))}});export{I as default};
//# sourceMappingURL=online-game.d82d8eec.js.map
