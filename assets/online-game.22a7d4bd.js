import{Q as w,a as i}from"./QCard.ffecd5c7.js";import{B as b}from"./board.7172359f.js";import{u as y}from"./use-quasar.441e81f5.js";import{u as x,_,G as g,a as C}from"./board-size.e5873f4c.js";import{A as N,o as B,a as d,B as m,C as v,D as s,G as t,aj as S,M as n,P as p,O as z}from"./index.47e46eca.js";import"./use-dark.13434755.js";import"./QList.1452da3d.js";import"./QScrollObserver.6fe88559.js";import"./focus-manager.202af5b7.js";import"./chess-piece.89898b6a.js";import"./QSeparator.c337f640.js";const V=N({__name:"online-game",props:{connection:{}},setup(f){const o=f;B(()=>{o.connection.disconnect()});const c=d(()=>{const e=new b;return e.importAFEN(o.connection.boardAFEN.value),e.importMoveHistory(o.connection.moveHistory.value),e}),h=e=>{o.connection.sendMessage({type:"execute-node-index",value:e})},r=y(),l=x(),u=d(()=>o.connection.serverSide.value?o.connection.mode.value==="server"?o.connection.serverSide.value:o.connection.serverSide.value==="white"?"black":"white":null);return(e,A)=>(m(),v(w,{flat:"",class:"full-width"},{default:s(()=>[t(i,{horizontal:n(r).screen.gt.sm,class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>[t(i,{style:S({width:`${n(l)}px`}),class:p({"q-px-none":n(r).screen.lt.sm})},{default:s(()=>{var a;return[t(_,{"model-value":e.connection.boardAFEN.value,width:n(l),onExecuteNodeIndex:h,board:c.value,perspective:(a=u.value)!=null?a:"white","play-as":["white","black"],"rounded-borders":n(r).screen.gt.xs},null,8,["model-value","width","board","perspective","rounded-borders"])]}),_:1},8,["style","class"]),t(i,{class:"q-mb-md full-width"},{default:s(()=>{var a;return[t(g,{"move-history":c.value.getMoveHistoryAst(),"active-colour":c.value.activeColour,"own-colour":(a=u.value)!=null?a:"white",afen:e.connection.boardAFEN.value},null,8,["move-history","active-colour","own-colour","afen"])]}),_:1})]),_:1},8,["horizontal","class"]),e.connection.gameOver.value?(m(),v(C,{key:0,node:e.connection.gameOver.value},null,8,["node"])):z("",!0)]),_:1}))}});export{V as default};
//# sourceMappingURL=online-game.22a7d4bd.js.map
