import{Q as h}from"./QResizeObserver.ea2bda08.js";import{Q as _}from"./QItemLabel.c5cf6b2f.js";import{Q as c,a as l}from"./QCard.f7f5f7ac.js";import{B as b}from"./board.71748d9d.js";import{_ as w}from"./chess-board.8c6164af.js";import{u as x}from"./use-quasar.a9a6d843.js";import{M as N,o as Q,a as d,r as B,N as g,O as E,P as a,S as t,ac as k,U as C}from"./index.7ca902b9.js";import"./use-dark.242c33f8.js";import"./QList.afd901b9.js";import"./selection.9f6dca62.js";import"./focus-manager.202af5b7.js";import"./chess-piece.6cc51490.js";const y={class:"col-lg col-md-12 full-width"},P=N({__name:"online-game",props:{connection:{}},setup(u){const o=u;Q(()=>{o.connection.disconnect()});const s=d(()=>{const e=new b;return e.importAFEN(o.connection.boardAFEN.value),e}),m=e=>{const n=s.value.findMoveIndex(e);n!==-1&&o.connection.sendMessage({type:"execute-node-index",value:n})},r=B(800),p=x(),f=e=>{if(p.screen.gt.md){r.value=e.width-e.width/8-200;return}r.value=e.width-e.width/8},v=d(()=>o.connection.serverSide.value?o.connection.mode.value==="server"?o.connection.serverSide.value:o.connection.serverSide.value==="white"?"black":"white":null);return(e,n)=>(g(),E(c,{flat:""},{default:a(()=>[t(l,{class:"row"},{default:a(()=>{var i;return[t(h,{onResize:f}),t(w,{"model-value":e.connection.boardAFEN.value,width:r.value,onExecuteNode:m,board:s.value,perspective:(i=v.value)!=null?i:"white","play-as":["white","black"]},null,8,["model-value","width","board","perspective"]),k("div",y,[t(c,{flat:"",bordered:"",class:"full-height"},{default:a(()=>[t(l,{class:"bg-primary q-mb-md"},{default:a(()=>[t(_,null,{default:a(()=>[C("Board information")]),_:1})]),_:1})]),_:1})])]}),_:1})]),_:1}))}});export{P as default};
