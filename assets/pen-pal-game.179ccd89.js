import{Q as y,a as m}from"./QCard.323f699b.js";import{C as x,N as _,aj as w,a as s,D as g,E as A,F as n,J as o,ae as C,R as H}from"./index.c3ec92e5.js";import{B as N}from"./board.74b50986.js";import{_ as b,G as z}from"./game-sidebar.25346d37.js";import{H as u}from"./hex.ea077491.js";import{F as E,u as F}from"./board-audio.22cbfa7b.js";import{u as B}from"./use-quasar.3e509b92.js";import"./use-dark.c948cb08.js";import"./QList.a50dccae.js";import"./QScrollObserver.f8374e7d.js";import"./focus-manager.202af5b7.js";import"./chess-piece.54125d30.js";const i=200,j=x({__name:"pen-pal-game",setup(M){const a=_(),d=w(),f=s(()=>{const e=Array.isArray(a.params.state)?a.params.state[0]:a.params.state;return e?u.hexToUtf8(e):E.VanillaDefault}),v=s(()=>{const e=Array.isArray(a.params.history)?a.params.history[0]:a.params.history;return e?u.hexToUtf8(e):""}),t=s(()=>{const e=new N;return e.importAFEN(f.value),e.importMoveHistory(v.value),e}),l=F(),h=e=>{const c=t.value.findMoveIndex(e);c!==-1&&(t.value.executeMoveIndex(c),l==null||l.playNode(e),d.push({path:`/play/pen-pal/${u.utf8ToHex(t.value.toAFEN())}/${u.utf8ToHex(t.value.getMoveHistory())}`}))},r=B(),p=s(()=>r.screen.gt.lg?r.screen.sizes.lg-i:r.screen.gt.md?r.screen.sizes.md-i:r.screen.gt.sm?r.screen.sizes.sm-i:r.screen.width-i-150);return(e,c)=>(g(),A(y,{flat:"",class:"full-width"},{default:n(()=>[o(m,{horizontal:H(r).screen.gt.sm},{default:n(()=>[o(m,{style:C({width:`${p.value}px`})},{default:n(()=>[o(b,{onExecuteNode:h,board:t.value,perspective:t.value.activeColour,"play-as":["white","black"],width:p.value},null,8,["board","perspective","width"])]),_:1},8,["style"]),o(m,{class:"q-mb-md full-width"},{default:n(()=>[o(z,{"move-history":t.value.getMoveHistoryAst(),"active-colour":t.value.activeColour,"own-colour":t.value.activeColour,afen:t.value.toAFEN()},null,8,["move-history","active-colour","own-colour","afen"])]),_:1})]),_:1},8,["horizontal"])]),_:1}))}});export{j as default};
//# sourceMappingURL=pen-pal-game.179ccd89.js.map
